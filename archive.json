{
  "magic": "E!vIA5L86J2I",
  "timestamp": "2026-02-17T02:30:41.290676+00:00",
  "repo": "cose-wg/draft-ietf-cose-hpke",
  "labels": [
    {
      "name": "bug",
      "description": "Something isn't working",
      "color": "d73a4a"
    },
    {
      "name": "documentation",
      "description": "Improvements or additions to documentation",
      "color": "0075ca"
    },
    {
      "name": "duplicate",
      "description": "This issue or pull request already exists",
      "color": "cfd3d7"
    },
    {
      "name": "enhancement",
      "description": "New feature or request",
      "color": "a2eeef"
    },
    {
      "name": "good first issue",
      "description": "Good for newcomers",
      "color": "7057ff"
    },
    {
      "name": "help wanted",
      "description": "Extra attention is needed",
      "color": "008672"
    },
    {
      "name": "invalid",
      "description": "This doesn't seem right",
      "color": "e4e669"
    },
    {
      "name": "question",
      "description": "Further information is requested",
      "color": "d876e3"
    },
    {
      "name": "wontfix",
      "description": "This will not be worked on",
      "color": "ffffff"
    }
  ],
  "issues": [
    {
      "number": 1,
      "id": "I_kwDOGr5frc5Ey8T6",
      "title": "Compressed points",
      "url": "https://github.com/cose-wg/draft-ietf-cose-hpke/issues/1",
      "state": "CLOSED",
      "author": "hannestschofenig",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "Compressed points (which are currently not available in COSE). Should we only support compressed points or both?",
      "createdAt": "2022-02-28T15:08:41Z",
      "updatedAt": "2022-08-25T13:08:08Z",
      "closedAt": "2022-08-25T13:08:08Z",
      "comments": [
        {
          "author": "hannestschofenig",
          "authorAssociation": "COLLABORATOR",
          "body": "This issue has been resolved, see https://mailarchive.ietf.org/arch/msg/cose/9N0YT67bJcDcjmb13nGnV4C2Alo/",
          "createdAt": "2022-08-25T13:08:08Z",
          "updatedAt": "2022-08-25T13:08:08Z"
        }
      ]
    },
    {
      "number": 2,
      "id": "I_kwDOGr5frc5Ey8dN",
      "title": "Ability to carry private keys in the COSE_Key structure",
      "url": "https://github.com/cose-wg/draft-ietf-cose-hpke/issues/2",
      "state": "CLOSED",
      "author": "hannestschofenig",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "Ability to carry private keys in the COSE_Key structure\r\n\u2022 Useful for configuration\r\n\u2022 Similar to the approach taken in Encrypted Client Hello (draft-ietf-tls-esni) and\r\nPEM file format for ECH (draft-farrell-tls-pemesni",
      "createdAt": "2022-02-28T15:09:11Z",
      "updatedAt": "2023-02-21T06:47:59Z",
      "closedAt": "2023-02-21T06:47:59Z",
      "comments": [
        {
          "author": "hannestschofenig",
          "authorAssociation": "COLLABORATOR",
          "body": "This is done here: https://datatracker.ietf.org/doc/draft-ajitomi-cose-cose-key-jwk-hpke-kem/",
          "createdAt": "2023-02-21T06:47:59Z",
          "updatedAt": "2023-02-21T06:47:59Z"
        }
      ]
    },
    {
      "number": 3,
      "id": "I_kwDOGr5frc5Ey84Y",
      "title": "COSE_Key Definition",
      "url": "https://github.com/cose-wg/draft-ietf-cose-hpke/issues/3",
      "state": "CLOSED",
      "author": "hannestschofenig",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "Suggestion by Ilari is to define a new KTY for use of HPKE in the COSE_Key structure.\r\n\u2022 Pros: Good idea when other changes to the key format are made as well.\r\n\u2022 Con: It is a new structure (although cost is low). Open issue: whether a new key format (e.g. based on PQC algorithms) can \u201cautomatically\u201d become available also to COSE is unclear because additional, or new parameters may need to be defined.",
      "createdAt": "2022-02-28T15:10:39Z",
      "updatedAt": "2022-08-25T13:10:06Z",
      "closedAt": "2022-08-25T13:10:05Z",
      "comments": [
        {
          "author": "hannestschofenig",
          "authorAssociation": "COLLABORATOR",
          "body": "This issue was discussed during the last IETF meeting, see https://notes.ietf.org/notes-ietf-114-cose#",
          "createdAt": "2022-08-25T13:10:05Z",
          "updatedAt": "2022-08-25T13:10:05Z"
        }
      ]
    },
    {
      "number": 8,
      "id": "I_kwDOGr5frc5PQgt4",
      "title": "Explain the purpose of the kid",
      "url": "https://github.com/cose-wg/draft-ietf-cose-hpke/issues/8",
      "state": "CLOSED",
      "author": "hannestschofenig",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "Currently, we just say \r\n\r\n>    The sender MUST place the kid and ephemeral public key into the\r\n>    unprotected header.\r\n\r\nWe need to state somewhere that this is the kid referencing the recipient public key being used for HPKE. This is needed since the signature covering the COSE_Encrypt structure will also contain a kid, which then identifies the signer (and thereby the signers public key).",
      "createdAt": "2022-08-05T10:05:32Z",
      "updatedAt": "2023-02-22T17:49:27Z",
      "closedAt": "2023-02-22T17:49:26Z",
      "comments": [
        {
          "author": "hannestschofenig",
          "authorAssociation": "COLLABORATOR",
          "body": "Done with version -03",
          "createdAt": "2023-02-22T17:49:26Z",
          "updatedAt": "2023-02-22T17:49:26Z"
        }
      ]
    },
    {
      "number": 11,
      "id": "I_kwDOGr5frc5VRq_k",
      "title": "Use key wrap for multiple recipients",
      "url": "https://github.com/cose-wg/draft-ietf-cose-hpke/issues/11",
      "state": "CLOSED",
      "author": "laurencelundblade",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "Seems like we will have to use key wrap like ECDH-ES + A128KW and friends do in RFC 9053 because Encap() and Decap() output a shared key. The don't public-key encrypt a CEK.\r\n\r\n",
      "createdAt": "2022-11-01T01:08:47Z",
      "updatedAt": "2023-02-22T18:21:48Z",
      "closedAt": "2023-02-22T18:21:48Z",
      "comments": [
        {
          "author": "hannestschofenig",
          "authorAssociation": "COLLABORATOR",
          "body": "We discussed the use of Key Wrap for COSE-HPKE but there was no preference for it. Suggest to close this issue.",
          "createdAt": "2023-02-22T17:52:10Z",
          "updatedAt": "2023-02-22T17:52:10Z"
        },
        {
          "author": "laurencelundblade",
          "authorAssociation": "COLLABORATOR",
          "body": "Agree to close. It's now clear that we can use HPKE directly to encrypt the CEK.",
          "createdAt": "2023-02-22T18:15:16Z",
          "updatedAt": "2023-02-22T18:15:16Z"
        }
      ]
    },
    {
      "number": 12,
      "id": "I_kwDOGr5frc5VRrXc",
      "title": "inline vs detached payload",
      "url": "https://github.com/cose-wg/draft-ietf-cose-hpke/issues/12",
      "state": "CLOSED",
      "author": "laurencelundblade",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "I don't think it is necessary to mention this at all in this document. RFC 9052 takes care of all that for you.",
      "createdAt": "2022-11-01T01:11:14Z",
      "updatedAt": "2023-02-22T18:21:14Z",
      "closedAt": "2023-02-22T17:49:46Z",
      "comments": [
        {
          "author": "hannestschofenig",
          "authorAssociation": "COLLABORATOR",
          "body": "Close with version -03",
          "createdAt": "2023-02-22T17:49:46Z",
          "updatedAt": "2023-02-22T17:49:46Z"
        },
        {
          "author": "laurencelundblade",
          "authorAssociation": "COLLABORATOR",
          "body": "RFC 9052, which defines detached content uses the word \"detached\" 5 times.\r\n\r\nThis document, for which detached is entirely incidental and orthogonal, uses the word \"detached\" 9 times.",
          "createdAt": "2023-02-22T18:21:14Z",
          "updatedAt": "2023-02-22T18:21:14Z"
        }
      ]
    },
    {
      "number": 13,
      "id": "I_kwDOGr5frc5VRsjl",
      "title": "Identifying HPKE mode (mode_base, mode_auth...)",
      "url": "https://github.com/cose-wg/draft-ietf-cose-hpke/issues/13",
      "state": "CLOSED",
      "author": "laurencelundblade",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "While this draft may not support anything but base mode, in the long run other modes must be supported, like mode_auth (which seems super useful) so there must be some indication of which mode. \r\n\r\nMy first thought is that it is part of the algorithm ID, but maybe it should be a separate protected header. Seems like we have to figure that out now.",
      "createdAt": "2022-11-01T01:18:38Z",
      "updatedAt": "2023-02-22T17:50:29Z",
      "closedAt": "2023-02-22T17:50:28Z",
      "comments": [
        {
          "author": "dajiaji",
          "authorAssociation": "COLLABORATOR",
          "body": "We have defined COSE_HPKE_Sender structure for the next revision (draft-03) and I am going to suggest the following additions to the structure as a next step. Specifically, I was thinking of the need to specify the HPKE version information and support other HPKE modes other than the Base mode in the long run.\r\n\r\n```\r\nCOSE_HPKE_Sender = {\r\n\u00a0 \u00a0 ? 0 => uint,\u00a0 \u00a0 \u00a0 \u00a0 ; HPKE version (default: 1) *  ### new\r\n\u00a0 \u00a0 ? 1 => uint,\u00a0 \u00a0 \u00a0 \u00a0 ; kem id\r\n\u00a0 \u00a0 2 => uint,\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0; kdf id\r\n\u00a0 \u00a0 3 => uint,\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0; aead id\r\n\u00a0 \u00a0 4 => bstr,\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0; enc\r\n\u00a0 \u00a0 ? 5 => bstr,\u00a0 \u00a0 \u00a0 \u00a0 \u00a0; sender public key (for Auth mode or AuthPSK mode) ** ### new\r\n}\r\n\r\n* Need to confirm the HPKE version can be expressed in uint.\r\n** Need to discuss whether bstr or COSE_Key.\r\n```\r\n\r\nIn my opinion, the HPKE mode (base, auth, etc.) should be negotiated between the sender and the recipient in advance on the application layer and we don't need to specify the mode information on the COSE-HPKE layer. However, there must be a way for the sender to send the sender's public key to the recipient.\r\n\r\nWhat do you think about the idea?",
          "createdAt": "2022-11-01T03:45:23Z",
          "updatedAt": "2022-11-01T03:45:23Z"
        },
        {
          "author": "laurencelundblade",
          "authorAssociation": "COLLABORATOR",
          "body": "Hi Daisuke,\r\n\r\nThere's no assumption of negotiation for anything to do with the algorithm in any part of COSE. The HPKE mode is a fundamental part of the algorithm so now that I've thought a bit more, I think it needs to be part of the algorithm identifier. COSE_ALG_HPKE_AES_128_GCM should be COSE_ALG_HPKE_BASE_AES_128_GCM and so on.\r\n\r\nMy understanding of algorithm IDs in COSE is that they are kind of like cipher suites. They specify the whole crypto protocol and building block algorithms used. There's no parameterization of them. I think this is a good design choice.\r\n\r\nThat probably means that COSE_HPKE_Sender should just carry what it needs to carry to represent the sender bytes. So probably no KEM, KDF and AEAD IDs. They should come from the algorithm identifier.\r\n\r\n\r\n",
          "createdAt": "2022-11-01T17:10:44Z",
          "updatedAt": "2022-11-01T17:10:44Z"
        },
        {
          "author": "laurencelundblade",
          "authorAssociation": "COLLABORATOR",
          "body": "A further bit of framing -- imagine a COSE HPKE receiver that implements every standardized encryption method. If a sender creates a message using one of those standard methods, that message must contain all information necessary to decrypt it. There must not be reliance on an external protocol or negotiation. I believe that is the general way that COSE works today and how it should continue to work.",
          "createdAt": "2022-11-01T21:06:46Z",
          "updatedAt": "2022-11-01T21:06:46Z"
        },
        {
          "author": "dajiaji",
          "authorAssociation": "COLLABORATOR",
          "body": "Hi @laurencelundblade\r\n\r\n> A further bit of framing -- imagine a COSE HPKE receiver that implements every standardized encryption method. If a sender creates a message using one of those standard methods, that message must contain all information necessary to decrypt it. There must not be reliance on an external protocol or negotiation. I believe that is the general way that COSE works today and how it should continue to work.\r\n\r\nYes, I agree with you and I have proposed to define a single alg=COSE_ALG_HPKE and define COSE_HPKE_Sender for other HPKE parameters (KEM, KDF and AEAD). \r\n\r\n> COSE_ALG_HPKE_AES_128_GCM should be COSE_ALG_HPKE_BASE_AES_128_GCM and so on.\r\n\r\nWhere is KEM and KDF information? HPKE cipher suite is the combination of KEM, KDF and AEAD.\r\n\r\nIf we try to put the HPKE cipher suite in COSE alg value,  currently we have to register the combinations of 5 KEMS, 3 KDFS and 4 AEADS to IANA registry. The number of new alg values is 60. And If you want to put HPKE mode in algs as well, the number is 240...\r\n\r\nIn addition, the big problem is that we have to implement the mapping logic from the IANA COSE alg values to the IANA HPKE alg values in existing COSE libraries. If a new HPKE algorithm is defined, we have to register many alg values to the IANA COSE registry and update the existing COSE libraries. I don't want to do that. My proposal avoids these problems and can be implemented in ease.",
          "createdAt": "2022-11-01T22:59:13Z",
          "updatedAt": "2022-11-01T23:04:07Z"
        },
        {
          "author": "laurencelundblade",
          "authorAssociation": "COLLABORATOR",
          "body": "My previous identifier examples were guesses and quite wrong. Apologies. \r\n\r\nA more COSE-style integration of HPKE would have the AEAD algorithm ID in the body header parameters, not in the recipient cipher suite, so that fan out is reduced.\r\n\r\nNote that COSE chose to skip HKDF-SHA-384 for ECDH. An integration of HPKE here could do the same.\r\n\r\nFInally we can put PQ aside for now, as did the COSE authors, and just do DHKEM. We probably don\u2019t really know what the PQ algorithm will be and probably don\u2019t really want 4.\r\n\r\nThat gives a fan out of 2, not 60, DHKEM with two HKDFs.\r\n\r\nIt\u2019s back up to 4 if basic mode and auth mode are used and psk modes are skipped. It seems like we can skip them to me.\r\n\r\nMy main comments will be on the mailing list; this comment here is that the combinatoric fan out is not necessary a big problem.",
          "createdAt": "2022-11-14T10:59:41Z",
          "updatedAt": "2022-11-14T10:59:41Z"
        },
        {
          "author": "dajiaji",
          "authorAssociation": "COLLABORATOR",
          "body": "> Note that COSE chose to skip HKDF-SHA-384 for ECDH. An integration of HPKE here could do the same.\r\n\r\nCould you tell me the reason why the COSE WG chose to skip HKDF-SHA-384? Did the COSE WG exclude HKDF-SHA384 after considering the various use cases that might use COSE?\r\n\r\nI believe that the COSE-HPKE layer should NOT assume a specific application; the COSE-HPKE layer should be generic.\r\n\r\n> That gives a fan out of 2,\r\n\r\nDoes this mean that DHKEM(X25519) and DHKEM(X448) will not be used in COSE-HPKE...? \r\n\r\nAnd I think behind your answer \"2\" is the assumption that KDFs may be uniquely determined by KEMs, but this assumption also should not be made in the generic layer like COSE-HPKE because a KEM and a KDF are independent of each other .\r\n\r\nNot 2 but at least 12 (4 kems and 3 kdfs) because X25519, X448 and HKDF-SHA384 should not be prohibited. \r\n\r\nAs Ilari mentioned on the COSE WG mailing list, to begin with, the basic premise is that it makes no sense to separate KEM (&KDF) and AEAD and map them to the COSE layer for definition.",
          "createdAt": "2022-11-14T13:37:26Z",
          "updatedAt": "2022-11-14T13:37:26Z"
        },
        {
          "author": "laurencelundblade",
          "authorAssociation": "COLLABORATOR",
          "body": "> > Note that COSE chose to skip HKDF-SHA-384 for ECDH. An integration of HPKE here could do the same.\r\n> \r\n> Could you tell me the reason why the COSE WG chose to skip HKDF-SHA-384? Did the COSE WG exclude HKDF-SHA384 after considering the various use cases that might use COSE?\r\n> \r\n> I believe that the COSE-HPKE layer should NOT assume a specific application; the COSE-HPKE layer should be generic.\r\n\r\nI don't really know why. I wasn't around for the discussion.\r\n\r\nMy guess is that the two options were considered sufficient, one for high-security with larger messages and compute times and the other for low-security. And if someone wanted medium they could go off and define it for themselves.\r\n\r\nI don't think any particular use cases are built into this design choice.\r\n\r\n> \r\n> > That gives a fan out of 2,\r\n> \r\n> Does this mean that DHKEM(X25519) and DHKEM(X448) will not be used in COSE-HPKE...?\r\n> \r\n\r\nI need to do more reading here to know for certain, but I think the DHKEM algorithm itself works with keys that use NIST, Edwards and other curves. In COSE's use of DH (similar to a KEM) there is no binding to the curve type of the key.\r\n\r\nHowever, I think HPKE has chosen to mix in the curve of the keys in the meta information that is hashed into the output of HPKE. This is possibly to defend against some minor attacks that COSE's use of DH doesn't. That means in HPKE it might be true that there needs to more DHKEM identifiers, but that would be because of the overall HPKE design, not because of how DHKEM's work. \r\n\r\nI'm not sure about this though.\r\n\r\n\r\n> And I think behind your answer \"2\" is the assumption that KDFs may be uniquely determined by KEMs, but this assumption also should not be made in the generic layer like COSE-HPKE because a KEM and a KDF are independent of each other .\r\n\r\nYes, KEM and KDF are of course independent, but the COSE design chose to bind ECDH (similar to a KEM) and KDF (plus key wrap too) into one identifier and made it through the whole RFC standardization process with that design.\r\n\r\n> \r\n> Not 2 but at least 12 (4 kems and 3 kdfs) because X25519, X448 and HKDF-SHA384 should not be prohibited.\r\n\r\nThey are not prohibited. They are just not the primary ones initially registered.\r\n\r\n> \r\n> As Ilari mentioned on the COSE WG mailing list, to begin with, the basic premise is that it makes no sense to separate KEM (&KDF) and AEAD and map them to the COSE layer for definition.\r\n\r\nIt's a design trade-off to me. To me the design HPKE chose for its APIs works, but the design COSE chose for ECDH also works and is worth considering.\r\n",
          "createdAt": "2022-11-19T22:52:38Z",
          "updatedAt": "2022-11-19T22:52:38Z"
        },
        {
          "author": "hannestschofenig",
          "authorAssociation": "COLLABORATOR",
          "body": "Closed with version -03 (only support for base mode)",
          "createdAt": "2023-02-22T17:50:28Z",
          "updatedAt": "2023-02-22T17:50:28Z"
        }
      ]
    },
    {
      "number": 14,
      "id": "I_kwDOGr5frc5bnFxv",
      "title": "Support for more than HPKE base mode",
      "url": "https://github.com/cose-wg/draft-ietf-cose-hpke/issues/14",
      "state": "CLOSED",
      "author": "laurencelundblade",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "Since we're not defining how to integrate HPKE auth and other modes in this document is shouldn't be titled as if it were the full HPKE integration into COSE.\r\n",
      "createdAt": "2023-01-17T20:09:21Z",
      "updatedAt": "2023-10-02T11:48:32Z",
      "closedAt": "2023-10-02T11:48:32Z",
      "comments": [
        {
          "author": "hannestschofenig",
          "authorAssociation": "COLLABORATOR",
          "body": "The abstract talks about this. This should be good enough",
          "createdAt": "2023-02-22T17:51:02Z",
          "updatedAt": "2023-02-22T17:51:02Z"
        },
        {
          "author": "laurencelundblade",
          "authorAssociation": "COLLABORATOR",
          "body": "I would prefer it in the title, but if not in the title at least be clear that auth mode is not supported in the text and maybe that it should be supported in future work.\r\n\r\nTo go a bit further, I'm surprised auth mode is not of more interest. While I understand why it's not good for SUIT, it seems like it will:\r\n - is a solution to the sign-then-encrypt vs encrypt-then-sign issue \r\n - be smaller on the wire\r\n - smaller code size\r\n\r\n(Neither sign-then-encrypt vs encrypt-then-sign issue are fool-proof against all attacks in all use cases. It's not a problem for most use cases, but it's also nice to have fool-proof solutions).\r\n",
          "createdAt": "2023-02-22T18:09:17Z",
          "updatedAt": "2023-02-22T18:09:17Z"
        },
        {
          "author": "hannestschofenig",
          "authorAssociation": "COLLABORATOR",
          "body": "Maybe we can leave it as an open issuer for now and discuss it at the meeting",
          "createdAt": "2023-03-10T16:04:07Z",
          "updatedAt": "2023-03-10T16:04:07Z"
        }
      ]
    },
    {
      "number": 17,
      "id": "I_kwDOGr5frc5glRs1",
      "title": "Confidentiality without integrity",
      "url": "https://github.com/cose-wg/draft-ietf-cose-hpke/issues/17",
      "state": "CLOSED",
      "author": "hannestschofenig",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "In https://mailarchive.ietf.org/arch/msg/cose/fkF83PJ7f5hhe5ctERQ_7-K0FT8/ Laurence provided motivation for this feature:\r\n\r\n> It\u2019s kind of the same question as to why COSE_Encrypt is distinct from COSE_Sign or why there is HPKE mode_base that is separate from HPKE mode_auth and perhaps why integrated signing and encryption <https://en.wikipedia.org/wiki/Integrated_Encryption_Scheme> like ECIES <https://www.secg.org/sec1-v2.pdf> and HPKE mode_auth aren\u2019t more popular (seems like they have some very good characteristics to me).\r\n> \r\n> Probably the main answer is that the payload is authenticity-protected in some other way \u2014 TLS, IPSec or something proprietary. End-end system architectures vary quite a lot and often have legacy components.\r\n> \r\n> A good example of no authenticity at all is for-pay content distribution like streaming TV shows, sports events and such. Another may be use of an unreliable transport (e.g., UDP) and being OK with drop outs (e.g., voice or video). It\u2019s not possible to authenticate the stream because of the drop outs and it\u2019s too expensive to authenticate individual packets. Another might be difficulty with end-end key management for authenticity.\r\n> \r\n> There are probably other examples, but I admit they are difficult to come up with. Authenticity should be strongly recommended.\r\n> ",
      "createdAt": "2023-03-12T14:24:45Z",
      "updatedAt": "2023-10-03T08:13:52Z",
      "closedAt": "2023-10-03T08:13:52Z",
      "comments": [
        {
          "author": "hannestschofenig",
          "authorAssociation": "COLLABORATOR",
          "body": "This issue has been addressed.",
          "createdAt": "2023-10-03T08:13:52Z",
          "updatedAt": "2023-10-03T08:13:52Z"
        }
      ]
    },
    {
      "number": 23,
      "id": "I_kwDOGr5frc5g98re",
      "title": "Externally Supplied AAD only processed at layer 0",
      "url": "https://github.com/cose-wg/draft-ietf-cose-hpke/issues/23",
      "state": "CLOSED",
      "author": "hannestschofenig",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "Laurence wrote:\r\n\r\n> However, it doesn\u2019t seem so strongly stated in 9052 that we couldn\u2019t consider an alternative. If I understand correctly Illari recently suggested that external_aad be an empty bstr in COSE_Recipients.\r\n> \r\n> I see some implementation benefits to this. The Externally Supplied AAD would only be processed at layer 0 and wouldn't have to be passed to COSE_Recipient creation saving some code. Theoretically, Externally Supplied AAD can be large which means you have to either have a buffer to hold the entire Enc_structure.   While you can\u2019t avoid this at layer 0 it might be nice to avoid it at layer 1.\r\n> \r\n> I don\u2019t see a security issue here. The Externally Supplied AAD is covered just fine at layer 0.\r\n> \r\n> We could specify this only for HPKE.  \r\n> \r\n> I don\u2019t think this is a big deal either way and what\u2019s in the -04 draft is OK, but thought I\u2019d bring up the alternative.\r\n> \r\n> \r\n> Also, It seems like there should be Errata for 9052 here. It could say either it is always Externally Supplied AAD, always an empty bstr or it varies with the key distribution method.\r\n> \r\n> ",
      "createdAt": "2023-03-16T07:09:34Z",
      "updatedAt": "2025-07-02T19:09:35Z",
      "closedAt": "2025-07-02T19:09:35Z",
      "comments": [
        {
          "author": "OR13",
          "authorAssociation": "COLLABORATOR",
          "body": "@hannestschofenig whats your opinion on the relationship of this issue to https://github.com/cose-wg/HPKE/issues/25",
          "createdAt": "2023-10-10T13:31:10Z",
          "updatedAt": "2023-10-10T13:31:10Z"
        },
        {
          "author": "ilaril",
          "authorAssociation": "CONTRIBUTOR",
          "body": "I think what the draft currently does with this (all the external_aad fields are independent and default to empty) is fine.\r\n\r\nRFC 9052 does say that external_aad fields default to empty, but does not explicitly say if the fields independent or not (I think those should be all independent).",
          "createdAt": "2024-12-12T16:41:39Z",
          "updatedAt": "2024-12-12T16:41:39Z"
        },
        {
          "author": "hannestschofenig",
          "authorAssociation": "COLLABORATOR",
          "body": "This issue is taken over by events and the current draft version describes a different approach",
          "createdAt": "2025-07-02T19:09:35Z",
          "updatedAt": "2025-07-02T19:09:35Z"
        }
      ]
    },
    {
      "number": 24,
      "id": "I_kwDOGr5frc5hG8Wk",
      "title": "Use of HPKE for COSE_Mac",
      "url": "https://github.com/cose-wg/draft-ietf-cose-hpke/issues/24",
      "state": "CLOSED",
      "author": "hannestschofenig",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "Daisuke wrote:\r\n\r\n> COSE-HPKE can be applied to not only COSE_Encrypt but also COSE_Mac for the two layer structure. I think it would be better to include an explanation about COSE_Mac ( and provide an example for COSE_Mac).",
      "createdAt": "2023-03-17T12:11:27Z",
      "updatedAt": "2023-10-03T08:12:23Z",
      "closedAt": "2023-10-03T08:12:23Z",
      "comments": [
        {
          "author": "dajiaji",
          "authorAssociation": "COLLABORATOR",
          "body": "I believe there should be no room for debate that COSE-HPKE can be used for COSE_Mac as well, as long as it can be used for encrypting the CEK.\r\n\r\nIf you don't mind, shall I submit a pull request on this matter, including usage examples?",
          "createdAt": "2023-04-18T21:59:20Z",
          "updatedAt": "2023-04-18T21:59:33Z"
        },
        {
          "author": "hannestschofenig",
          "authorAssociation": "COLLABORATOR",
          "body": "We in general need more examples in the draft and having examples for COSE_Mac would be good.\r\n\r\nI will close the issue nevertheless because I have addressed the original issue",
          "createdAt": "2023-10-03T08:12:23Z",
          "updatedAt": "2023-10-03T08:12:23Z"
        }
      ]
    },
    {
      "number": 25,
      "id": "I_kwDOGr5frc5hG8lL",
      "title": "Empty String for Info Value",
      "url": "https://github.com/cose-wg/draft-ietf-cose-hpke/issues/25",
      "state": "CLOSED",
      "author": "hannestschofenig",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "Daisuke wrote:\r\n\r\n> At the very least, until now, I believed that the `info` value for HPKE should be an empty string. The reason is that HPKE interface used in COSE is essentially the Single-shot API, and a single HPKE encryption context is not used across multiple encryption/decryption processes. In other words, `aad` alone is sufficient. As I mentioned before, RFC9180 Section 8.1 also says \"Implementations which only expose single-shot APIs should not allow applications to use both Setup info and Context aad or exporter_context auxiliary information parameters\".  I will also give it some more consideration though.",
      "createdAt": "2023-03-17T12:12:02Z",
      "updatedAt": "2025-07-02T19:08:47Z",
      "closedAt": "2025-07-02T19:08:46Z",
      "comments": [
        {
          "author": "hannestschofenig",
          "authorAssociation": "COLLABORATOR",
          "body": "I have just been wondering why we need to restrict the use of HPKE with COSE to the single-shot APIs. The single-shot APIs are likely to be a common use case but I could imagine that the other APIs are used as well.\r\n\r\n",
          "createdAt": "2023-04-13T15:41:38Z",
          "updatedAt": "2023-04-13T15:41:38Z"
        },
        {
          "author": "hannestschofenig",
          "authorAssociation": "COLLABORATOR",
          "body": "Btw, the APIs are not mandatory to implement and an implementer may choose to implement a different API.",
          "createdAt": "2023-04-13T15:42:54Z",
          "updatedAt": "2023-04-13T15:42:54Z"
        },
        {
          "author": "dajiaji",
          "authorAssociation": "COLLABORATOR",
          "body": "@hannestschofenig  thank you for creating the issue. I am not very confident about this matter.\r\nI wanted to hear the opinions of other experts, so I tried posting this matter on the COSE WG mailing list:\r\n\r\nhttps://mailarchive.ietf.org/arch/msg/cose/dJsXu_gscj5eefWslU6QOJmUj8c/",
          "createdAt": "2023-04-18T13:57:22Z",
          "updatedAt": "2023-04-18T13:57:22Z"
        },
        {
          "author": "OR13",
          "authorAssociation": "COLLABORATOR",
          "body": "https://www.ietf.org/archive/id/draft-ietf-cose-hpke-05.html#info\r\nhttps://www.rfc-editor.org/rfc/rfc9053#section-5.2",
          "createdAt": "2023-04-18T14:49:40Z",
          "updatedAt": "2023-04-18T14:51:12Z"
        },
        {
          "author": "ilaril",
          "authorAssociation": "CONTRIBUTOR",
          "body": "It is not possible to non-trivially use non-oneshot stuff, because that requires message sequencing, which COSE can not do.\r\n\r\n(non-trivially because oneshot interfaces are equivalent to preparing a context and using it once.)\r\n\r\nAnd the \"APIs\" defined in HPKE RFC describe the operations. All the supported ones must be implemented as specified, but how exactly the inputs and outputs are passed can vary from implementation to implementation.\r\n\r\n",
          "createdAt": "2023-10-03T14:21:44Z",
          "updatedAt": "2023-10-03T14:21:44Z"
        },
        {
          "author": "ilaril",
          "authorAssociation": "CONTRIBUTOR",
          "body": "I think that the only interoperable choice is to use empty info value:\r\n\r\n1. HPKE RFC section 8.1 says that HPKE implementations with only single-shot interfaces (and COSE-HPKE is inherently single-shot) should only allow setting one of aad or info. Therefore using both is not interoperable.\r\n2. HPKE RFC section 7.2.1 says that info should be limited to 64(!) bytes (no length limit is given for aad).  Therefore using larger info is not interoperable.\r\n3. The protected headers must go to either aad or info.\r\n\r\nThe protected headers can easily be large enough to blow past 64 bytes. If that happens, the only way to avoid both interoperability problems is to use empty info.\r\n\r\n",
          "createdAt": "2023-10-08T08:40:24Z",
          "updatedAt": "2023-10-08T08:40:24Z"
        },
        {
          "author": "OR13",
          "authorAssociation": "COLLABORATOR",
          "body": "Sounds like the current winning argument here is empty info, and send the protected headers to aad.",
          "createdAt": "2023-10-09T19:12:21Z",
          "updatedAt": "2023-10-09T19:12:21Z"
        },
        {
          "author": "hannestschofenig",
          "authorAssociation": "COLLABORATOR",
          "body": "In the latest draft version the info parameter is not empty - based on agreement",
          "createdAt": "2025-07-02T19:08:47Z",
          "updatedAt": "2025-07-02T19:08:47Z"
        }
      ]
    },
    {
      "number": 26,
      "id": "I_kwDOGr5frc5hzMjj",
      "title": "Terminology Updates",
      "url": "https://github.com/cose-wg/draft-ietf-cose-hpke/issues/26",
      "state": "CLOSED",
      "author": "hannestschofenig",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "1.  Terminology: HPKE_sender_info instead of sender_info: https://github.com/cose-wg/HPKE/pull/20\r\n2. Terminology: Use of plaintext instead of detached plaintext: https://github.com/cose-wg/HPKE/pull/21\r\n3. Terminology Replace: \"API Caller\" usage: https://github.com/cose-wg/HPKE/pull/22\r\n",
      "createdAt": "2023-03-26T07:56:28Z",
      "updatedAt": "2023-04-13T09:33:02Z",
      "closedAt": "2023-04-13T09:33:02Z",
      "comments": [
        {
          "author": "hannestschofenig",
          "authorAssociation": "COLLABORATOR",
          "body": "All PRs merged.",
          "createdAt": "2023-04-13T09:33:02Z",
          "updatedAt": "2023-04-13T09:33:02Z"
        }
      ]
    },
    {
      "number": 27,
      "id": "I_kwDOGr5frc5x8tEC",
      "title": "Introduce the encapsulated_key header parameter instread of HPKE_Sender_info",
      "url": "https://github.com/cose-wg/draft-ietf-cose-hpke/issues/27",
      "state": "CLOSED",
      "author": "dajiaji",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "Following the consensus call result, it is necessary to switch from the a-la-carte approach to the ciphersuite approach.\r\n\r\nIn the ciphersuite approach, which includes all information in the \"alg\" value, the HPKE_Sender_Info structure is not needed. Simply specifying the binary string of the encapsulated key in the header is sufficient.\r\n\r\nWe need to introduce the encapsulated_key header parameter instread of the HPKE_Sender_Info.",
      "createdAt": "2023-09-25T15:15:19Z",
      "updatedAt": "2023-10-03T08:11:21Z",
      "closedAt": "2023-10-03T08:11:21Z",
      "comments": [
        {
          "author": "selfissued",
          "authorAssociation": "CONTRIBUTOR",
          "body": "This this be a new header parameter or simply the Content Encryption Key (CEK)?",
          "createdAt": "2023-09-25T18:57:25Z",
          "updatedAt": "2023-09-25T18:57:25Z"
        },
        {
          "author": "ilaril",
          "authorAssociation": "CONTRIBUTOR",
          "body": "A new header parameter, in order to transport the enc bstr from SealBase() to OpenBase(). In unprotected bucket, because protected bucket would cause circular dependency.\r\n\r\nThere is no existing suitable parameter. Either because of completely different purpose, or unsuitable value type.\r\n\r\nCEK will be the plaintext if COSE-HPKE is placed as a recipient of AEAD cipher (RFC 9052, section 5.3).",
          "createdAt": "2023-09-25T20:32:15Z",
          "updatedAt": "2023-09-25T20:32:15Z"
        },
        {
          "author": "dajiaji",
          "authorAssociation": "COLLABORATOR",
          "body": "> This this be a new header parameter or simply the Content Encryption Key (CEK)?\r\n\r\nAn encapsulated key is basically a serialized public key, and it is used to derive a keying material, not for encryption/decription purposes. \r\nIn addition, the existing \u201depk\u201d (ephemeral public key) header parameter cannot be used because, for example, an encapsulated key for a hybrid KEM for PQC is a byte string consisting of two public keys concatenated together.\r\n\r\nIt would be better to define a new header parameter for the encapsulated key.",
          "createdAt": "2023-09-25T22:11:53Z",
          "updatedAt": "2023-09-25T22:11:53Z"
        }
      ]
    },
    {
      "number": 28,
      "id": "I_kwDOGr5frc5x8xtL",
      "title": "Replace the current examples with ciphersuite-based examples.",
      "url": "https://github.com/cose-wg/draft-ietf-cose-hpke/issues/28",
      "state": "CLOSED",
      "author": "dajiaji",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "Following the consensus call result, we have to replace the current examples with the ciphersuite-based examples.\r\n\r\nFor this,  it might be a good idea to select just one uncontroversial ciphersuite (e.g., HPKE-v1-Base-P256-SHA256-AES128GCM) in advance and update the examples using the ciphersuite.",
      "createdAt": "2023-09-25T15:24:42Z",
      "updatedAt": "2023-10-03T08:10:56Z",
      "closedAt": "2023-10-03T08:10:56Z",
      "comments": [
        {
          "author": "selfissued",
          "authorAssociation": "CONTRIBUTOR",
          "body": "Having an uncontroversial ciphersuite would be good. ;-)",
          "createdAt": "2023-09-25T18:59:31Z",
          "updatedAt": "2023-09-25T18:59:31Z"
        }
      ]
    },
    {
      "number": 29,
      "id": "I_kwDOGr5frc5x9DWk",
      "title": "Ciphersuite selection",
      "url": "https://github.com/cose-wg/draft-ietf-cose-hpke/issues/29",
      "state": "CLOSED",
      "author": "dajiaji",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "Following the consensus call result, it is necessary to select some ciphersuites for the COSE-HPKE spec.\r\n\r\nPersonally, I think there are the following options:\r\n\r\n1. Adopt the set of cipher suites selected by MLS (Messaging Layer Security) that follows a similar cipher suite approach. It's an easy way for us because we don't have to think about it.\r\n\r\n2. Define a carefully selected set of cipher suites intended for use in COSE. My choices are as follows:\r\n\r\n    - HPKE-v1-Base-P256-SHA256-AES128GCM: composed only with NIST selected KEM/AEAD algorithms.\r\n    - HPKE-v1-Base-X25519-SHA256-Chacha20Poly1305: composed without NIST selected KEM/AEAD algorithms.\r\n    - HPKE-v1-Base-X25519-SHA256-AES128GCM: X25519 with an AEAD algorithm which can be hardware-accelerated.\r\n    - HPKE-v1-Base-P384-SHA384-AES256GCM: As an alternative choice for rich environments.",
      "createdAt": "2023-09-25T15:58:12Z",
      "updatedAt": "2023-10-03T08:10:45Z",
      "closedAt": "2023-10-03T08:10:45Z",
      "comments": [
        {
          "author": "selfissued",
          "authorAssociation": "CONTRIBUTOR",
          "body": "Do those correspond to these numbers at https://www.rfc-editor.org/rfc/rfc9420.html#mls-cipher-suites :  2, 3, 1, 7?  Are you uninterested in 4, 5, and 6 because they use 512-bit operations?\r\n\r\nGiven that the MLS choices have survived IESG review, we could do worse than to reuse them (or a subset of them).",
          "createdAt": "2023-09-25T19:13:02Z",
          "updatedAt": "2023-09-25T19:13:02Z"
        },
        {
          "author": "ilaril",
          "authorAssociation": "CONTRIBUTOR",
          "body": "Earlier, I did come up with set of 12 cipher suites based on objective criteria.\r\n\r\nI would add at least X448 and X25519Kyber768 with Chacha20 and AES256 to that list of 4 cipher suites. X448 being the high-level CFRG curve, and X25519Kyber768 being post-quantum (which is currently the only one with no equivalent in COSE).\r\n\r\nThen when CFRG adds DHKEM(CP-256, HKDF-SHA256) and DHKEM(CP-384, HKDF-SHA384), one definitely wants cipher suites based on those. In fact, I think that DHKEM(CP-256, HKDF-SHA256) / KDF1 / AEAD1 should have 1 byte alg value.",
          "createdAt": "2023-09-25T20:53:27Z",
          "updatedAt": "2023-09-25T20:53:27Z"
        },
        {
          "author": "dajiaji",
          "authorAssociation": "COLLABORATOR",
          "body": "> Do those correspond to these numbers at https://www.rfc-editor.org/rfc/rfc9420.html#mls-cipher-suites : 2, 3, 1, 7? Are you uninterested in 4, 5, and 6 because they use 512-bit operations?\r\n\r\nYes, this is just an example, but my selection above corresponds to the MLS ciphersuite 1, 2, 3 and 7.\r\n\r\n> Are you uninterested in 4, 5, and 6 because they use 512-bit operations?\r\n\r\nAt least I thought we could leave them out of the first selection of ciphersuites for COSE. I have not seen any examples of actual use of P521 or X448 in JOSE/COSE either.\r\n\r\n> Given that the MLS choices have survived IESG review, we could do worse than to reuse them (or a subset of them).\r\n\r\nYes, I think so.",
          "createdAt": "2023-09-25T22:50:45Z",
          "updatedAt": "2023-09-25T22:50:45Z"
        },
        {
          "author": "ilaril",
          "authorAssociation": "CONTRIBUTOR",
          "body": "Three new KEMs (compact NIST curves) were added to the HPKE KEM registry.\r\n\r\nThe earlier criteria I posted now gives 18 cipher suites (9 KEMs * 2 cipher families).\r\n\r\nAnd I think at minimum, the following two should be defined:\r\n\r\n- Base KEM=0x13 (CP-256) KDF=1 (SHA-256) AEAD=1 (AES-128)  (with 1-byte alg value!)\r\n- Base KEM=0x14 (CP-384) KDF=2 (SHA-384) AEAD=2 (AES-256)",
          "createdAt": "2023-09-28T11:47:10Z",
          "updatedAt": "2023-09-28T11:47:10Z"
        },
        {
          "author": "dajiaji",
          "authorAssociation": "COLLABORATOR",
          "body": "@hannestschofenig @selfissued @ilaril @OR13 \r\n\r\nI had intended to withdraw my narrowed down ciphersuites above if someone raised the need for additional options. I thought it was a possible direction, but it does seem challenging after all.\r\n\r\nThe 10 ciphersuites chosen by Ilari cover valid combinations in the HPKE specification (RFC9180) and are excellent choices if prioritizing the versatility of COSE-HPKE (covering all seven ciphersuites defined by MLS and adding options for using chacha20 with ECDH KEM, which MLS does not have).\r\n\r\nOn the other hand, the two ciphersuites using post-quantum hybrid KEMs in Ilari's choices have not yet been standardized by CFRG. It's just an individual draft for now. Therefore, I thought it might be better to create a separate Internet-Draft that could serve as a template for adding new ciphersuites to the COSE-HPKE in the future.\r\n\r\nConsidering this, I suggest including the following 10 ciphersuites in the COSE-HPKE spec, and making separate drafts for post-quantum hybrid KEMs and DH-KEMs with compact EC curves.\r\n\r\n* COSE-HPKE spec (10 ciphersuites Ilari selected from RFC9180)\r\n    - HPKE-v1-Base-P256-SHA256-AES128GCM **(MLS-0x0002)**\r\n    - HPKE-v1-Base-P256-SHA256-ChaCha20Poly1305\r\n    - HPKE-v1-Base-P384-SHA384-AES256GCM **(MLS-0x0007)**\r\n    - HPKE-v1-Base-P384-SHA384-ChaCha20Poly1305\r\n    - HPKE-v1-Base-P521-SHA512-AES256GCM **(MLS-0x0005)**\r\n    - HPKE-v1-Base-P521-SHA512-ChaCha20Poly1305\r\n    - HPKE-v1-Base-X25519-SHA256-AES128GCM  **(MLS-0x0001)**\r\n    - HPKE-v1-Base-X25519-SHA256-ChaCha20Poly1305 **(MLS-0x0003)**\r\n    - HPKE-v1-Base-X448-SHA512-AES256GCM **(MLS-0x0004)**\r\n    - HPKE-v1-Base-X448-SHA512-ChaCha20Poly1305 **(MLS-0x0006)**\r\n* Additional COSE-HPKE ciphersuites for PQC (as another spec)\r\n    - HPKE-v1-Base-X25519Kyber768-SHA256-AES256GCM\r\n    - HPKE-v1-Base-X25519Kyber768-SHA256-ChaCha20Poly1305\r\n* Additional COSE-HPKE ciphersuites for compact curves  (as another spec)\r\n    - HPKE-v1-Base-C256-SHA256-AES128GCM, etc.\r\n \r\nWhat do you think about it?",
          "createdAt": "2023-10-01T00:45:59Z",
          "updatedAt": "2023-10-01T00:48:12Z"
        },
        {
          "author": "OR13",
          "authorAssociation": "COLLABORATOR",
          "body": "> , I thought it might be better to create a separate Internet-Draft that could serve as a template for adding new ciphersuites to the COSE-HPKE in the future.\n\nI agree with this.\n\nThe breakdown you have looks good.\n\nI think we should aim for test vectors for every suite and include examples in the appendix.\n\nI'm happy to help on that front.",
          "createdAt": "2023-10-01T02:11:53Z",
          "updatedAt": "2023-10-01T02:11:53Z"
        },
        {
          "author": "ilaril",
          "authorAssociation": "CONTRIBUTOR",
          "body": "Technically, CFRG is not allowed to standardize anything. But I think the comment about post-quantum hybrid not yet being standardized meant it not yet having been published as an RFC. It will never be published as an RFC.\r\n\r\nThe registry policy is \"specification required\", which means requiring a stable specification. All entries are assumed to be stable and fully interoperable. HPKE abstracts the differences away.\r\n\r\nThere is a similar situation with TLS cipher suites, but with much higher stakes.\r\n\r\nBeing based on objective criteria, the list of 12 cipher suites has become list of 18 cipher suites.\r\n\r\nAnd I still think the post-quantum hybrid and compact curves should be included in the initial document:\r\n* There is no way currently to perform PQC with COSE.\r\n* One of the cipher suites involving compact curves (0x13-1-1) is excellent candidate for one-byte alg, which requires standards action.",
          "createdAt": "2023-10-01T13:25:55Z",
          "updatedAt": "2023-10-01T13:25:55Z"
        },
        {
          "author": "hannestschofenig",
          "authorAssociation": "COLLABORATOR",
          "body": "I have added the algorithms mentioned above to the draft. We will definitely have to talk about the algorithm list in the entire group but the current list is a proposal.",
          "createdAt": "2023-10-03T08:10:45Z",
          "updatedAt": "2023-10-03T08:10:45Z"
        }
      ]
    },
    {
      "number": 30,
      "id": "I_kwDOGr5frc5x9MAe",
      "title": "Ciphersuite naming convension",
      "url": "https://github.com/cose-wg/draft-ietf-cose-hpke/issues/30",
      "state": "CLOSED",
      "author": "dajiaji",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "A naming convention for cipher suites needs to be decided.\r\n\r\nI think the following proposal, which was established during discussions with Hannes, is relatively reasonable.\r\n\r\nex) HPKE-v1-Base-P256-SHA256-AES128GCM ... (A)\r\n\r\nAdditionally, there are two other proposals: one, which is suggested by Ilari, involves utilizing the HPKE IANA registered values as follows:\r\n\r\nex) HPKE-v1-Base-16-1-1 ... (B)\r\n\r\nand the other is accurately representing everything:\r\n\r\nex) HPKE-v1-Base-DHKEM-P256-HKDF-SHA256-SHA256-AES128 ... (C)",
      "createdAt": "2023-09-25T16:17:24Z",
      "updatedAt": "2023-10-02T11:48:38Z",
      "closedAt": "2023-10-02T11:48:38Z",
      "comments": [
        {
          "author": "selfissued",
          "authorAssociation": "CONTRIBUTOR",
          "body": "Agree that we need a naming convention.  For COSE, the names can be long and descriptive if we like, since they all eventually just map to small numeric `alg` values.\r\n\r\nBut I suggest that we also be thinking about what JOSE `alg` values we want, since it's likely that that work will happen in parallel.  We should try for reasonable brevity for those name, if possible.  And ideally, COSE and JOSE will use the same names.",
          "createdAt": "2023-09-25T19:08:46Z",
          "updatedAt": "2023-09-25T19:08:46Z"
        },
        {
          "author": "ilaril",
          "authorAssociation": "CONTRIBUTOR",
          "body": "I think the full names are just too gnarly, even for the COSE registry.\r\n\r\nAnd I would not put much weight on JOSE here, because HPKE and JWE do not seem to mix (unlike HPKE and COSE_Encrypt).",
          "createdAt": "2023-09-25T21:06:22Z",
          "updatedAt": "2023-09-25T21:06:22Z"
        },
        {
          "author": "dajiaji",
          "authorAssociation": "COLLABORATOR",
          "body": "> But I suggest that we also be thinking about what JOSE alg values we want, since it's likely that that work will happen in parallel. We should try for reasonable brevity for those name, if possible. And ideally, COSE and JOSE will use the same names.\r\n\r\nI agree with you. I also think it is necessary to give names that can be used as it is in JOSE.",
          "createdAt": "2023-09-25T22:28:22Z",
          "updatedAt": "2023-09-25T22:28:22Z"
        }
      ]
    },
    {
      "number": 32,
      "id": "I_kwDOGr5frc5yp1Mi",
      "title": "Add more examples",
      "url": "https://github.com/cose-wg/draft-ietf-cose-hpke/issues/32",
      "state": "CLOSED",
      "author": "hannestschofenig",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [
        "enhancement"
      ],
      "body": "Adding more examples to cover other algorithms and the use of HPKE for establishing a secret with COSE_Mac would be good.",
      "createdAt": "2023-10-03T08:13:10Z",
      "updatedAt": "2026-02-01T19:21:09Z",
      "closedAt": "2026-02-01T19:21:09Z",
      "comments": [
        {
          "author": "OR13",
          "authorAssociation": "COLLABORATOR",
          "body": "https://www.rfc-editor.org/rfc/rfc7520\r\n\r\nIt would be extra cool, if we could give COSE and JOSE test cases for the same key pairs, represented in COSE Key and JWK",
          "createdAt": "2023-10-10T13:48:46Z",
          "updatedAt": "2023-10-10T13:48:46Z"
        }
      ]
    },
    {
      "number": 34,
      "id": "I_kwDOGr5frc5yr6Ti",
      "title": "Remove version from ciphersuite",
      "url": "https://github.com/cose-wg/draft-ietf-cose-hpke/issues/34",
      "state": "CLOSED",
      "author": "hannestschofenig",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "I am proposing to remove the version indication from the ciphersuite. I don't recall anymore why we added it but it appears to be unnecessary.",
      "createdAt": "2023-10-03T13:05:55Z",
      "updatedAt": "2023-10-06T11:31:30Z",
      "closedAt": "2023-10-06T11:31:30Z",
      "comments": [
        {
          "author": "ilaril",
          "authorAssociation": "CONTRIBUTOR",
          "body": "Agreed on removing the version. I think the reason why it was included was to prepare for HPKEv2, but I don't think that is a good reason.\r\n\r\nI think it should be specified in the document that the mechanism is limited to HPKE version 1. I do not think it is a good idea to try to speculate what HPKE version 2 (if there ever is one) will be like. Such guesses can easily go very wrong; HPKEv2 in COSE should only be specified after HPKEv2 has been specified.",
          "createdAt": "2023-10-03T14:06:06Z",
          "updatedAt": "2023-10-03T14:06:06Z"
        },
        {
          "author": "dajiaji",
          "authorAssociation": "COLLABORATOR",
          "body": "In fact, I was previously told by martin thomson that I should not worry about HPKE version information. Please see below.\r\n\r\nhttps://github.com/ietf-wg-ohai/oblivious-http/issues/279\r\n\r\nI think it is OK to remove it.",
          "createdAt": "2023-10-03T14:35:11Z",
          "updatedAt": "2023-10-03T14:36:07Z"
        }
      ]
    },
    {
      "number": 35,
      "id": "I_kwDOGr5frc5ysJM7",
      "title": " COSE Elliptic Curve needs to be added for the x25519/Kyber hybrid.",
      "url": "https://github.com/cose-wg/draft-ietf-cose-hpke/issues/35",
      "state": "CLOSED",
      "author": "hannestschofenig",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "Illari wrote:\r\n\r\n> \r\n> - COSE Elliptic Curve needs to be added for the x25519/Kyber hybrid.\r\n> \r\n>   Key type is OKP.\r\n> \r\n>   The public key should be concatenation of X25519 public key and\r\n>   Kyber768 v3.02 public key.\r\n> \r\n>   The private key should be concatenation of X25519 private key and\r\n>   Kyber768 v3.02 private key.\r\n> \r\n>   These formats are directly compatible with the HPKE KEM.\r\n> \r\n>   Reference for Kyber768 v3.02:\r\n>   https://pq-crystals.org/kyber/data/kyber-specification-round3-20210804.pdf\r\n> \r\n>   (I think that is the best reference that could be used.)\r\n> \r\n>   (And yes, the naming is horrible.)",
      "createdAt": "2023-10-03T13:37:44Z",
      "updatedAt": "2025-07-02T19:01:02Z",
      "closedAt": "2025-07-02T19:01:02Z",
      "comments": [
        {
          "author": "ilaril",
          "authorAssociation": "CONTRIBUTOR",
          "body": "This would not be strictly necessary if the draft defined what it means to use AKP with a COSE-HPKE algorithm.\r\n\r\nSensible thing would be to use the raw HPKE public key for the KEM as the public key, and the raw HPKE private key for the KEM as the private key.\r\n\r\nHPKE does guarantee that all raw KEM public and private keys are well-defined byte strings.",
          "createdAt": "2024-12-12T16:52:23Z",
          "updatedAt": "2024-12-12T16:52:23Z"
        },
        {
          "author": "hannestschofenig",
          "authorAssociation": "COLLABORATOR",
          "body": "This issue is long resolved.",
          "createdAt": "2025-07-02T19:01:02Z",
          "updatedAt": "2025-07-02T19:01:02Z"
        }
      ]
    },
    {
      "number": 36,
      "id": "I_kwDOGr5frc5zG_Mv",
      "title": "Reduce the number of ciphersuites",
      "url": "https://github.com/cose-wg/draft-ietf-cose-hpke/issues/36",
      "state": "CLOSED",
      "author": "hannestschofenig",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "The group needs to decide what ciphersuites it wants to have listed in the draft. The idea is to only list those ciphersuites that are needed by developers rather than exhaustively listing all combinations.\r\n\r\nInput appreciated!",
      "createdAt": "2023-10-07T06:13:47Z",
      "updatedAt": "2024-01-16T21:54:32Z",
      "closedAt": "2024-01-16T21:54:32Z",
      "comments": [
        {
          "author": "selfissued",
          "authorAssociation": "CONTRIBUTOR",
          "body": "I agree that less is more. Selecting a subset of those chosen by MLS sounds like a good starting point.",
          "createdAt": "2023-10-07T12:00:39Z",
          "updatedAt": "2023-10-07T12:00:39Z"
        },
        {
          "author": "ilaril",
          "authorAssociation": "CONTRIBUTOR",
          "body": "Unfortunately, there are problems with choosing subset from MLS cipher suites:\r\n\r\n1. The MLS cipher suite selection is flawed.\r\n2. MLS does not use compact curves: Compact curves have smaller representations, which is very attractive for constrained applications.\r\n\r\nWhat I think is the absolute minimum:\r\n\r\n1. CP256-SHA256-AES128GCM (1 byte range!)\r\n2. CP384-SHA384-AES256GCM\r\n3. X25519-SHA256-Chacha20Poly1305\r\n4. X25519-SHA256-AES128GCM\r\n5. X448-SHA512-Chacha20Poly1305\r\n6. X448-SHA512-AES256GCM\r\n7. X25519Kyber768-SHA256-Chacha20Poly1305\r\n8. X25519Kyber768-SHA256-AES256GCM\r\n\r\n... But I still think all the 18 should be supported.\r\n\r\nRemember, this is not about what individual application needs to support (it can profile down to single cipher suite), it is about what **any** application can support.\r\n\r\nAnd if non-base modes are to be supported, this obviously causes combinatorial blowup.",
          "createdAt": "2023-10-08T09:23:48Z",
          "updatedAt": "2023-10-08T09:23:48Z"
        },
        {
          "author": "hannestschofenig",
          "authorAssociation": "COLLABORATOR",
          "body": "We have to remove Kyber from the list since it would block the publication of this document.\r\nSo far I haven't heard anyone from the constrained IoT device community asking for the compact curves. They probably don't use HPKE in the first place.\r\n\r\nPR with the reduced ciphersuite list created here: #48 ",
          "createdAt": "2023-12-23T18:07:07Z",
          "updatedAt": "2023-12-23T18:07:07Z"
        }
      ]
    },
    {
      "number": 38,
      "id": "I_kwDOGr5frc5zOPRV",
      "title": "Provide official test vectors",
      "url": "https://github.com/cose-wg/draft-ietf-cose-hpke/issues/38",
      "state": "OPEN",
      "author": "dajiaji",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [
        "enhancement"
      ],
      "body": "@hannestschofenig @selfissued @OR13 and other folks,\r\n\r\nI think Orie also mentioned this in another issur/PR, but how about providing test vectors in the COSE-HPKE spec?\r\n\r\nSince the COSE specs are referred by many IETF WGs such as SUTE, TEEP, RATS, SCITT, etc., I think it is better for the COSE WG to provide the official test vectors. \r\n\r\nHere are my suggestions:\r\n- Create a test-vectors repository under the cose-wg group on github (cose-wg/test-vectors).\r\n- Create comprehensive test-vectors for COSE-HPKE spec in this repository\r\n- Pick out a few typical ones from the repository's test-vectors and list them in the appendix in the COSE-HPKE spec with a link to the repository.\r\n\r\n[HPKE spec (RFC9180)](https://www.rfc-editor.org/rfc/rfc9180.html) also provides test vectors in the same manner.\r\n\r\nWhat do you think?",
      "createdAt": "2023-10-09T13:44:25Z",
      "updatedAt": "2026-02-01T19:21:59Z",
      "closedAt": null,
      "comments": [
        {
          "author": "OR13",
          "authorAssociation": "COLLABORATOR",
          "body": "I think we should do a PR to :\r\n\r\n- https://github.com/cose-wg/Examples/blob/master/ecdsa-examples/ecdsa-01.json\r\n\r\nunder a new directory called `hpke-examples`\r\n\r\nI'd recommend generating the examples from a repo that maintains an implementation, so we can regenerate them again later if needed.\r\n\r\nHere is a similar project that uses YAML to maintain examples:\r\n\r\nhttps://github.com/openwallet-foundation-labs/sd-jwt-python\r\n\r\nAn example spec file, that is used to generate examples:\r\n\r\n- https://github.com/openwallet-foundation-labs/sd-jwt-python/blob/main/examples/simple_json_serialization/specification.yml\r\n\r\n\r\n",
          "createdAt": "2023-10-09T16:38:21Z",
          "updatedAt": "2023-10-09T16:40:52Z"
        },
        {
          "author": "ilaril",
          "authorAssociation": "CONTRIBUTOR",
          "body": "What format should those examples be in? The format used by that examples repository looks to have some issues:\n\n* It is not trivial to locate relevant examples (tags 16 and 96).\n* The keys seem to be represented as JWKs, which might not be possible for some keys (or loses information, e.g., alg).\n* It contains debug fields that are meaningless or not exported in non-debug implementations.\n\nFor dumping examples from my implementation, I quickly cooked a format that is a CBOR dictionary with the following keys:\n\n* plaintext (bytes): The plaintext the message should decrypt to (for debugging, successful decryption should never give a wrong plaintext).\n* encrypted (COSE_Messages): The COSE encrypted message.\n* keys (array of COSE_Key): The private key or keys the message should decrypt with.\n* application_aad (bytes): The application_aad at layer 0 (Other application_aad and supplementary data fields are always empty).\n\nI dumped 11 examples (8 one-layer and 3 two-layer split by symmetric cipher) covering all the 16 algorithms from -19.",
          "createdAt": "2025-12-16T16:48:43Z",
          "updatedAt": "2025-12-16T16:48:43Z"
        },
        {
          "author": "hannestschofenig",
          "authorAssociation": "COLLABORATOR",
          "body": "https://github.com/cose-wg/draft-ietf-cose-hpke/pull/110",
          "createdAt": "2026-02-01T17:49:11Z",
          "updatedAt": "2026-02-01T17:49:11Z"
        },
        {
          "author": "hannestschofenig",
          "authorAssociation": "COLLABORATOR",
          "body": "Ilari, could you check my test vectors against your implementation?",
          "createdAt": "2026-02-01T19:21:59Z",
          "updatedAt": "2026-02-01T19:21:59Z"
        }
      ]
    },
    {
      "number": 39,
      "id": "I_kwDOGr5frc5zrPbB",
      "title": "Algorithm ID should be optional",
      "url": "https://github.com/cose-wg/draft-ietf-cose-hpke/issues/39",
      "state": "CLOSED",
      "author": "laurencelundblade",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "Section 3.1.1 says the algorithm ID must be set.\r\n\r\nCOSE doesn't require this. COSE allows the algorithm ID to be known from context some sort of negotiation scheme or other means outside of the COSE message itself.\r\n\r\nI don't think COSE-HPKE has any characteristic that changes this set up here.\r\n\r\nThe line that says  \"The sender MUST set the alg parameter\" can just be deleted.\r\n\r\nSame in 3.1.2. It is allows that all algorithms IDs are omitted and the algorithm known only by context, even with multiple recipients.\r\n",
      "createdAt": "2023-10-12T20:06:10Z",
      "updatedAt": "2025-07-02T18:51:28Z",
      "closedAt": "2025-07-02T18:51:27Z",
      "comments": [
        {
          "author": "dajiaji",
          "authorAssociation": "COLLABORATOR",
          "body": "Regarding the alg as a COSE_Key parameter, it should be optional and shouldn't be required. However, to my understanding, the alg as a COSE header parameter can be required.\r\n\r\nFor example, all of the COSE key distibution methods (including direct key agreement and key agreement with key wrap) defined in RFC9052 require the alg as a COSE header parameter as follows:\r\n\r\n```\r\nThe \"alg\" header parameter MUST be present. (Section 8.5.1, RFC9052)\r\n```\r\n\r\nI think the COSE-HPKE should also require it. In particular, since we decided to include the HPKE ciphersuites information to the alg, I think we cannot omit the alg from the COSE header.",
          "createdAt": "2023-11-04T11:45:30Z",
          "updatedAt": "2023-11-04T11:45:30Z"
        },
        {
          "author": "hannestschofenig",
          "authorAssociation": "COLLABORATOR",
          "body": "Given the discussion about the \"KDF for Content Encryption\" from the LAMPS meeting @ IETF#118 (see https://www.youtube.com/watch?v=Iwq3FlqIbtE) I feel that this issue has been resolved. \r\n\r\nThe conclusion of that discussion was that we need to provide the algorithm id as input to the KDF. Not sending the algorithm id and to infer it from the context makes it more error prone for implementers.\r\n\r\nSo, are you still of the opinion that the algorithm id used for content encryption should be optional? (The algorithm id for the recipient structure is mandatory anyway).",
          "createdAt": "2023-12-23T18:12:52Z",
          "updatedAt": "2023-12-23T18:12:52Z"
        },
        {
          "author": "selfissued",
          "authorAssociation": "CONTRIBUTOR",
          "body": "I agree that `alg` should be required, as in the rest of COSE, and that this issue should be closed on that basis.",
          "createdAt": "2023-12-23T18:58:19Z",
          "updatedAt": "2023-12-23T18:58:19Z"
        },
        {
          "author": "dajiaji",
          "authorAssociation": "COLLABORATOR",
          "body": "I agree to close this PR.",
          "createdAt": "2023-12-23T23:36:56Z",
          "updatedAt": "2023-12-23T23:36:56Z"
        },
        {
          "author": "laurencelundblade",
          "authorAssociation": "COLLABORATOR",
          "body": "Ajitomi-san is right that 9052 requires the algorithm ID for COSE_Recipient types it specifies, but this is only for specific COSE_Recipient types, not for the main body and not a blanket COSE requirement. Algorithm IDs are NOT universally required in COSE.\r\n\r\nTo line up COSE-HPKE with what 9052 does, retain the requirement text in 3.1.2, but remove the requirement in 3.1.1.\r\n\r\nHannes, we haven't settled how we provide the algorithm ID(s) to the KDF Context. It can just be in the Context Info Structure in which case there's no need for it in a header parameter.\r\n\r\nNote that an algorithm ID is always known to the COSE library. It is sometimes specified by a header parameter and other times it comes from context outside of COSE and there's no header parameter.\r\n\r\nThe main reason I can think of for leaving it out is to reduce COSE message size. Maybe there's some weird single recipient COSE+HPKE API use case where it helps too. \r\n\r\nI'd still like to see it optional in the main body (remove requirement text in 3.1.1) for maximal alignment with 9052, but algorithm IDs are very small, so I won't insist past this comment.\r\n",
          "createdAt": "2023-12-26T16:34:30Z",
          "updatedAt": "2023-12-26T16:34:30Z"
        },
        {
          "author": "selfissued",
          "authorAssociation": "CONTRIBUTOR",
          "body": "All the Content Key Distribution Methods in Section 8.5 of RFC 9052 require the \"alg\" header parameter to be present.  I see no reason that HPKE should do things different.\r\n\r\nUnless someone can point me to text in 9052 that explicitly describes situations in which \"alg\" is optional, I oppose making this change.",
          "createdAt": "2024-01-07T21:07:03Z",
          "updatedAt": "2024-01-07T21:07:03Z"
        },
        {
          "author": "laurencelundblade",
          "authorAssociation": "COLLABORATOR",
          "body": "Mike, yes, you are right about section 8 in 9052, but that is only for COSE_Recipients, not the bulk encryption algorithm at the top level of the COSE message.\r\n\r\n Here's the CDDL from 9052 that shows the alg ID is optional:\r\n\r\n Generic_Headers = (\r\n       ? 1 => int / tstr,  ; algorithm identifier\r\n       ? 2 => [+label],    ; criticality\r\n       ? 3 => tstr / int,  ; content type\r\n       ? 4 => bstr,        ; key identifier\r\n       ? ( 5 => bstr //    ; IV\r\n           6 => bstr )     ; Partial IV\r\n   )\r\n \r\n As far as I can see, there is no text in 9052 that says in a general way that alg id is mandatory. What is in section 8 of 9052 is that all the key distribution mechanisms individually require it.\r\n \r\n This is not a big deal for me either way. I think leaving the alg ID out is only a small size optimization and not much more.",
          "createdAt": "2024-01-07T22:07:59Z",
          "updatedAt": "2024-01-07T22:07:59Z"
        },
        {
          "author": "dajiaji",
          "authorAssociation": "COLLABORATOR",
          "body": "Okay. If we have to follow the convention of RFC9052, it seams appropriate for the alg id should be OPTIONAL as Laurence mentioned.\r\n\r\nActually, the ciphersuite (the combination of KEM, KDF and AEAD) information is bound to the encapsulated_key, so there should be no security issues. It seams that it is a reasonable use case in COSE to pre-determine a specific ciphersuite between the sender and the recipient and reduce the message size.\r\n\r\nI think the alg value should be specified, but I agree that it should not be mandated.",
          "createdAt": "2024-01-14T12:47:27Z",
          "updatedAt": "2024-01-14T12:47:27Z"
        },
        {
          "author": "hannestschofenig",
          "authorAssociation": "COLLABORATOR",
          "body": "We talk about the use of the alg parameter in the latest draft version.",
          "createdAt": "2025-07-02T18:51:27Z",
          "updatedAt": "2025-07-02T18:51:27Z"
        }
      ]
    },
    {
      "number": 40,
      "id": "I_kwDOGr5frc5zrS9E",
      "title": "nil, not empty bstr for detached ciphertext",
      "url": "https://github.com/cose-wg/draft-ietf-cose-hpke/issues/40",
      "state": "CLOSED",
      "author": "laurencelundblade",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "The example in 5.2 has an empty bstr for the cipher text   h''   not nil.",
      "createdAt": "2023-10-12T20:16:28Z",
      "updatedAt": "2023-10-18T19:25:57Z",
      "closedAt": "2023-10-18T19:25:57Z",
      "comments": []
    },
    {
      "number": 41,
      "id": "I_kwDOGr5frc5zrWY5",
      "title": "Could reduce restatement of COSE requirements",
      "url": "https://github.com/cose-wg/draft-ietf-cose-hpke/issues/41",
      "state": "CLOSED",
      "author": "laurencelundblade",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "There's a number of places where COSE requirements are unnecessary restated, referenced, repeated. I think they can be removed and the document would be shorter and more clear. COSE-HPKE doesn't change these characteristics of COSE. When they are restated, there's the risk of restating them wrong or leading the reader to think there's something different when there isn't.\r\n\r\n- All discussion of CBOR tags can be removed\r\n- All discussion of detached vs inline payload can be removed\r\n- The CDDL for a COSE_SIgn1 can be removed (sufficient to say that HPKE-base provides no auth)\r\n- There's some restatement on how Enc_structure works. It is exactly the same as COSE, right? It really needs to be.\r\n- There's restatement of how external_aad works\r\n",
      "createdAt": "2023-10-12T20:27:53Z",
      "updatedAt": "2025-07-02T18:42:36Z",
      "closedAt": "2025-07-02T18:42:35Z",
      "comments": [
        {
          "author": "hannestschofenig",
          "authorAssociation": "COLLABORATOR",
          "body": "The current draft avoids unnecessary repetitions.",
          "createdAt": "2025-07-02T18:42:36Z",
          "updatedAt": "2025-07-02T18:42:36Z"
        }
      ]
    },
    {
      "number": 42,
      "id": "I_kwDOGr5frc5zrYAn",
      "title": "Specify in terms of Seal() and Open APIs",
      "url": "https://github.com/cose-wg/draft-ietf-cose-hpke/issues/42",
      "state": "CLOSED",
      "author": "laurencelundblade",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "As an implementor, what I really want to know is how COSE data structures go in and out of the HPKE Seal() and Open() APIs. These APIs are THE definition of HPKE.\r\n\r\nI would write a section, maybe as a table with one Seal() parameter per row and describe how to construct them.",
      "createdAt": "2023-10-12T20:32:38Z",
      "updatedAt": "2025-07-02T18:53:47Z",
      "closedAt": "2025-07-02T18:53:47Z",
      "comments": [
        {
          "author": "dajiaji",
          "authorAssociation": "COLLABORATOR",
          "body": "I think it's a good idea. It would be helpful to the implementors. I support adding this kind of description to the spec.",
          "createdAt": "2023-11-04T09:08:02Z",
          "updatedAt": "2023-11-04T09:08:02Z"
        },
        {
          "author": "hannestschofenig",
          "authorAssociation": "COLLABORATOR",
          "body": "We had this type of description in an earlier version of the spec, see https://www.ietf.org/archive/id/draft-ietf-cose-hpke-05.html#name-hpke-encryption-and-decrypt\r\n\r\nIs this what you are asking for?",
          "createdAt": "2023-12-23T18:08:53Z",
          "updatedAt": "2023-12-23T18:08:53Z"
        },
        {
          "author": "hannestschofenig",
          "authorAssociation": "COLLABORATOR",
          "body": "We used this approach in earlier versions of the draft and, over time, we settled for a different writing style. There are many ways to write a document and we have to pick something.",
          "createdAt": "2025-07-02T18:53:47Z",
          "updatedAt": "2025-07-02T18:53:47Z"
        }
      ]
    },
    {
      "number": 44,
      "id": "I_kwDOGr5frc51RkLM",
      "title": "COSE_Recpient header protection",
      "url": "https://github.com/cose-wg/draft-ietf-cose-hpke/issues/44",
      "state": "CLOSED",
      "author": "laurencelundblade",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "In the two-layer option, there is a COSE_Recipient which has a protected header that must be protected.\r\n\r\nOne option is to use an Enc_structure of type \"Enc_Recipient\". Another option is to use Context Info Structure like ECDH alg ID -29 does. \r\n\r\nThis is probably wrapped up with how Context Info Structure is optional or not. ",
      "createdAt": "2023-10-30T05:26:16Z",
      "updatedAt": "2025-07-02T18:59:00Z",
      "closedAt": "2025-07-02T18:59:00Z",
      "comments": [
        {
          "author": "dajiaji",
          "authorAssociation": "COLLABORATOR",
          "body": "I only implemented \"Enc_Recipient\" and I don't see the need to add support for the latter for now.\r\n\r\nFrom the perspective of simplicity and interoperability of the COSE-HPKE spec, I think it would be better to make it clear that the use of KDF_Context_Info is not recommended for COSE-HPKE. At least, I think it should be optional.",
          "createdAt": "2023-11-04T09:50:06Z",
          "updatedAt": "2023-11-04T09:50:06Z"
        },
        {
          "author": "ilaril",
          "authorAssociation": "CONTRIBUTOR",
          "body": "Should this be closed as resolved? The -09 draft protects recipient headers via the Recipient_structure being the aad, which looks fine to me.",
          "createdAt": "2024-12-12T16:57:20Z",
          "updatedAt": "2024-12-12T16:57:20Z"
        },
        {
          "author": "hannestschofenig",
          "authorAssociation": "COLLABORATOR",
          "body": "We are using a structure now and, while we can change it (again), I would close this issue for now.",
          "createdAt": "2025-07-02T18:59:00Z",
          "updatedAt": "2025-07-02T18:59:00Z"
        }
      ]
    },
    {
      "number": 46,
      "id": "I_kwDOGr5frc514Phw",
      "title": "Key Representation",
      "url": "https://github.com/cose-wg/draft-ietf-cose-hpke/issues/46",
      "state": "CLOSED",
      "author": "hannestschofenig",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "... based on Ori's PR:\r\nhttps://github.com/transmute-industries/cose/pull/8/files",
      "createdAt": "2023-11-05T07:52:02Z",
      "updatedAt": "2024-01-16T21:47:48Z",
      "closedAt": "2024-01-16T21:47:48Z",
      "comments": []
    },
    {
      "number": 50,
      "id": "I_kwDOGr5frc57_5eI",
      "title": "Conventions for requested `alg` assignments",
      "url": "https://github.com/cose-wg/draft-ietf-cose-hpke/issues/50",
      "state": "CLOSED",
      "author": "OR13",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "The current registration requests start at `35` and count up, but the current COSE registry seems to prefer negative values for `alg`, and counting down (for key agreement).\r\n\r\nI assume we chose the positive side because of the conventions around AEAD?\r\n\r\n",
      "createdAt": "2024-01-13T15:33:24Z",
      "updatedAt": "2025-07-02T18:57:36Z",
      "closedAt": "2025-07-02T18:57:36Z",
      "comments": [
        {
          "author": "dajiaji",
          "authorAssociation": "COLLABORATOR",
          "body": "I think both options are fine. Whichever we choose, it will not affect the alg length (2 bytes). \r\n\r\n> I assume we chose the positive side because of the conventions around AEAD?\r\n\r\nProbably so. Since the last step of the HPKE is AEAD, I believe there is no problem leaving it as it is.\r\n",
          "createdAt": "2024-01-14T12:22:51Z",
          "updatedAt": "2024-01-14T12:22:51Z"
        },
        {
          "author": "hannestschofenig",
          "authorAssociation": "COLLABORATOR",
          "body": "Agree with Daisuke",
          "createdAt": "2024-01-16T21:55:32Z",
          "updatedAt": "2024-01-16T21:55:32Z"
        },
        {
          "author": "hannestschofenig",
          "authorAssociation": "COLLABORATOR",
          "body": "The values are just proposals. IANA can choose other values. It does not matter much what numerical values we get assigned for the algorithms.",
          "createdAt": "2025-07-02T18:57:36Z",
          "updatedAt": "2025-07-02T18:57:36Z"
        }
      ]
    },
    {
      "number": 52,
      "id": "I_kwDOGr5frc6AQ9NU",
      "title": "keyDataLength must match the AEAD key length for the suite",
      "url": "https://github.com/cose-wg/draft-ietf-cose-hpke/issues/52",
      "state": "CLOSED",
      "author": "OR13",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "Need to specify this value for every suite we register, for example any suite using A128GCM will have key length 128",
      "createdAt": "2024-02-23T23:01:02Z",
      "updatedAt": "2024-12-13T13:48:02Z",
      "closedAt": "2024-12-13T13:48:02Z",
      "comments": [
        {
          "author": "ilaril",
          "authorAssociation": "CONTRIBUTOR",
          "body": "I don't think COSE-HPKE is using keyDataLength anywhere? The HPKE cipher suites do not have single well-defined keyDataLength. E.g., AEAD 1 (AES-128-GCM) has key data length of both 128 and 96.\r\n\r\nShould this be closed as resolved?",
          "createdAt": "2024-12-12T17:04:41Z",
          "updatedAt": "2024-12-12T17:08:53Z"
        },
        {
          "author": "OR13",
          "authorAssociation": "COLLABORATOR",
          "body": "@ilaril I think so, I can't recall why I wrote this. \r\n\r\nIts probably related to trying to align hpke info requirements in both jose and cose, but you are right that this makes no sense for COSE.\r\n\r\nhttps://datatracker.ietf.org/doc/html/rfc8152#section-11.2\r\n\r\n",
          "createdAt": "2024-12-13T13:48:02Z",
          "updatedAt": "2024-12-13T13:48:02Z"
        }
      ]
    },
    {
      "number": 53,
      "id": "I_kwDOGr5frc6AQ9yi",
      "title": "COSE_KDF_Context is mandatory depending on protected headers",
      "url": "https://github.com/cose-wg/draft-ietf-cose-hpke/issues/53",
      "state": "CLOSED",
      "author": "OR13",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "It needs to be computed consistently by both sender and receiver.\r\nIf related protected header parameters are present, it must be computed and used.\r\n\r\nIf no relevant protected header parameters are present, it SHOULD NOT be used.",
      "createdAt": "2024-02-23T23:04:13Z",
      "updatedAt": "2025-07-02T19:00:27Z",
      "closedAt": "2025-07-02T19:00:27Z",
      "comments": [
        {
          "author": "dajiaji",
          "authorAssociation": "COLLABORATOR",
          "body": "Previously, I posted the following message to the COSE mailing list:\r\n\r\nhttps://mailarchive.ietf.org/arch/msg/cose/XjOlXbTvMRqxhdXhovv5K3fYNnw/\r\n\r\nIn my understanding, it was a mistake in the first place for RFC9053 to define the COSE_KDF_Context structure. There was no need to use the PartyU and PartyV structures in the \"Extract-and-Expand\" key derivation function.\r\n\r\nI believe that in COSE-HPKE, the use of COSE_KDF_Context should be explicitly prohibited to eliminate redundant context binding processes. \r\n\r\nI think it will be easier to discuss based on a specific proposal, so I will create a pull request to update the descriptions related to COSE_KDF_Context. I would be happy if you could review it.",
          "createdAt": "2024-02-25T09:49:37Z",
          "updatedAt": "2024-02-25T09:49:37Z"
        },
        {
          "author": "laurencelundblade",
          "authorAssociation": "COLLABORATOR",
          "body": "I think Enc_structure with context \"COSE_Recipient\" can be an alternative to mandatory use of COSE_KDF_Context.  One of the two MUST be mandatory so that the protected headers in the COSE_Recipient are protected.\r\n\r\nI don't agree with\r\nhttps://mailarchive.ietf.org/arch/msg/cose/XjOlXbTvMRqxhdXhovv5K3fYNnw/\r\n\r\nCOSE_KDF_Context clearly provides protection against the lamps attack for COSE_Recipient with algorithm -25.\r\n\r\n",
          "createdAt": "2024-02-27T19:00:01Z",
          "updatedAt": "2024-02-27T19:00:01Z"
        },
        {
          "author": "OR13",
          "authorAssociation": "COLLABORATOR",
          "body": "Yes, for -25, the AEAD Algorithm ID is mixed into the kdf via COSE_KDF_Context.\r\n\r\nFor -29, the key wrapping algorithm (A128KW) is mixed into the kdf via COSE_KDF_Context.\r\n\r\n\r\nThe key wrapping algorithm wraps a key that can be used for A128GCM or A128CBC... thats the problem",
          "createdAt": "2024-03-03T14:49:04Z",
          "updatedAt": "2024-03-03T14:49:04Z"
        },
        {
          "author": "selfissued",
          "authorAssociation": "CONTRIBUTOR",
          "body": "I would prohibit the use of non AEAD Algorithms such as CBC.\r\n\r\n________________________________\r\nFrom: Orie Steele ***@***.***>\r\nSent: Sunday, March 3, 2024 6:49:16 AM\r\nTo: cose-wg/HPKE ***@***.***>\r\nCc: Subscribed ***@***.***>\r\nSubject: Re: [cose-wg/HPKE] COSE_KDF_Context is mandatory depending on protected headers (Issue #53)\r\n\r\n\r\nYes, for -25, the AEAD Algorithm ID is mixed into the kdf via COSE_KDF_Context.\r\n\r\nFor -29, the key wrapping algorithm (A128KW) is mixed into the kdf via COSE_KDF_Context.\r\n\r\nThe key wrapping algorithm wraps a key that can be used for A128GCM or A128CBC... thats the problem\r\n\r\n\u2014\r\nReply to this email directly, view it on GitHub<https://github.com/cose-wg/HPKE/issues/53#issuecomment-1975186704>, or unsubscribe<https://github.com/notifications/unsubscribe-auth/AB2KJ7WMR7PT2U5W3R3SNH3YWMZ6ZAVCNFSM6AAAAABDXO3FT6VHI2DSMVQWIX3LMV43OSLTON2WKQ3PNVWWK3TUHMYTSNZVGE4DMNZQGQ>.\r\nYou are receiving this because you are subscribed to this thread.Message ID: ***@***.***>\r\n",
          "createdAt": "2024-03-03T15:06:40Z",
          "updatedAt": "2024-03-03T15:06:40Z"
        },
        {
          "author": "laurencelundblade",
          "authorAssociation": "COLLABORATOR",
          "body": "I think binding of the level 0 algorithm ID in with the COSE_Recipient is more than just defending against the lamps attack. It is current security practice:\r\n\r\n- HPKE internally does it. HPKE thoroughly binds all algorithm IDs\r\n- COSE_KDF_Context does it\r\n- It anticipated and defeated the lamps attack and may anticipate and defeat others we don\u2019t know of yet.\r\n\r\nBinding the alg ID is a more universal and sound practice than excluding non-AEAD modes.\r\n\r\nCOSE-HPKE should come out of the gate secure, complete and without implementors having to make complicated security decisions like those to do with COSE_KDF_Context. It should address the lamps attack and use current security practice.\r\n\r\nThere are also use cases for non AEAD algorithms.",
          "createdAt": "2024-03-03T18:46:14Z",
          "updatedAt": "2024-03-03T18:46:14Z"
        },
        {
          "author": "ilaril",
          "authorAssociation": "CONTRIBUTOR",
          "body": "Should this be closed? The -09 draft does not use COSE_KDF_Context but does bind the next layer algorithm for recipients.",
          "createdAt": "2024-12-12T17:07:43Z",
          "updatedAt": "2024-12-12T17:07:43Z"
        },
        {
          "author": "hannestschofenig",
          "authorAssociation": "COLLABORATOR",
          "body": "This issue is outdated.",
          "createdAt": "2025-07-02T19:00:27Z",
          "updatedAt": "2025-07-02T19:00:27Z"
        }
      ]
    },
    {
      "number": 61,
      "id": "I_kwDOGr5frc6jOaNL",
      "title": "alg should not be mandatory in cose headers",
      "url": "https://github.com/cose-wg/draft-ietf-cose-hpke/issues/61",
      "state": "CLOSED",
      "author": "OR13",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "https://mailarchive.ietf.org/arch/msg/cose/GrvF6Dy8NkFbB79nHdzOdo0cGfc/",
      "createdAt": "2024-12-13T13:57:06Z",
      "updatedAt": "2025-07-02T18:54:28Z",
      "closedAt": "2025-07-02T18:54:28Z",
      "comments": [
        {
          "author": "hannestschofenig",
          "authorAssociation": "COLLABORATOR",
          "body": "I agree that the alg parameter cannot be mandatory. With all the discussions we had so far I guess we all realize by now that even using the alg parameter is a bad idea",
          "createdAt": "2024-12-22T15:58:43Z",
          "updatedAt": "2024-12-22T15:58:43Z"
        },
        {
          "author": "hannestschofenig",
          "authorAssociation": "COLLABORATOR",
          "body": "In the latest version of the draft the alg parameter is not mandatory anymore.",
          "createdAt": "2025-07-02T18:54:28Z",
          "updatedAt": "2025-07-02T18:54:28Z"
        }
      ]
    },
    {
      "number": 67,
      "id": "I_kwDOGr5frc6mpdAC",
      "title": "Comply with NIST SP 800-227 Recommendations for Key-Encapsulation Mechanisms",
      "url": "https://github.com/cose-wg/draft-ietf-cose-hpke/issues/67",
      "state": "CLOSED",
      "author": "selfissued",
      "authorAssociation": "CONTRIBUTOR",
      "assignees": [],
      "labels": [],
      "body": "We should verify that we're complying with the guidance in https://csrc.nist.gov/pubs/sp/800/227/ipd.",
      "createdAt": "2025-01-17T16:42:01Z",
      "updatedAt": "2025-07-02T19:08:03Z",
      "closedAt": "2025-07-02T19:08:03Z",
      "comments": [
        {
          "author": "hannestschofenig",
          "authorAssociation": "COLLABORATOR",
          "body": "I looked at the guidance from NIST and I was not able to find anything we could/should do differently.",
          "createdAt": "2025-07-02T19:07:59Z",
          "updatedAt": "2025-07-02T19:07:59Z"
        }
      ]
    },
    {
      "number": 68,
      "id": "I_kwDOGr5frc6rXwH2",
      "title": "Make setup info default to empty string",
      "url": "https://github.com/cose-wg/draft-ietf-cose-hpke/issues/68",
      "state": "CLOSED",
      "author": "OR13",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "https://github.com/ietf-wg-jose/draft-ietf-jose-hpke-encrypt/pull/28#discussion_r1966468470\n\nTLDR; Lets allow setup info to be set to values other than the empty string, in case folks need that extension point.",
      "createdAt": "2025-02-24T14:21:46Z",
      "updatedAt": "2025-05-27T13:06:38Z",
      "closedAt": "2025-05-27T13:06:38Z",
      "comments": []
    },
    {
      "number": 69,
      "id": "I_kwDOGr5frc6xMOUO",
      "title": "Remove auth and auth_psk modes",
      "url": "https://github.com/cose-wg/draft-ietf-cose-hpke/issues/69",
      "state": "CLOSED",
      "author": "OR13",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "Similar to https://github.com/ietf-wg-jose/draft-ietf-jose-hpke-encrypt/pull/32",
      "createdAt": "2025-04-04T15:42:39Z",
      "updatedAt": "2025-06-20T14:09:40Z",
      "closedAt": "2025-06-20T14:09:39Z",
      "comments": [
        {
          "author": "selfissued",
          "authorAssociation": "CONTRIBUTOR",
          "body": "I agree that this should be done, both to track what's happening in the HPKE world and to continue aligning with JOSE HPKE.",
          "createdAt": "2025-04-04T21:06:15Z",
          "updatedAt": "2025-04-04T21:06:15Z"
        },
        {
          "author": "ilaril",
          "authorAssociation": "CONTRIBUTOR",
          "body": "As note, COSE-HPKE seems to currently only properly support base mode. PSK mode could be straightforwardly ported from JOSE-HPKE (add a bstr recipient header to contain the PSK ID, and signal that PSK mode is used instead of base mode).\n",
          "createdAt": "2025-04-11T06:48:39Z",
          "updatedAt": "2025-04-11T06:48:39Z"
        },
        {
          "author": "hannestschofenig",
          "authorAssociation": "COLLABORATOR",
          "body": "Addressed in the published version",
          "createdAt": "2025-06-20T14:09:39Z",
          "updatedAt": "2025-06-20T14:09:39Z"
        }
      ]
    },
    {
      "number": 73,
      "id": "I_kwDOGr5frc68jxFk",
      "title": "Clarification in the Abstract",
      "url": "https://github.com/cose-wg/draft-ietf-cose-hpke/issues/73",
      "state": "CLOSED",
      "author": "hannestschofenig",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "The abstract says:\n\n>    HPKE works for any combination of an asymmetric key encapsulation\n>    mechanism (KEM), key derivation function (KDF), and authenticated\n>    encryption with additional data (AEAD) function.\n\nIt is not correct that HPKE works for any combination, particularly since the use in COSE focuses on different algorithm combinations.\n\nHence, it would be better to write:\n\n> HPKE is a general encryption framework utilizing\n> an asymmetric key encapsulation mechanism (KEM), a key derivation function (KDF),\n> and an authenticated encryption with additional data (AEAD) algorithm.\n",
      "createdAt": "2025-06-20T14:15:35Z",
      "updatedAt": "2025-06-20T15:34:46Z",
      "closedAt": "2025-06-20T15:34:45Z",
      "comments": [
        {
          "author": "hannestschofenig",
          "authorAssociation": "COLLABORATOR",
          "body": "Addressed in this commit:\nhttps://github.com/cose-wg/HPKE/commit/0c0cf275188a4c27e9407951f097ce067b09187a\n",
          "createdAt": "2025-06-20T14:18:34Z",
          "updatedAt": "2025-06-20T14:18:45Z"
        },
        {
          "author": "selfissued",
          "authorAssociation": "CONTRIBUTOR",
          "body": "We should copy the updated JOSE language fixing this.",
          "createdAt": "2025-06-20T15:33:20Z",
          "updatedAt": "2025-06-20T15:33:20Z"
        },
        {
          "author": "hannestschofenig",
          "authorAssociation": "COLLABORATOR",
          "body": "Issue was addressed in the commit above.",
          "createdAt": "2025-06-20T15:34:45Z",
          "updatedAt": "2025-06-20T15:34:45Z"
        }
      ]
    },
    {
      "number": 74,
      "id": "I_kwDOGr5frc68jzsi",
      "title": "Regenerate Examples",
      "url": "https://github.com/cose-wg/draft-ietf-cose-hpke/issues/74",
      "state": "CLOSED",
      "author": "hannestschofenig",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [
        "help wanted"
      ],
      "body": "There is an open action item to re-generate the examples in the draft. ",
      "createdAt": "2025-06-20T14:19:53Z",
      "updatedAt": "2025-09-19T15:52:16Z",
      "closedAt": "2025-09-19T15:52:16Z",
      "comments": [
        {
          "author": "hannestschofenig",
          "authorAssociation": "COLLABORATOR",
          "body": "https://github.com/cose-wg/HPKE/pull/77",
          "createdAt": "2025-06-20T14:26:32Z",
          "updatedAt": "2025-06-20T14:26:32Z"
        },
        {
          "author": "hannestschofenig",
          "authorAssociation": "COLLABORATOR",
          "body": "Done",
          "createdAt": "2025-09-19T15:52:16Z",
          "updatedAt": "2025-09-19T15:52:16Z"
        }
      ]
    },
    {
      "number": 75,
      "id": "I_kwDOGr5frc68j1U4",
      "title": "Terminology-Alignment with JOSE HPKE Draft",
      "url": "https://github.com/cose-wg/draft-ietf-cose-hpke/issues/75",
      "state": "CLOSED",
      "author": "hannestschofenig",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "In the JOSE HPKE draft we decided to use the terms\n\n- integrated encryption, and \n- key encryption.\n\nIn the COSE HPKE draft we are currently using the terms\n\n- direct encryption, and \n- key encryption\n\nI suggest to align the two and to use the term integrated encryption also in the COSE HPKE draft.",
      "createdAt": "2025-06-20T14:21:44Z",
      "updatedAt": "2025-06-20T18:45:28Z",
      "closedAt": "2025-06-20T18:45:27Z",
      "comments": [
        {
          "author": "hannestschofenig",
          "authorAssociation": "COLLABORATOR",
          "body": "https://github.com/cose-wg/HPKE/pull/76",
          "createdAt": "2025-06-20T14:23:40Z",
          "updatedAt": "2025-06-20T14:23:40Z"
        },
        {
          "author": "selfissued",
          "authorAssociation": "CONTRIBUTOR",
          "body": "Fixed by #76 ",
          "createdAt": "2025-06-20T18:45:28Z",
          "updatedAt": "2025-06-20T18:45:28Z"
        }
      ]
    },
    {
      "number": 79,
      "id": "I_kwDOGr5frc68j_ER",
      "title": "Added mapping between ciphersuite labels and their textual description",
      "url": "https://github.com/cose-wg/draft-ietf-cose-hpke/issues/79",
      "state": "CLOSED",
      "author": "hannestschofenig",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "https://github.com/cose-wg/HPKE/pull/78",
      "createdAt": "2025-06-20T14:35:53Z",
      "updatedAt": "2025-06-20T18:44:48Z",
      "closedAt": "2025-06-20T18:44:48Z",
      "comments": [
        {
          "author": "selfissued",
          "authorAssociation": "CONTRIBUTOR",
          "body": "Fixed by #78",
          "createdAt": "2025-06-20T18:44:48Z",
          "updatedAt": "2025-06-20T18:44:48Z"
        }
      ]
    },
    {
      "number": 81,
      "id": "I_kwDOGr5frc68uGlC",
      "title": "Ilari's concerns about COSE_Mac",
      "url": "https://github.com/cose-wg/draft-ietf-cose-hpke/issues/81",
      "state": "CLOSED",
      "author": "laurencelundblade",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "I'm filing this so we don't forget to at least check this over (I haven't yet).\n\nOn Jun 21, 2025, at 11:07\u202fAM, Ilari Liusvaara <ilariliusvaara@welho.com> wrote:\n\nThe COSE_MAC stuff seems very broken, at least in base mode. What is\nto prevent an attacker that has victim public key from choosing the\nmessage, MACing it with random key, and then encrypting the key to\nrecipient?\n\nThat would not work in auth mode, but it is not supported (and it\nwould still be a lot weaker than proper signatures).\n",
      "createdAt": "2025-06-22T19:23:08Z",
      "updatedAt": "2025-09-19T15:52:40Z",
      "closedAt": "2025-09-19T15:52:40Z",
      "comments": [
        {
          "author": "hannestschofenig",
          "authorAssociation": "COLLABORATOR",
          "body": "Call me strange but without authentication this is of course possible. That is what we write in the security consideration section. The same is true for the encryption operation.",
          "createdAt": "2025-07-02T19:19:34Z",
          "updatedAt": "2025-07-02T19:19:34Z"
        },
        {
          "author": "hannestschofenig",
          "authorAssociation": "COLLABORATOR",
          "body": "We could check whether the text in the security consideration section is clear about the properties. ",
          "createdAt": "2025-07-02T19:20:07Z",
          "updatedAt": "2025-07-02T19:20:07Z"
        },
        {
          "author": "laurencelundblade",
          "authorAssociation": "COLLABORATOR",
          "body": "Why is that example given? I know there are such examples in 9052, but that doesn't mean we need one here.\n\nMaybe I'm missing something, but this doesn't seem like a use case we want to recommend or one that highlights anything interesting about HPKE. I don't think the use cases in 9052 are ones to recommend either, but 9052 is published and 9052 does defined COSE_MAC so it is of interest to give examples of it.\n\nMaybe we can just delete the example?",
          "createdAt": "2025-07-03T14:54:12Z",
          "updatedAt": "2025-07-03T14:54:12Z"
        },
        {
          "author": "hannestschofenig",
          "authorAssociation": "COLLABORATOR",
          "body": "To be clear the text in the security consideration section relevant for this issue currently says this:\n\n> HPKE in Base mode does not offer authentication as part of the HPKE KEM. In this case COSE constructs like COSE_Sign, COSE_Sign1, COSE_Mac, or COSE_Mac0 can be used to add authentication.\n\nI propose to close this issue on this basis.",
          "createdAt": "2025-07-11T15:44:17Z",
          "updatedAt": "2025-07-11T15:44:17Z"
        },
        {
          "author": "laurencelundblade",
          "authorAssociation": "COLLABORATOR",
          "body": "See https://mailarchive.ietf.org/arch/msg/cose/Uebk-VJCRXBTqm8BNuZ7jRre5HY/\n\nMy preference remains to remove the example. The security of the example is so bad that security considerations in another section don't suffice.",
          "createdAt": "2025-07-16T17:15:32Z",
          "updatedAt": "2025-07-16T17:15:32Z"
        },
        {
          "author": "hannestschofenig",
          "authorAssociation": "COLLABORATOR",
          "body": "COSE MAC got removed",
          "createdAt": "2025-09-19T15:52:40Z",
          "updatedAt": "2025-09-19T15:52:40Z"
        }
      ]
    },
    {
      "number": 86,
      "id": "I_kwDOGr5frc7AIeb5",
      "title": "Add more header parameters to the examples",
      "url": "https://github.com/cose-wg/draft-ietf-cose-hpke/issues/86",
      "state": "CLOSED",
      "author": "hannestschofenig",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "Example:\n\n96_0([\n    / alg = AES-128-GCM (1) /\n    h'a10101',\n    {\n        / iv /\n        5: h'b3fb95dde18c6f90a9f0ae55',\n    },\n    / detached ciphertext /\n    null,\n    [\n        [\n            / alg = HPKE-0 (Assumed: 35) /\n            h'a1011823',\n            {\n                / kid /\n                4: h'3031',\n                / ek /\n                -4: h'04d97b79486fe2e7b98fb1bd43\n                      c4faee316ff38d28609a1cf568\n                      40a809298a91e601f1cc0c2ba4\n                      6cb67b41f4651b769cafd9df78\n                      e58aa7f5771291bd4f0f420ba6',\n            },\n            / ciphertext containing encrypted CEK /\n            h'24450f54ae93375351467d17aa7a795cfede2\n              c03eced1ad21fcb7e7c2fe64397',\n        ],\n        [\n             / protected h'a10126' / << {\n                / alg / 1:42 /  HPKE-4 (Assumed: 42) /\n                / salt / -20: 'aabbccddeeffgghh' \n                / PartyV identity / -24:'bob@example.com',\n               } >>,\n              / unprotected / {\n                / kid / 4:'11'\n              },\n                / ek /\n                -4: h'd1afbdc95b0e735676f6bca34f\n                      be50f2822259ac09bfc3c500f1\n                      4a05de9b2833',\n            },\n            / ciphertext containing encrypted CEK /\n            h'079b443ec6dfcda6a5f8748aff3875146a8ed\n              40359e1279b545166385d8d9b59',\n        ],\n    ],\n])",
      "createdAt": "2025-07-11T16:06:56Z",
      "updatedAt": "2025-09-19T15:52:52Z",
      "closedAt": "2025-09-19T15:52:52Z",
      "comments": [
        {
          "author": "hannestschofenig",
          "authorAssociation": "COLLABORATOR",
          "body": "Done",
          "createdAt": "2025-09-19T15:52:52Z",
          "updatedAt": "2025-09-19T15:52:52Z"
        }
      ]
    },
    {
      "number": 94,
      "id": "I_kwDOGr5frc7VYSWF",
      "title": "Define HPKE-7",
      "url": "https://github.com/cose-wg/draft-ietf-cose-hpke/issues/94",
      "state": "CLOSED",
      "author": "selfissued",
      "authorAssociation": "CONTRIBUTOR",
      "assignees": [],
      "labels": [],
      "body": "Define the HPKE-7 algorithm, corresponding to https://www.ietf.org/archive/id/draft-ietf-jose-hpke-encrypt-14.html#name-hpke-7 in the JOSE HPKE specification.",
      "createdAt": "2025-11-02T20:26:20Z",
      "updatedAt": "2025-12-15T08:38:20Z",
      "closedAt": "2025-12-15T08:38:20Z",
      "comments": []
    },
    {
      "number": 95,
      "id": "I_kwDOGr5frc7aeg56",
      "title": "Use fully-specified algorithms",
      "url": "https://github.com/cose-wg/draft-ietf-cose-hpke/issues/95",
      "state": "CLOSED",
      "author": "selfissued",
      "authorAssociation": "CONTRIBUTOR",
      "assignees": [],
      "labels": [],
      "body": "JOSE HPKE is in the process of using separate algorithms for Integrated Encryption versus Key Encryption.  See https://github.com/ietf-wg-jose/draft-ietf-jose-hpke-encrypt/pull/84 and the rendered version at https://self-issued.info/tmp/draft-ietf-jose-hpke-encrypt.html.  You'll see that there are now HPKE-[0-7] algorithms for Integrated Encryption and parallel HPKE-[0-7]-KE algorithms for Key Encryption.\n\nIt seems to me that COSE should do the same.",
      "createdAt": "2025-11-26T02:36:12Z",
      "updatedAt": "2025-12-15T08:38:19Z",
      "closedAt": "2025-12-15T08:38:19Z",
      "comments": [
        {
          "author": "ilaril",
          "authorAssociation": "CONTRIBUTOR",
          "body": "There is no need to duplicate the algorithms, as any bulk encryption algorithm in COSE can also be used for keys. The same is not true for JOSE.\n\nThere is even precedent for this: In COSE, A256GCM can be used for both bulk encryption and Key Wrap, while in JOSE, A256GCM is only for bulk encryption, and the corresponding Key Wrapping algorithm is A256GCMKW.\n\nOne could even fully merge the modes by making it always use Recipient_structure, and having next_layer_alg be nil on layer zero.",
          "createdAt": "2025-11-26T09:16:10Z",
          "updatedAt": "2025-11-26T13:48:08Z"
        },
        {
          "author": "hannestschofenig",
          "authorAssociation": "COLLABORATOR",
          "body": "I am not convinced about this argument, Ilari.\n\nConsider the example in Section 6.1.3 of https://datatracker.ietf.org/doc/draft-ietf-suit-firmware-encryption/\n\nThere, we use the algorithm \"ECDH-ES + A128KW\" for the CEK encryption and then \"A128GCM\" for encryption of the firmware image (the content).",
          "createdAt": "2025-12-05T16:23:59Z",
          "updatedAt": "2025-12-05T16:23:59Z"
        },
        {
          "author": "ilaril",
          "authorAssociation": "CONTRIBUTOR",
          "body": "Any algorithm that can be used on layer 0 can be used on any layer, due to AE/AEAD ciphers recursing into non-direct recipients.\n\nHowever, vice versa is not true, because there are algorithms that are unsafe on layer 0 due to lack of proper cryptographic separation. Having two algorithms does not help, since there is cross-mode attack.\n\nOnly (quasi-)AEAD algorithms like Section 5.3 ciphers and COSE-HPKE should be used on layer 0, as those do have the proper separation.",
          "createdAt": "2025-12-05T18:29:19Z",
          "updatedAt": "2025-12-05T18:31:40Z"
        },
        {
          "author": "selfissued",
          "authorAssociation": "CONTRIBUTOR",
          "body": "> Having two algorithms does not help, since there is cross-mode attack.\n\nIlari, can you describe the cross-mode attack you have in mind (how it works and what the effects of it are) and whether and how it can be employed against the COSE HPKE algorithms?  And can you also describe what you mean by \"cryptographic separation\" and how it relates to the attack you have in mind?  (I looked for the term \"cryptographic separation\" in RFC 9052 but it wasn't used there.)\n\nThanks.",
          "createdAt": "2025-12-05T19:05:39Z",
          "updatedAt": "2025-12-05T19:05:39Z"
        },
        {
          "author": "ilaril",
          "authorAssociation": "CONTRIBUTOR",
          "body": "The idea is:\n\n- Attacker takes a COSE_recipient structure from message and sends it as COSE_Encrypt or COSE_Encrypt0 message.\n- If this message successfully decrypts, it will decrypt into CEK.\n- The message is gibberish, but there are badly done applications that can handle those in dangerous ways.\n\nThe proper way to prevent this attack is to cryptographically ensure that the decryption of COSE_recipient as COSE_Encrypt/COSE_Encrypt0 will fail. For example, RFC 9052 AEAD algorithms do this via the `Enc_structure.context` field.\n\ndraft-ietf-cose-hpke-14 (later versions break some stuff) also does this, as Enc_structure used on layer 0 and Recipient_structure used on layer >0 are hard incompatible.\n\nHowever, with various algorithms using AES-KW (and maybe some others), it is possible that the decryption will succeed. This comes down to implementation checks, which is not great.\n\nThe reverse is not useful, as there is no message authentication. Attacker can use recipient public key to send arbitrary messages.",
          "createdAt": "2025-12-05T20:38:11Z",
          "updatedAt": "2025-12-05T20:38:11Z"
        }
      ]
    },
    {
      "number": 112,
      "id": "I_kwDOGr5frc7oZvoY",
      "title": "Deterministic serialization for Recipient_structure, not header parameters",
      "url": "https://github.com/cose-wg/draft-ietf-cose-hpke/issues/112",
      "state": "OPEN",
      "author": "laurencelundblade",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "It might have been me that wrote this text wrong in the first place...\n\nIt is Recipient_structure that must be serialized deterministic just like Sig_structure and friends. The current text says it should be the COSE_Recipient headers.\n\nI am working on a PR for this and related.",
      "createdAt": "2026-02-05T00:48:21Z",
      "updatedAt": "2026-02-06T15:42:28Z",
      "closedAt": null,
      "comments": [
        {
          "author": "hannestschofenig",
          "authorAssociation": "COLLABORATOR",
          "body": "Thanks for the review, Laurence! Please write this PR asap.",
          "createdAt": "2026-02-06T15:37:45Z",
          "updatedAt": "2026-02-06T15:37:45Z"
        },
        {
          "author": "selfissued",
          "authorAssociation": "CONTRIBUTOR",
          "body": "Indeed, the WGLC ends on Wednesday, February 11th.  If you could create the PR before then, that would be super helpful.",
          "createdAt": "2026-02-06T15:42:28Z",
          "updatedAt": "2026-02-06T15:42:28Z"
        }
      ]
    },
    {
      "number": 115,
      "id": "I_kwDOGr5frc7phdgF",
      "title": "Use the term \"CEK\" consistently",
      "url": "https://github.com/cose-wg/draft-ietf-cose-hpke/issues/115",
      "state": "OPEN",
      "author": "laurencelundblade",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "In several places it is referred to the \u201craw key for the next layer\u201d. In other places it is just \u201cthe key\u201d\n",
      "createdAt": "2026-02-09T19:54:08Z",
      "updatedAt": "2026-02-09T19:54:08Z",
      "closedAt": null,
      "comments": []
    },
    {
      "number": 116,
      "id": "I_kwDOGr5frc7pheIM",
      "title": "recipient_aad",
      "url": "https://github.com/cose-wg/draft-ietf-cose-hpke/issues/116",
      "state": "OPEN",
      "author": "laurencelundblade",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "\u201cRecipient_aad\u201d is discussed as if it were a field in a structure. It\u2019s not a term of use in COSE or HPKE. There\u2019s a whole paragraph discussing \u201crecipient_aad\u201d that I find confusing.",
      "createdAt": "2026-02-09T19:55:09Z",
      "updatedAt": "2026-02-09T19:55:09Z",
      "closedAt": null,
      "comments": []
    },
    {
      "number": 117,
      "id": "I_kwDOGr5frc7pheb-",
      "title": "\u201calg\u201d  in double quote marks",
      "url": "https://github.com/cose-wg/draft-ietf-cose-hpke/issues/117",
      "state": "OPEN",
      "author": "laurencelundblade",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "When referring to the algorithm ID parameter it should be \u201calg\u201d in double quote marks like it is in 9052. In this document it is sometimes bare and other times in single quotes.\n",
      "createdAt": "2026-02-09T19:55:40Z",
      "updatedAt": "2026-02-09T19:55:40Z",
      "closedAt": null,
      "comments": []
    },
    {
      "number": 118,
      "id": "I_kwDOGr5frc7pheou",
      "title": "Use <field> \u201c:\u201d <description> in describing Recipient_structure",
      "url": "https://github.com/cose-wg/draft-ietf-cose-hpke/issues/118",
      "state": "OPEN",
      "author": "laurencelundblade",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "Use a colon rather than a sentence to be consistent with 9052 and to be more clear\n",
      "createdAt": "2026-02-09T19:56:00Z",
      "updatedAt": "2026-02-09T19:56:00Z",
      "closedAt": null,
      "comments": []
    },
    {
      "number": 119,
      "id": "I_kwDOGr5frc7phhLv",
      "title": "Link to RFC 9052 Content Key Distribution Methods",
      "url": "https://github.com/cose-wg/draft-ietf-cose-hpke/issues/119",
      "state": "OPEN",
      "author": "laurencelundblade",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "Section 8 of RFC 9052 is THE taxonomy of Content Key Distribution methods. All the Content Key Distribution Methods in Section 6 of 9053 normatively link back to Section 8. I believe that\u2019s the way COSE specifications are supposed to work.\n\nCOSE-HPKE key encryption mode is a flavor of 8.5.5, Key Agreement with Key Wrap. The normative requirements it states largely apply to COSE-HPKE recipients.\n\nNote that it's possible for a COSE-HPKE recipient to sit next to an algorithm -29 recipient and both wrap the same CEK.",
      "createdAt": "2026-02-09T19:59:35Z",
      "updatedAt": "2026-02-09T19:59:35Z",
      "closedAt": null,
      "comments": []
    },
    {
      "number": 120,
      "id": "I_kwDOGr5frc7phm1p",
      "title": "Separate justification and commentary from specification",
      "url": "https://github.com/cose-wg/draft-ietf-cose-hpke/issues/120",
      "state": "OPEN",
      "author": "laurencelundblade",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "I'd like to see the discussion of the lamps attack and justification for Recipient_structure in their own sub section rather than in parenthetical text. The main thing is the justification inserted in the definition of the \"next_layer_alg\" bullet.\n\nWhen you separate them it makes the specification part of the text clear and uncluttered.\n\nWhen you separate them, it gives more space to do a better job of the justification and commentary.",
      "createdAt": "2026-02-09T20:06:12Z",
      "updatedAt": "2026-02-09T20:06:12Z",
      "closedAt": null,
      "comments": []
    },
    {
      "number": 121,
      "id": "I_kwDOGr5frc7phrvv",
      "title": "\"Depends on the COSE-HPKE algorithm used\" unclear?",
      "url": "https://github.com/cose-wg/draft-ietf-cose-hpke/issues/121",
      "state": "OPEN",
      "author": "laurencelundblade",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "The algorithm ID's used by HPKE are all described as \"Depends on the COSE-HPKE algorithm used\". \n\nIt seems much more clear to say something like \"Comes from the COSE-HPKE Ciphersuite. See section 4\"",
      "createdAt": "2026-02-09T20:10:28Z",
      "updatedAt": "2026-02-09T20:10:28Z",
      "closedAt": null,
      "comments": []
    },
    {
      "number": 122,
      "id": "I_kwDOGr5frc7piZf2",
      "title": "Reorient 3.1.2.2. COSE-HPKE Recipient Construction around COSE_Recipient",
      "url": "https://github.com/cose-wg/draft-ietf-cose-hpke/issues/122",
      "state": "OPEN",
      "author": "laurencelundblade",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "COSE HPKE Key encryption is a Content Key Distribution Method per section 8 or 9052. All of these define how to construct a COSE_Recipient and say so very clearly. The text in 3.1.2.2 is about filling in a COSE_Recipient, but it doesn't provide any intro or framing that this is what it is doing. It just starts talking about parameters, not even mentioning that they are COSE_Recipient parameters.",
      "createdAt": "2026-02-09T20:54:01Z",
      "updatedAt": "2026-02-09T20:54:01Z",
      "closedAt": null,
      "comments": []
    },
    {
      "number": 123,
      "id": "I_kwDOGr5frc7pih__",
      "title": "Move MUSTs to 3.1.1.2",
      "url": "https://github.com/cose-wg/draft-ietf-cose-hpke/issues/123",
      "state": "OPEN",
      "author": "laurencelundblade",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "3.1.1.2, titled \"COSE-HPKE Recipient Construction\" is the procedure for creating the needed COSE_Recipient. That's really where most of the MUSTS should be. Some of them can move from 3.1.1.1.\n\n3.1.1.2 would also be better if it were more stepwise and procedural.",
      "createdAt": "2026-02-09T21:02:20Z",
      "updatedAt": "2026-02-09T21:02:20Z",
      "closedAt": null,
      "comments": []
    }
  ],
  "pulls": [
    {
      "number": 4,
      "id": "PR_kwDOGr5frc41Sci3",
      "title": "Typo",
      "url": "https://github.com/cose-wg/draft-ietf-cose-hpke/pull/4",
      "state": "MERGED",
      "author": "gselander",
      "authorAssociation": "CONTRIBUTOR",
      "assignees": [],
      "labels": [],
      "body": "Just stumbled on a typo in the CDDL.",
      "createdAt": "2022-03-30T06:45:20Z",
      "updatedAt": "2022-04-26T14:10:16Z",
      "baseRepository": "cose-wg/draft-ietf-cose-hpke",
      "baseRefName": "main",
      "baseRefOid": "f916b65687bfe475e5328bdcab694ff4706e2d28",
      "headRepository": "gselander/HPKE",
      "headRefName": "patch-1",
      "headRefOid": "1ac4aa31f8cff56d230c84e80011884f6e1ee4af",
      "closedAt": "2022-04-26T14:10:16Z",
      "mergedAt": "2022-04-26T14:10:16Z",
      "mergedBy": "hannestschofenig",
      "mergeCommit": {
        "oid": "4663058aca59243aa446fb6ee2bfbe347ccd37af"
      },
      "comments": [
        {
          "author": "hannestschofenig",
          "authorAssociation": "COLLABORATOR",
          "body": "Thanks for spotting this typo.",
          "createdAt": "2022-04-25T16:28:24Z",
          "updatedAt": "2022-04-25T16:28:24Z"
        }
      ],
      "reviews": []
    },
    {
      "number": 5,
      "id": "PR_kwDOGr5frc42nqP4",
      "title": "Adding single sender-single recipient use case",
      "url": "https://github.com/cose-wg/draft-ietf-cose-hpke/pull/5",
      "state": "MERGED",
      "author": "hannestschofenig",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "More info is available here: https://mailarchive.ietf.org/arch/msg/cose/9nowDz5kbfUvrGR-o6U1Tm31XAA/",
      "createdAt": "2022-04-22T11:53:18Z",
      "updatedAt": "2022-04-26T14:09:31Z",
      "baseRepository": "cose-wg/draft-ietf-cose-hpke",
      "baseRefName": "main",
      "baseRefOid": "f916b65687bfe475e5328bdcab694ff4706e2d28",
      "headRepository": "cose-wg/draft-ietf-cose-hpke",
      "headRefName": "hannestschofenig-patch-1",
      "headRefOid": "c3a1208289cd83639c4fe1d455626fc13ba7d4ee",
      "closedAt": "2022-04-26T14:09:27Z",
      "mergedAt": "2022-04-26T14:09:27Z",
      "mergedBy": "hannestschofenig",
      "mergeCommit": {
        "oid": "7bf25fe7f8b586bd02f60dd90de4acb5dfe36456"
      },
      "comments": [],
      "reviews": []
    },
    {
      "number": 6,
      "id": "PR_kwDOGr5frc42to-O",
      "title": "Update in \"HPKE Encryption with SealBase\"",
      "url": "https://github.com/cose-wg/draft-ietf-cose-hpke/pull/6",
      "state": "MERGED",
      "author": "hannestschofenig",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "Based on a comment by Ilari",
      "createdAt": "2022-04-25T09:47:45Z",
      "updatedAt": "2022-04-26T14:09:44Z",
      "baseRepository": "cose-wg/draft-ietf-cose-hpke",
      "baseRefName": "main",
      "baseRefOid": "f916b65687bfe475e5328bdcab694ff4706e2d28",
      "headRepository": "cose-wg/draft-ietf-cose-hpke",
      "headRefName": "hannestschofenig-patch-2",
      "headRefOid": "b5b75f551dff94fb92b64c850fe89461a271829a",
      "closedAt": "2022-04-26T14:09:41Z",
      "mergedAt": "2022-04-26T14:09:41Z",
      "mergedBy": "hannestschofenig",
      "mergeCommit": {
        "oid": "c2847c64566c0bdbcb45c74ed17d7d31d0e27927"
      },
      "comments": [],
      "reviews": []
    },
    {
      "number": 7,
      "id": "PR_kwDOGr5frc42tpnv",
      "title": "Update of \"HPKE Decryption with OpenBase\"",
      "url": "https://github.com/cose-wg/draft-ietf-cose-hpke/pull/7",
      "state": "MERGED",
      "author": "hannestschofenig",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "Based on comments by Ilari",
      "createdAt": "2022-04-25T09:50:28Z",
      "updatedAt": "2022-04-26T14:09:55Z",
      "baseRepository": "cose-wg/draft-ietf-cose-hpke",
      "baseRefName": "main",
      "baseRefOid": "f916b65687bfe475e5328bdcab694ff4706e2d28",
      "headRepository": "cose-wg/draft-ietf-cose-hpke",
      "headRefName": "hannestschofenig-patch-3",
      "headRefOid": "64da892886d8c2955ed12b8d05607737d935a6da",
      "closedAt": "2022-04-26T14:09:53Z",
      "mergedAt": "2022-04-26T14:09:53Z",
      "mergedBy": "hannestschofenig",
      "mergeCommit": {
        "oid": "468b8336fd40bf6fc0bab55f6948cb3829b46d74"
      },
      "comments": [],
      "reviews": []
    },
    {
      "number": 9,
      "id": "PR_kwDOGr5frc5AH7BT",
      "title": "Daisuke\u2019s proposal",
      "url": "https://github.com/cose-wg/draft-ietf-cose-hpke/pull/9",
      "state": "MERGED",
      "author": "hannestschofenig",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "This PR is the result of mailing list discussions following the IETF meeting in Philadelphia, July 2022. ",
      "createdAt": "2022-10-04T10:48:57Z",
      "updatedAt": "2023-02-20T17:06:07Z",
      "baseRepository": "cose-wg/draft-ietf-cose-hpke",
      "baseRefName": "main",
      "baseRefOid": "3f78dc92c6f669ef851efaf60a233bc3659d3b10",
      "headRepository": "cose-wg/draft-ietf-cose-hpke",
      "headRefName": "hannestschofenig-patch-1",
      "headRefOid": "d54703e0894f69f74db34526fb5c5f300ff3e03e",
      "closedAt": "2023-02-20T17:06:06Z",
      "mergedAt": "2023-02-20T17:06:06Z",
      "mergedBy": "hannestschofenig",
      "mergeCommit": {
        "oid": "f1a2097ffe253150f37ff121018d392be9638faa"
      },
      "comments": [
        {
          "author": "hannestschofenig",
          "authorAssociation": "COLLABORATOR",
          "body": "Thanks for the quick review. I believe I have addressed all your comments in the updated version of the text",
          "createdAt": "2022-10-05T08:10:30Z",
          "updatedAt": "2022-10-05T08:10:30Z"
        },
        {
          "author": "dajiaji",
          "authorAssociation": "COLLABORATOR",
          "body": "@hannestschofenig, Thanks for adding examples but I found a bug on [my implementation (python_cwt)](https://github.com/dajiaji/python-cwt). Specifically, in the Layer Two example, \"Enc_Recipient\" should have been used as the AAD context string, but \"Encrypt\" was used. In addition, I reconsidered that the `alg` value for the first layer should not be \"HPKE\" in the Layer Two example.\r\n\r\nI apologize for the inconvenience, but could you please replace the Layer Two exampe with the following? Thank you in advance.\r\n\r\n```\r\n96_0([\r\n    h'',  // **This is the mandatory point to be fixed.**\r\n    {},\r\n    h'',\r\n    [\r\n        [\r\n            h'a10120',\r\n            {\r\n                4: h'3031',\r\n                -4: {\r\n                    1: 16,\r\n                    5: 1,\r\n                    2: 1,\r\n                    3: h'040de016c6e59fe4c8b91d72ea09cfe0b6e30eca70c53da601348a03ae3a4efc6fa2cf45b76c9ad2bbe58ccea00f1628d4bb0881c239606ff4b82f251e80505290',\r\n                },\r\n            },\r\n            h'5feb0d61e1d720f33096a0337ae208fbef9a71ce7920de2351b42fb300e546dff16e20e9',\r\n        ],\r\n    ],\r\n    ```",
          "createdAt": "2022-10-24T12:48:37Z",
          "updatedAt": "2022-10-24T12:50:34Z"
        },
        {
          "author": "hannestschofenig",
          "authorAssociation": "COLLABORATOR",
          "body": "@dajiaji The example you propose above is clearly incorrect since layer 0 does not contain any information about how to encrypt the ciphertext.",
          "createdAt": "2022-11-18T09:35:21Z",
          "updatedAt": "2022-11-18T09:35:21Z"
        },
        {
          "author": "dajiaji",
          "authorAssociation": "COLLABORATOR",
          "body": "@hannestschofenig Could you use the following example? It was generated by my implementation (python-cwt).\r\n\r\n```\r\n96_0([\r\n    h'a10101',  // A128GCM (1)\r\n    {5: h'67303696a1cc2b6a64867096'},  // iv\r\n    h'3a99a2a29ef72d449e5ae3a28af44d748e2846848ccc287889610f4d6971fc2092729b8c',\r\n    [\r\n        [\r\n            h'a10120',  // HPKE (-1)\r\n            {\r\n                4: h'3031',  // kid = b\"01\"\r\n                -4: {\r\n                    1: 16,\r\n                    2: 1,\r\n                    3: 1,\r\n                    4: h'04bcc7294fd440450406067d9ec7cf06d703a2a5688a59aa57b432941a03b8a0febb31b5365476c84bb358f20e435954ed777dac66a606ebdd0988ca8b7e85ae98',\r\n                },\r\n            },\r\n            h'f033bf10e66869645a848843dce4c2d72c4e46f0767bff003b6ea5603cb3490f',\r\n        ],\r\n    ],\r\n])\r\n```",
          "createdAt": "2022-11-19T07:41:14Z",
          "updatedAt": "2022-11-19T07:41:14Z"
        },
        {
          "author": "dajiaji",
          "authorAssociation": "COLLABORATOR",
          "body": "Hi @hannestschofenig, you can close this PR. No problem.",
          "createdAt": "2023-02-02T15:19:48Z",
          "updatedAt": "2023-02-02T15:19:48Z"
        }
      ],
      "reviews": [
        {
          "id": "PRR_kwDOGr5frc5DV9Yq",
          "commit": {
            "abbreviatedOid": "68fdbff"
          },
          "author": "dajiaji",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2022-10-04T12:23:24Z",
          "updatedAt": "2022-10-04T12:23:25Z",
          "comments": [
            {
              "originalPosition": 26,
              "body": "I think tstr should be removed from kem_id and cipher_id.",
              "createdAt": "2022-10-04T12:23:24Z",
              "updatedAt": "2022-10-04T12:23:25Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOGr5frc5DWItt",
          "commit": {
            "abbreviatedOid": "68fdbff"
          },
          "author": "dajiaji",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2022-10-04T12:55:10Z",
          "updatedAt": "2022-10-04T12:55:11Z",
          "comments": [
            {
              "originalPosition": 56,
              "body": "How about adding \"It is OPTIONAL because it is uniquely identified by the kid value.\" or something before \"The registry for ...\" ?",
              "createdAt": "2022-10-04T12:55:11Z",
              "updatedAt": "2022-10-04T12:55:11Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOGr5frc5DWJRA",
          "commit": {
            "abbreviatedOid": "68fdbff"
          },
          "author": "dajiaji",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2022-10-04T12:56:37Z",
          "updatedAt": "2022-10-04T12:56:38Z",
          "comments": [
            {
              "originalPosition": 60,
              "body": "How about adding \"It MUST be present in the COSE_HPKE_Sender structure.\" or something?",
              "createdAt": "2022-10-04T12:56:37Z",
              "updatedAt": "2022-10-04T12:56:38Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOGr5frc5DWJSZ",
          "commit": {
            "abbreviatedOid": "68fdbff"
          },
          "author": "dajiaji",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2022-10-04T12:56:41Z",
          "updatedAt": "2022-10-04T12:56:41Z",
          "comments": [
            {
              "originalPosition": 64,
              "body": "How about adding \"It MUST be present in the COSE_HPKE_Sender structure.\"?",
              "createdAt": "2022-10-04T12:56:41Z",
              "updatedAt": "2022-10-04T12:56:41Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOGr5frc5DWMRf",
          "commit": {
            "abbreviatedOid": "68fdbff"
          },
          "author": "dajiaji",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2022-10-04T13:04:24Z",
          "updatedAt": "2022-10-04T13:04:24Z",
          "comments": [
            {
              "originalPosition": 93,
              "body": "\\+ and the key id (kid) of the static recipient public key.",
              "createdAt": "2022-10-04T13:04:24Z",
              "updatedAt": "2022-10-04T13:09:21Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOGr5frc5DWMeE",
          "commit": {
            "abbreviatedOid": "68fdbff"
          },
          "author": "dajiaji",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2022-10-04T13:04:53Z",
          "updatedAt": "2022-10-04T13:04:53Z",
          "comments": [
            {
              "originalPosition": 74,
              "body": "kid should be left so \"kid and HPKE sender information structure\"?",
              "createdAt": "2022-10-04T13:04:53Z",
              "updatedAt": "2022-10-04T13:04:53Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOGr5frc5DWSYm",
          "commit": {
            "abbreviatedOid": "68fdbff"
          },
          "author": "dajiaji",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2022-10-04T13:19:03Z",
          "updatedAt": "2022-10-04T13:19:04Z",
          "comments": [
            {
              "originalPosition": 232,
              "body": "[alg]?",
              "createdAt": "2022-10-04T13:19:03Z",
              "updatedAt": "2022-10-04T13:19:04Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOGr5frc5DahX3",
          "commit": {
            "abbreviatedOid": "68fdbff"
          },
          "author": "hannestschofenig",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2022-10-05T08:00:11Z",
          "updatedAt": "2022-10-05T08:00:12Z",
          "comments": [
            {
              "originalPosition": 60,
              "body": "The CDDL structure indicates that this field is mandatory.",
              "createdAt": "2022-10-05T08:00:11Z",
              "updatedAt": "2022-10-05T08:00:12Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOGr5frc5DahcF",
          "commit": {
            "abbreviatedOid": "68fdbff"
          },
          "author": "hannestschofenig",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2022-10-05T08:00:24Z",
          "updatedAt": "2022-10-05T08:00:24Z",
          "comments": [
            {
              "originalPosition": 60,
              "body": "But I can make it explicit.",
              "createdAt": "2022-10-05T08:00:24Z",
              "updatedAt": "2022-10-05T08:00:24Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOGr5frc5Dak5U",
          "commit": {
            "abbreviatedOid": "68fdbff"
          },
          "author": "hannestschofenig",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2022-10-05T08:10:02Z",
          "updatedAt": "2022-10-05T08:10:02Z",
          "comments": [
            {
              "originalPosition": 232,
              "body": "I don't really understand what the options for the Capabilities field are and what it is used for. The COSE RFC does not make it clear and the registry only contains entries for [kty]. Hence, I am using kty as well. ",
              "createdAt": "2022-10-05T08:10:02Z",
              "updatedAt": "2022-10-05T08:10:02Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOGr5frc5DveV0",
          "commit": {
            "abbreviatedOid": "64f320a"
          },
          "author": "bifurcation",
          "authorAssociation": "NONE",
          "state": "COMMENTED",
          "body": "Couple of minor comments, but this seems on the right track.",
          "createdAt": "2022-10-10T20:51:39Z",
          "updatedAt": "2022-10-10T20:56:22Z",
          "comments": [
            {
              "originalPosition": 68,
              "body": "Why are the symmetric IDs being combined but the KEM ID stands alone?  It seems like you should either send one field (`kem || kdf || aead`) or three.  Each field is 16 bits, for 48 total, which is small enough to fit into a single CBOR int.",
              "createdAt": "2022-10-10T20:51:39Z",
              "updatedAt": "2022-10-10T20:56:22Z"
            },
            {
              "originalPosition": 68,
              "body": "Alternatively, since you already have a field to indicate the AEAD at layer 0, you could use that to define the HPKE AEAD (probably with a mapping table in this doc).  Then you could have `kem || kdf` in this struct.  In fact, if you *don't* do this, then you'll have to make sure the two AEAD indicators don't conflict. ",
              "createdAt": "2022-10-10T20:55:59Z",
              "updatedAt": "2022-10-10T20:56:22Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOGr5frc5DwNXz",
          "commit": {
            "abbreviatedOid": "64f320a"
          },
          "author": "dajiaji",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2022-10-11T03:11:19Z",
          "updatedAt": "2022-10-11T03:11:20Z",
          "comments": [
            {
              "originalPosition": 68,
              "body": "Since `kid` is mandatory in the current draft and `kem` can be assumed from the `kid`, I made `kem` optional. This is the reason why I defined the HPKE symmetric cipher suite (`kdf || aead`) without `kem`. However, as you point out, I must admit that this design is somewhat half-baked. Indeed, I had already listed up the alternatives which you pointed out in [my proposal (slide.5)](https://docs.google.com/presentation/d/11vkY0FXO9P8PjkFPeKjS5mGEicTf7KDdJCZ2D8qfl8Y/edit#slide=id.g1552e5659a7_1_5).\r\n\r\nOn the COSE WG mailing list, Ilari pointed out that the method of specifying `kem`, `kdf`, and `aead` in separate fields would result in a smaller message size than my current proposal. \r\n\r\nCurrently, I think we had better to adopt the three separate fields.",
              "createdAt": "2022-10-11T03:11:19Z",
              "updatedAt": "2022-10-11T03:11:20Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOGr5frc5DzYmP",
          "commit": {
            "abbreviatedOid": "64f320a"
          },
          "author": "bifurcation",
          "authorAssociation": "NONE",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2022-10-11T13:54:03Z",
          "updatedAt": "2022-10-11T13:54:03Z",
          "comments": [
            {
              "originalPosition": 68,
              "body": "Your point that `kid` might make `kem` unnecessary is interesting, but I don't think it ultimately works.  It leans a little too hard on the idea that a KEM key can be used with exactly one HPKE KEM algorithm.  Looking at the prior art (e.g., `RS256`, `ES256`), it seems like there's a nontrivial chance that it will be necessary to clarify exactly which KEM to use, at least in some cases.\r\n\r\nThat said, I'll reiterate my point that indicating the AEAD seems unnecessary.  So I would suggest having `kem` and `kdf` indicators here (encoded however you like), and pulling `aead` from the outer `enc` value.\r\n\r\n(Using JOSE terminology because I'm not that familiar with COSE and I assume they're parallel.)",
              "createdAt": "2022-10-11T13:54:03Z",
              "updatedAt": "2022-10-11T13:54:03Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOGr5frc5D3_EQ",
          "commit": {
            "abbreviatedOid": "64f320a"
          },
          "author": "hannestschofenig",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2022-10-12T09:23:26Z",
          "updatedAt": "2022-10-12T09:23:26Z",
          "comments": [
            {
              "originalPosition": 68,
              "body": "I am trying to understand your feedback, Richard. Below is an example, which lists the AEAD. If we remove the AEAD field then how should a receipient know what algorithm is used?\r\n\r\n```\r\n96(\r\n    [\r\n        / algorithm id TBD1 for COSE_HPKE /\r\n        << {1: TBD1} >>, \r\n        {\r\n            / HPKE sender information structure /\r\n            TBD2: << {\r\n                /  Key Encapsulation Mechanism identifier /\r\n                /  KEM id = DHKEM(P-256, HKDF-SHA256) (0x0010) /\r\n                1: 0x0010,\r\n                /  HPKE symmetric cipher suite (KDF id || AEAD id) /\r\n                /  AEAD id = AES-128-GCM (0x0001) /\r\n                2: 0x0001,\r\n                /  KDF id  = HKDF-SHA256 (0x0001) /                \r\n                5: 0x0001,\r\n                / HPKE encapsulated key /\r\n                3: h'985E2FDE3E67E1F7146AB305AA98FE89\r\n                     B1CFE545965B6CFB066C0BB19DE7E489\r\n                     4AC5E777A7C96CB5D70B8A40E2951562\r\n                     F20C21DB021AAD12E54A8DBE7EF9DF10',\r\n                } >>,\r\n             4: 'kid-2'\r\n        },\r\n        / encrypted plaintext /\r\n        h'4123E7C3CD992723F0FA1CD3A903A588\r\n          42B1161E02D8E7FD842C4DA3B984B9CF'\r\n    ]\r\n)\r\n```",
              "createdAt": "2022-10-12T09:23:26Z",
              "updatedAt": "2022-10-12T09:23:26Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOGr5frc5D4RT-",
          "commit": {
            "abbreviatedOid": "64f320a"
          },
          "author": "dajiaji",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2022-10-12T10:15:52Z",
          "updatedAt": "2022-10-12T10:15:52Z",
          "comments": [
            {
              "originalPosition": 68,
              "body": "@hannestschofenig Thanks for updating! It looks good but could you swap AEAD and KDF? I think I would be better.\r\n\r\nBut first, I would like to consider Richard's proposal, so please wait a moment.",
              "createdAt": "2022-10-12T10:15:52Z",
              "updatedAt": "2022-10-12T10:15:52Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOGr5frc5D4daS",
          "commit": {
            "abbreviatedOid": "64f320a"
          },
          "author": "dajiaji",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2022-10-12T10:55:14Z",
          "updatedAt": "2022-10-12T10:55:15Z",
          "comments": [
            {
              "originalPosition": 68,
              "body": "@bifurcation \r\n\r\n> Alternatively, since you already have a field to indicate the AEAD at layer 0, you could use that to define the HPKE AEAD (probably with a mapping table in this doc).\r\n\r\nDo you mean that we should use `alg` in unprotected header as follows?\r\n\r\n(A)\r\n```\r\n        / algorithm id TBD1 for COSE_HPKE /\r\n        {1: TBD1}, \r\n        {\r\n            1: 1, // alg = A128GCM\r\n            / HPKE sender information structure /\r\n            TBD2: << {\r\n                /  KEM id = DHKEM(P-256, HKDF-SHA256) (0x0010) /\r\n                1: 0x0010,\r\n                /  KDF id  = HKDF-SHA256 (0x0001) /                \r\n                5: 0x0001,\r\n                // ...\r\n```\r\n\r\nor in protected header?\r\n\r\n(B)\r\n```\r\n        / algorithm id (A128GCM) defined in protected header. /\r\n       {1: 1},  // alg = A128GCM  \r\n        {\r\n            / HPKE sender information structure /\r\n            TBD2: << {\r\n            // ...\r\n```\r\n\r\nWhich do you intend, (A) or (B)?\r\nIn any case, I would prefer to adopt the method of prohibiting the use of `alg`, at least because I do not want to convert from the `alg` value to the AEAD value.",
              "createdAt": "2022-10-12T10:55:14Z",
              "updatedAt": "2022-10-12T10:55:15Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOGr5frc5D5dVZ",
          "commit": {
            "abbreviatedOid": "64f320a"
          },
          "author": "bifurcation",
          "authorAssociation": "NONE",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2022-10-12T13:50:33Z",
          "updatedAt": "2022-10-12T13:50:34Z",
          "comments": [
            {
              "originalPosition": 68,
              "body": "To avoid screwing up the COSE notation, let me just write what I'm thinking in JOSE notation.  Here's an example from RFC 7518 of a JWE protected header for an object whose encryption key is derived from an ECDH exchange.\r\n\r\n```\r\n{\r\n  \"alg\": \"ECDH-ES\",  // Key agreement scheme\r\n  \"enc\": \"A128GCM\",  // AEAD algorithm\r\n  \"apu\": \"QWxpY2U\",\r\n  \"apv\": \"Qm9i\",     \r\n  \"epk\":  { ... }    // Ephemeral public key => KEM, KDF\r\n}\r\n```\r\n\r\nNote that the algorithm used for the actual encryption is specified in the `enc` parameter (unfortunate name collision with the HPKE `enc` output).  I would expect the HPKE structure to be analogous, something like:\r\n\r\n```\r\n{\r\n  \"alg\":\"HPKE\",         // Key agreement scheme\r\n  \"enc\":\"A128GCM\",      // AEAD algorithm\r\n  \"kem\": \"DHKEM-P256\",  // KEM ID\r\n  \"kdf\": \"HKDF-SHA256\", // KDF ID\r\n  \"hpke_enc\": \"...\"     // Encapsulated key\r\n}\r\n```\r\n\r\nI am assuming here that COSE has a similar structure, where something like `alg` says how the key is established and something like `enc` specifies the AEAD with which the payload is encrypted.  If COSE doesn't have that structure, then obviously the analogy doesn't apply.\r\n",
              "createdAt": "2022-10-12T13:50:33Z",
              "updatedAt": "2022-10-12T13:50:34Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOGr5frc5D8re-",
          "commit": {
            "abbreviatedOid": "64f320a"
          },
          "author": "dajiaji",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2022-10-13T03:40:20Z",
          "updatedAt": "2022-10-13T03:40:20Z",
          "comments": [
            {
              "originalPosition": 68,
              "body": "\"enc\"rypition algorithm ... I forgot it. Finally I understood what's your suggestion.\r\n\r\n> If COSE doesn't have that structure, then obviously the analogy doesn't apply.\r\n\r\nIn the COSE spec, `enc` is not defind and top-level(layer-0) `alg`  is used instead of it.\r\nIn addition, `alg`s for DH defined in a recipient structure are defined like `ECDH-ES + HKDF-256`. It means that KDF information is also included. I see many differences in details between JOSE and COSE.\r\n\r\nIt is indeed hard to explain with the COSE notation, so let me explain with JOSE too.\r\nMy proposal in JOSE notation is as follows:\r\n\r\n```\r\n{\r\n    \"alg\": \"HPKE\",\r\n    \"hsi\": {    // HPKE sender information\r\n        \"kem\": 0x0010,\r\n        \"kdf\": 0x0001,\r\n        \"aead\": 0x0001,\r\n        \"enc\": \"...\"      \r\n  }\r\n}\r\n```\r\nThe point is that the [HPKE IANA registry](https://www.iana.org/assignments/hpke/hpke.xhtml) values are used as is. Using the HPKE values directly, there is no need for us to update the related COSE/JOSE specs (including registering new `alg` values to IANA registries) and also to update existing JOSE/COSE libraries each time a new HPKE algorithm are released.\r\n\r\nAs you pointed out, how to handle existing JOSE/COSE parameters needs to be carefully mentioned in this specification (for example, in JOSE case, \"`enc` SHOULD NOT be specified\" and so on), but this only needs to be defined once.\r\n\r\nWhat do you think?",
              "createdAt": "2022-10-13T03:40:20Z",
              "updatedAt": "2022-10-13T03:40:20Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOGr5frc5Eurql",
          "commit": {
            "abbreviatedOid": "64f320a"
          },
          "author": "dajiaji",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2022-10-24T12:52:48Z",
          "updatedAt": "2022-10-24T12:52:48Z",
          "comments": [
            {
              "originalPosition": 68,
              "body": "@bifurcation I know you are probably very busy, but I would appreciate it if you could reply to the above comment.",
              "createdAt": "2022-10-24T12:52:48Z",
              "updatedAt": "2022-10-24T12:52:48Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOGr5frc5Eu4Or",
          "commit": {
            "abbreviatedOid": "d8b9742"
          },
          "author": "OR13",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2022-10-24T13:26:56Z",
          "updatedAt": "2022-10-24T13:26:56Z",
          "comments": [
            {
              "originalPosition": 40,
              "body": "```suggestion\r\n       5 => int,           ; kdf id       \r\n```",
              "createdAt": "2022-10-24T13:26:56Z",
              "updatedAt": "2022-10-24T13:26:56Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOGr5frc5Eu-nH",
          "commit": {
            "abbreviatedOid": "d8b9742"
          },
          "author": "dajiaji",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2022-10-24T13:42:42Z",
          "updatedAt": "2022-10-24T13:42:42Z",
          "comments": [
            {
              "originalPosition": 40,
              "body": "Sorry for the very trivial point but the order of AEAD and KDF should be swapped. KEM-KDF-AEAD is a natural order.",
              "createdAt": "2022-10-24T13:42:42Z",
              "updatedAt": "2022-10-24T13:42:42Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOGr5frc5Eu_ZK",
          "commit": {
            "abbreviatedOid": "d8b9742"
          },
          "author": "dajiaji",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2022-10-24T13:44:39Z",
          "updatedAt": "2022-10-24T13:44:40Z",
          "comments": [
            {
              "originalPosition": 83,
              "body": "Again, the order of AEAD and KDF should be swapped. Sorry for the very trivial point.",
              "createdAt": "2022-10-24T13:44:39Z",
              "updatedAt": "2022-10-24T13:44:40Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOGr5frc5Eu_fb",
          "commit": {
            "abbreviatedOid": "d8b9742"
          },
          "author": "dajiaji",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2022-10-24T13:44:54Z",
          "updatedAt": "2022-10-24T13:44:55Z",
          "comments": [
            {
              "originalPosition": 61,
              "body": "Again, the order of AEAD and KDF should be swapped. Sorry for the very trivial point.",
              "createdAt": "2022-10-24T13:44:54Z",
              "updatedAt": "2022-10-24T13:44:55Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOGr5frc5E0Qet",
          "commit": {
            "abbreviatedOid": "d8b9742"
          },
          "author": "hannestschofenig",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2022-10-25T10:18:34Z",
          "updatedAt": "2022-10-25T10:18:34Z",
          "comments": [
            {
              "originalPosition": 40,
              "body": "I have swapped the items and I have also renumbered them. ",
              "createdAt": "2022-10-25T10:18:34Z",
              "updatedAt": "2022-10-25T10:18:34Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOGr5frc5GKaDc",
          "commit": {
            "abbreviatedOid": "8284c53"
          },
          "author": "OR13",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2022-11-11T10:15:31Z",
          "updatedAt": "2022-11-11T10:15:32Z",
          "comments": [
            {
              "originalPosition": 70,
              "body": "> This parameter is optional since the kid may be used to determine the KEM.\r\n\r\nDo we really mean \"kid\" or the \"key\" discovered via the \"kid\" here...?\r\n\r\nI think we can be clearer.",
              "createdAt": "2022-11-11T10:15:31Z",
              "updatedAt": "2022-11-11T10:15:32Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOGr5frc5GKcPF",
          "commit": {
            "abbreviatedOid": "8284c53"
          },
          "author": "OR13",
          "authorAssociation": "COLLABORATOR",
          "state": "APPROVED",
          "body": "",
          "createdAt": "2022-11-11T10:23:07Z",
          "updatedAt": "2022-11-11T10:23:07Z",
          "comments": []
        },
        {
          "id": "PRR_kwDOGr5frc5GrWW2",
          "commit": {
            "abbreviatedOid": "8284c53"
          },
          "author": "hannestschofenig",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2022-11-18T09:34:39Z",
          "updatedAt": "2022-11-18T09:34:39Z",
          "comments": [
            {
              "originalPosition": 70,
              "body": "Kid is correct here. What Daisuke was saying is that the information about the kem id may be associated (discovered or looked-up) with the help of the key id. \r\n\r\nDoes this make sense to you?",
              "createdAt": "2022-11-18T09:34:39Z",
              "updatedAt": "2022-11-18T09:34:39Z"
            }
          ]
        }
      ]
    },
    {
      "number": 10,
      "id": "PR_kwDOGr5frc5BfSZX",
      "title": "Ilari's proposal",
      "url": "https://github.com/cose-wg/draft-ietf-cose-hpke/pull/10",
      "state": "MERGED",
      "author": "hannestschofenig",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "",
      "createdAt": "2022-10-25T10:38:25Z",
      "updatedAt": "2023-02-20T19:22:45Z",
      "baseRepository": "cose-wg/draft-ietf-cose-hpke",
      "baseRefName": "hannestschofenig-patch-1",
      "baseRefOid": "d54703e0894f69f74db34526fb5c5f300ff3e03e",
      "headRepository": "cose-wg/draft-ietf-cose-hpke",
      "headRefName": "hannestschofenig-patch-2",
      "headRefOid": "2d67f87246d0a0e3ef92067c0454d15816dcdd58",
      "closedAt": "2023-02-20T19:22:45Z",
      "mergedAt": "2023-02-20T19:22:45Z",
      "mergedBy": "hannestschofenig",
      "mergeCommit": {
        "oid": "68ecc9da088a870be35ac212cd400b1bb4628013"
      },
      "comments": [],
      "reviews": [
        {
          "id": "PRR_kwDOGr5frc5KBvNw",
          "commit": {
            "abbreviatedOid": "4809499"
          },
          "author": "hannestschofenig",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2023-01-10T11:00:16Z",
          "updatedAt": "2023-01-10T11:00:17Z",
          "comments": [
            {
              "originalPosition": 5,
              "body": "```suggestion\r\nsupported by HPKE but not by this specification.\r\n```",
              "createdAt": "2023-01-10T11:00:16Z",
              "updatedAt": "2023-01-10T11:00:17Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOGr5frc5Kpa1w",
          "commit": {
            "abbreviatedOid": "90e8c27"
          },
          "author": "laurencelundblade",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "Looks good. Just a few wording suggestions.",
          "createdAt": "2023-01-17T20:01:22Z",
          "updatedAt": "2023-01-17T20:07:16Z",
          "comments": [
            {
              "originalPosition": 95,
              "body": "Text says it is optional. It isn't anymore, right?",
              "createdAt": "2023-01-17T20:01:22Z",
              "updatedAt": "2023-01-17T20:07:16Z"
            },
            {
              "originalPosition": 84,
              "body": "If the whole array is the \"encapsulated key\" then this array element shouldn't also have the same name.",
              "createdAt": "2023-01-17T20:05:48Z",
              "updatedAt": "2023-01-17T20:07:16Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOGr5frc5LNdBq",
          "commit": {
            "abbreviatedOid": "90e8c27"
          },
          "author": "dajiaji",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2023-01-19T13:41:37Z",
          "updatedAt": "2023-01-19T13:41:38Z",
          "comments": [
            {
              "originalPosition": 84,
              "body": "> If the whole array is the \"encapsulated key\" then this array element shouldn't also have the same name.\r\n\r\nI believe that \"encapsulated key\" was originally named to accommodate not only HPKE encapsulated keys, but also other encapsulated keys. However, currently this structure is dedicated to HPKE and kdf_id and aead_id are not related to \"encapsulated key\".\r\n\r\nI understand it's Bikeshed, but I think the name of the whole array should be \"HPKE sender information (for base mode)\" as defined in #9.\r\n\r\n",
              "createdAt": "2023-01-19T13:41:37Z",
              "updatedAt": "2023-01-19T13:41:38Z"
            }
          ]
        }
      ]
    },
    {
      "number": 15,
      "id": "PR_kwDOGr5frc5KZncK",
      "title": "Discussed Proposal",
      "url": "https://github.com/cose-wg/draft-ietf-cose-hpke/pull/15",
      "state": "MERGED",
      "author": "hannestschofenig",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "This PR merges the proposal discussed during the last 6 months with main",
      "createdAt": "2023-02-21T06:49:17Z",
      "updatedAt": "2023-02-21T06:49:35Z",
      "baseRepository": "cose-wg/draft-ietf-cose-hpke",
      "baseRefName": "main",
      "baseRefOid": "f1a2097ffe253150f37ff121018d392be9638faa",
      "headRepository": "cose-wg/draft-ietf-cose-hpke",
      "headRefName": "hannestschofenig-patch-1",
      "headRefOid": "68ecc9da088a870be35ac212cd400b1bb4628013",
      "closedAt": "2023-02-21T06:49:35Z",
      "mergedAt": "2023-02-21T06:49:35Z",
      "mergedBy": "hannestschofenig",
      "mergeCommit": {
        "oid": "4a1f384eef548be92150a25976f05454c06c6ee5"
      },
      "comments": [],
      "reviews": []
    },
    {
      "number": 16,
      "id": "PR_kwDOGr5frc5L1jNC",
      "title": "Terminology change: s/encapsulated_key/sender_info",
      "url": "https://github.com/cose-wg/draft-ietf-cose-hpke/pull/16",
      "state": "MERGED",
      "author": "hannestschofenig",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "This change follows the discussion on the list and the proposal by Daisuke.",
      "createdAt": "2023-03-12T13:52:47Z",
      "updatedAt": "2023-03-13T11:38:24Z",
      "baseRepository": "cose-wg/draft-ietf-cose-hpke",
      "baseRefName": "main",
      "baseRefOid": "4f9b77dd2f183c52879af0df1b1d3920d088bbf4",
      "headRepository": "cose-wg/draft-ietf-cose-hpke",
      "headRefName": "hannestschofenig-patch-3",
      "headRefOid": "de969e9e2b805c746447c9eb4f287bea1885192f",
      "closedAt": "2023-03-13T11:38:21Z",
      "mergedAt": "2023-03-13T11:38:21Z",
      "mergedBy": "hannestschofenig",
      "mergeCommit": {
        "oid": "5250fc365e7751ab815d9190c651d454737a5d06"
      },
      "comments": [],
      "reviews": [
        {
          "id": "PRR_kwDOGr5frc5PozDr",
          "commit": {
            "abbreviatedOid": "ec4b701"
          },
          "author": "dajiaji",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2023-03-12T22:28:03Z",
          "updatedAt": "2023-03-12T22:28:04Z",
          "comments": [
            {
              "originalPosition": 12,
              "body": "I think \"encapsulated\" is fine here.\r\n\r\n```suggestion\r\n* an encapsulated key generated by the sender, and\r\n```",
              "createdAt": "2023-03-12T22:28:03Z",
              "updatedAt": "2023-03-12T22:28:04Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOGr5frc5PozYf",
          "commit": {
            "abbreviatedOid": "ec4b701"
          },
          "author": "dajiaji",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2023-03-12T22:37:44Z",
          "updatedAt": "2023-03-12T22:37:45Z",
          "comments": [
            {
              "originalPosition": 70,
              "body": "I don't think this line needs to be modified.\r\n\r\n```suggestion\r\n  enc: This parameter contains the encapsulated key, which is output\r\n       of the HPKE KEM.\r\n```",
              "createdAt": "2023-03-12T22:37:44Z",
              "updatedAt": "2023-03-12T22:37:45Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOGr5frc5PoztR",
          "commit": {
            "abbreviatedOid": "ec4b701"
          },
          "author": "dajiaji",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2023-03-12T22:47:44Z",
          "updatedAt": "2023-03-12T22:47:45Z",
          "comments": [
            {
              "originalPosition": 6,
              "body": "bikeshed but, according to RFC9180, Base mode might be better:\r\n\r\n```suggestion\r\nHPKE in Base mode requires little information to be provided by\r\n```",
              "createdAt": "2023-03-12T22:47:44Z",
              "updatedAt": "2023-03-12T22:47:45Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOGr5frc5PozvR",
          "commit": {
            "abbreviatedOid": "ec4b701"
          },
          "author": "dajiaji",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2023-03-12T22:48:50Z",
          "updatedAt": "2023-03-12T22:48:50Z",
          "comments": [
            {
              "originalPosition": 150,
              "body": "\"KEM-like algorithms\" is not necessary, but it would be better to limit it to Base mode.\r\n\r\n```suggestion\r\n-  Description: HPKE Sender Information structure for the Base mode.\r\n```",
              "createdAt": "2023-03-12T22:48:50Z",
              "updatedAt": "2023-03-12T22:48:50Z"
            }
          ]
        }
      ]
    },
    {
      "number": 18,
      "id": "PR_kwDOGr5frc5L49Uu",
      "title": "New Description for AAD and Info Treatment",
      "url": "https://github.com/cose-wg/draft-ietf-cose-hpke/pull/18",
      "state": "MERGED",
      "author": "hannestschofenig",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "",
      "createdAt": "2023-03-13T12:41:47Z",
      "updatedAt": "2023-03-13T17:08:51Z",
      "baseRepository": "cose-wg/draft-ietf-cose-hpke",
      "baseRefName": "main",
      "baseRefOid": "5250fc365e7751ab815d9190c651d454737a5d06",
      "headRepository": "cose-wg/draft-ietf-cose-hpke",
      "headRefName": "hannestschofenig-patch-3",
      "headRefOid": "11a2fddfeffae665bff036c1b1dcd88a4cad5a53",
      "closedAt": "2023-03-13T17:08:47Z",
      "mergedAt": "2023-03-13T17:08:47Z",
      "mergedBy": "hannestschofenig",
      "mergeCommit": {
        "oid": "523828c15457937f72d071207290937e5e14b4d8"
      },
      "comments": [],
      "reviews": []
    },
    {
      "number": 19,
      "id": "PR_kwDOGr5frc5MHdwB",
      "title": "Making kid parameter optional",
      "url": "https://github.com/cose-wg/draft-ietf-cose-hpke/pull/19",
      "state": "MERGED",
      "author": "hannestschofenig",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "Based on review feedback from Laurence.",
      "createdAt": "2023-03-15T15:13:32Z",
      "updatedAt": "2023-03-28T13:05:34Z",
      "baseRepository": "cose-wg/draft-ietf-cose-hpke",
      "baseRefName": "main",
      "baseRefOid": "f0dbded2048118f7dfda0ec4c9be2ba91d687030",
      "headRepository": "cose-wg/draft-ietf-cose-hpke",
      "headRefName": "hannestschofenig-patch-3",
      "headRefOid": "71fae66b073219bc84797de5338a1ffcd666f4ba",
      "closedAt": "2023-03-28T13:05:30Z",
      "mergedAt": "2023-03-28T13:05:30Z",
      "mergedBy": "hannestschofenig",
      "mergeCommit": {
        "oid": "6875acbe613aa579973b383342b4f5d5477ea774"
      },
      "comments": [
        {
          "author": "dajiaji",
          "authorAssociation": "COLLABORATOR",
          "body": "This PR is also acceptable. It's fine to be merged.",
          "createdAt": "2023-03-28T12:52:48Z",
          "updatedAt": "2023-03-28T12:52:48Z"
        }
      ],
      "reviews": []
    },
    {
      "number": 20,
      "id": "PR_kwDOGr5frc5MHmdG",
      "title": "Terminology: HPKE_sender_info instead of sender_info",
      "url": "https://github.com/cose-wg/draft-ietf-cose-hpke/pull/20",
      "state": "MERGED",
      "author": "hannestschofenig",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "",
      "createdAt": "2023-03-15T15:31:47Z",
      "updatedAt": "2023-03-28T13:05:49Z",
      "baseRepository": "cose-wg/draft-ietf-cose-hpke",
      "baseRefName": "main",
      "baseRefOid": "6875acbe613aa579973b383342b4f5d5477ea774",
      "headRepository": "cose-wg/draft-ietf-cose-hpke",
      "headRefName": "hannestschofenig-patch-4",
      "headRefOid": "f574aa482eb72116dadf79abd891fa6afa0ee8cf",
      "closedAt": "2023-03-28T13:05:46Z",
      "mergedAt": "2023-03-28T13:05:46Z",
      "mergedBy": "hannestschofenig",
      "mergeCommit": {
        "oid": "f81547c975f9fba63b3a6c20577488a4cf6d0ff6"
      },
      "comments": [
        {
          "author": "dajiaji",
          "authorAssociation": "COLLABORATOR",
          "body": "Thanks. I think it' fine to merge.",
          "createdAt": "2023-03-28T12:48:15Z",
          "updatedAt": "2023-03-28T12:48:15Z"
        }
      ],
      "reviews": [
        {
          "id": "PRR_kwDOGr5frc5Q8VUm",
          "commit": {
            "abbreviatedOid": "f574aa4"
          },
          "author": "laurencelundblade",
          "authorAssociation": "COLLABORATOR",
          "state": "APPROVED",
          "body": "",
          "createdAt": "2023-03-26T10:49:12Z",
          "updatedAt": "2023-03-26T10:49:12Z",
          "comments": []
        }
      ]
    },
    {
      "number": 21,
      "id": "PR_kwDOGr5frc5MHnLt",
      "title": "Terminology: Use of plaintext instead of detached plaintext",
      "url": "https://github.com/cose-wg/draft-ietf-cose-hpke/pull/21",
      "state": "MERGED",
      "author": "hannestschofenig",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "",
      "createdAt": "2023-03-15T15:33:37Z",
      "updatedAt": "2023-03-28T13:06:06Z",
      "baseRepository": "cose-wg/draft-ietf-cose-hpke",
      "baseRefName": "main",
      "baseRefOid": "f81547c975f9fba63b3a6c20577488a4cf6d0ff6",
      "headRepository": "cose-wg/draft-ietf-cose-hpke",
      "headRefName": "hannestschofenig-patch-5",
      "headRefOid": "598dd15af8ead00c49114c0291eb60a4a0846e91",
      "closedAt": "2023-03-28T13:06:01Z",
      "mergedAt": "2023-03-28T13:06:01Z",
      "mergedBy": "hannestschofenig",
      "mergeCommit": {
        "oid": "bd09271900e73074b5963ce0df8133ea92a2d20e"
      },
      "comments": [
        {
          "author": "dajiaji",
          "authorAssociation": "COLLABORATOR",
          "body": "Looks good to me. I think it' fine to merge.",
          "createdAt": "2023-03-28T12:47:25Z",
          "updatedAt": "2023-03-28T12:47:25Z"
        }
      ],
      "reviews": [
        {
          "id": "PRR_kwDOGr5frc5Q8VSE",
          "commit": {
            "abbreviatedOid": "598dd15"
          },
          "author": "laurencelundblade",
          "authorAssociation": "COLLABORATOR",
          "state": "APPROVED",
          "body": "",
          "createdAt": "2023-03-26T10:48:12Z",
          "updatedAt": "2023-03-26T10:48:12Z",
          "comments": []
        }
      ]
    },
    {
      "number": 22,
      "id": "PR_kwDOGr5frc5MHpXd",
      "title": "Terminology Replace: \"API Caller\" usage",
      "url": "https://github.com/cose-wg/draft-ietf-cose-hpke/pull/22",
      "state": "MERGED",
      "author": "hannestschofenig",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "",
      "createdAt": "2023-03-15T15:39:33Z",
      "updatedAt": "2023-03-28T13:06:22Z",
      "baseRepository": "cose-wg/draft-ietf-cose-hpke",
      "baseRefName": "main",
      "baseRefOid": "bd09271900e73074b5963ce0df8133ea92a2d20e",
      "headRepository": "cose-wg/draft-ietf-cose-hpke",
      "headRefName": "hannestschofenig-patch-6",
      "headRefOid": "0361384b25aeab74a1cb49c1b8a24eaaab0844b8",
      "closedAt": "2023-03-28T13:06:18Z",
      "mergedAt": "2023-03-28T13:06:18Z",
      "mergedBy": "hannestschofenig",
      "mergeCommit": {
        "oid": "2183fef604f661f2ef7a077e604d1337cdf5201e"
      },
      "comments": [
        {
          "author": "dajiaji",
          "authorAssociation": "COLLABORATOR",
          "body": "Looks good to me. I think it' fine to merge.",
          "createdAt": "2023-03-28T12:46:52Z",
          "updatedAt": "2023-03-28T12:46:52Z"
        }
      ],
      "reviews": [
        {
          "id": "PRR_kwDOGr5frc5Q8VQ6",
          "commit": {
            "abbreviatedOid": "0361384"
          },
          "author": "laurencelundblade",
          "authorAssociation": "COLLABORATOR",
          "state": "APPROVED",
          "body": "",
          "createdAt": "2023-03-26T10:47:48Z",
          "updatedAt": "2023-03-26T10:47:48Z",
          "comments": []
        }
      ]
    },
    {
      "number": 31,
      "id": "PR_kwDOGr5frc5bl7wH",
      "title": "Switched to ciphersuite approach",
      "url": "https://github.com/cose-wg/draft-ietf-cose-hpke/pull/31",
      "state": "MERGED",
      "author": "hannestschofenig",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "This PR makes a few changes to version -05. The main item is certainly the switch to the ciphersuite approach (issue  #30).\r\nA baseline section of ciphersuites is also defined, addressing issue #29. The list is up for debate.\r\n\r\nAs part of this change, the encapsulated_key header parameter was introduced (replacing the HPKE_Sender_info structure). This issue is documented in #27.\r\n\r\nI have (by hand) created new examples following the newly introduced header parameter (see #28). Code will have to be updated first to produce real examples.\r\n\r\nI have already tried to address earlier issues (issue #17 and issue #14).\r\n\r\nI have also removed a large chunk of text. Some of it will have to be put back again (e.g. text that describes the AAD and context info structure).",
      "createdAt": "2023-09-30T18:02:40Z",
      "updatedAt": "2023-10-02T10:58:32Z",
      "baseRepository": "cose-wg/draft-ietf-cose-hpke",
      "baseRefName": "main",
      "baseRefOid": "f3e4a13255ef6195c5a3faafa85fb55c59ebdfa7",
      "headRepository": "cose-wg/draft-ietf-cose-hpke",
      "headRefName": "hannestschofenig-patch-3",
      "headRefOid": "7dc4c4080ca34c69782f7a1fd22cabfc5c50fced",
      "closedAt": "2023-10-02T10:58:29Z",
      "mergedAt": "2023-10-02T10:58:29Z",
      "mergedBy": "hannestschofenig",
      "mergeCommit": {
        "oid": "4367182ed6058ee8bdd584c82c13d09d304aef5f"
      },
      "comments": [
        {
          "author": "dajiaji",
          "authorAssociation": "COLLABORATOR",
          "body": "Thank you, @hannestschofenig . Looks good to me. I'll be happy if you can merge the PR soon.\r\n\r\nMy understanding is that we can close the following issues for now:\r\n\r\nCloses #27\r\nCloses #28\r\n\r\nAfter merging the PR, I'll update my implementation and make a PR to update the examples with non-empty AAD values.",
          "createdAt": "2023-09-30T23:05:23Z",
          "updatedAt": "2023-09-30T23:05:23Z"
        },
        {
          "author": "ilaril",
          "authorAssociation": "CONTRIBUTOR",
          "body": "I think encapsulated_key should have one-byte identifier, and just take the identifier HPKE_sender_info had (namely -4).\r\n\r\nAnd what is COSE-HPKE version 1? I don't see it defined anywhere. I think it would be a very good idea to define that to mean the construction (which would address a major concern I have).",
          "createdAt": "2023-10-01T13:34:03Z",
          "updatedAt": "2023-10-01T13:34:03Z"
        }
      ],
      "reviews": [
        {
          "id": "PRR_kwDOGr5frc5ic3SF",
          "commit": {
            "abbreviatedOid": "ddc774d"
          },
          "author": "selfissued",
          "authorAssociation": "CONTRIBUTOR",
          "state": "APPROVED",
          "body": "Thanks for doing this.",
          "createdAt": "2023-09-30T18:21:20Z",
          "updatedAt": "2023-09-30T18:21:20Z",
          "comments": []
        }
      ]
    },
    {
      "number": 33,
      "id": "PR_kwDOGr5frc5byg9k",
      "title": "Overall Cleanup",
      "url": "https://github.com/cose-wg/draft-ietf-cose-hpke/pull/33",
      "state": "MERGED",
      "author": "hannestschofenig",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "In this PR I did an overall cleanup:\r\n\r\n* added an explanation about the ciphersuite allocation,\r\n* text describing the aad and info parameters for COSE_Encrypt0 (but not yet for COSE_Encrypt), [This is old text]\r\n* cleaned up remaining text about doc being \"base mode\" only (but nothing registered yet in terms of ciphersuites)\r\n* Removed version number from ciphertext string (see https://github.com/cose-wg/HPKE/issues/34)\r\n\r\nI also improved the wording of the text in the intro and the abstract.\r\n\r\n@dajiaji @selfissued @laurencelundblade @OR13 @ilaril: Please have a quick look at it.",
      "createdAt": "2023-10-03T13:02:56Z",
      "updatedAt": "2023-10-06T06:55:03Z",
      "baseRepository": "cose-wg/draft-ietf-cose-hpke",
      "baseRefName": "main",
      "baseRefOid": "aade84b42a971df7f120b74789a6437dc2675ca3",
      "headRepository": "cose-wg/draft-ietf-cose-hpke",
      "headRefName": "hannestschofenig-patch-3",
      "headRefOid": "7351b80ddc728156a6a9a7d7b7539f893e4ab699",
      "closedAt": "2023-10-06T06:55:00Z",
      "mergedAt": "2023-10-06T06:55:00Z",
      "mergedBy": "hannestschofenig",
      "mergeCommit": {
        "oid": "47a06dae48a1987d871cb769804fbec83ada836d"
      },
      "comments": [
        {
          "author": "ilaril",
          "authorAssociation": "CONTRIBUTOR",
          "body": "1. The text seems to recommend using COSE_KDF_Context, which is problematic for two reasons:\r\n\r\n- The keyDataLength value is self-contradictory (e.g. 16 and 12 at the same time).\r\n- COSE_KDF_Context seems to map rather poorly to what applications might want to do.\r\n\r\n2. There probably should be a table of abbreviations used in mode, kem, kdf and aead instead of repeating the same values multiple times.\r\n\r\n3. On using modes other than base, there needs to be a parameters for the PSK identifier (for psk/authpsk) and sender key ID (for auth/authpsk). For the latter, \"static key id\" probably can be reused, but the first would require a new parameter (with bstr value). \r\n\r\n4. There are very much nontrivial security considerations on using auth/authpsk mode. For one, using those modes with two-layer structure is insecure. These need to be restricted to one-layer structure.",
          "createdAt": "2023-10-03T14:39:46Z",
          "updatedAt": "2023-10-03T14:39:46Z"
        },
        {
          "author": "hannestschofenig",
          "authorAssociation": "COLLABORATOR",
          "body": "Regarding COSE_KDF_Context: This is what COSE uses for the context information and it is old text from the earlier draft.\r\n\r\nRegarding the cipher suite label: I don't want to introduce abbreviation table since we are not using the labels so often.\r\n\r\nRegarding the modes other than Base mode: I agree that there is more work needed (including implementation work) but we have to start somewhere.\r\n",
          "createdAt": "2023-10-03T15:26:06Z",
          "updatedAt": "2023-10-03T15:26:06Z"
        },
        {
          "author": "OR13",
          "authorAssociation": "COLLABORATOR",
          "body": "I suggest the PR be merged.",
          "createdAt": "2023-10-05T18:03:30Z",
          "updatedAt": "2023-10-05T18:03:30Z"
        }
      ],
      "reviews": [
        {
          "id": "PRR_kwDOGr5frc5iy8Ts",
          "commit": {
            "abbreviatedOid": "47dedf1"
          },
          "author": "OR13",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2023-10-04T13:20:28Z",
          "updatedAt": "2023-10-04T13:20:28Z",
          "comments": [
            {
              "originalPosition": 99,
              "body": "I assume this does not mean serialized empty map, but i wish it was slightly clearer",
              "createdAt": "2023-10-04T13:20:28Z",
              "updatedAt": "2023-10-04T13:20:28Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOGr5frc5iy9lm",
          "commit": {
            "abbreviatedOid": "47dedf1"
          },
          "author": "OR13",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2023-10-04T13:22:47Z",
          "updatedAt": "2023-10-04T13:22:48Z",
          "comments": [
            {
              "originalPosition": 99,
              "body": "perhaps clarify similar to external aad... \"If this field is not supplied, it defaults to a zero-length byte string.\"",
              "createdAt": "2023-10-04T13:22:48Z",
              "updatedAt": "2023-10-04T13:22:53Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOGr5frc5iy-Vf",
          "commit": {
            "abbreviatedOid": "47dedf1"
          },
          "author": "OR13",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2023-10-04T13:24:11Z",
          "updatedAt": "2023-10-04T13:24:11Z",
          "comments": [
            {
              "originalPosition": 128,
              "body": "prefer a recommendation over a MAY here, we should ask the list for clarity.",
              "createdAt": "2023-10-04T13:24:11Z",
              "updatedAt": "2023-10-04T13:24:11Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOGr5frc5iy-tT",
          "commit": {
            "abbreviatedOid": "47dedf1"
          },
          "author": "OR13",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2023-10-04T13:24:50Z",
          "updatedAt": "2023-10-04T13:24:50Z",
          "comments": [
            {
              "originalPosition": 196,
              "body": "Excellent.",
              "createdAt": "2023-10-04T13:24:50Z",
              "updatedAt": "2023-10-04T13:24:50Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOGr5frc5iy_bx",
          "commit": {
            "abbreviatedOid": "47dedf1"
          },
          "author": "OR13",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2023-10-04T13:26:06Z",
          "updatedAt": "2023-10-04T13:26:06Z",
          "comments": [
            {
              "originalPosition": 196,
              "body": "could do this in another PR, but I would make room for the \"alg\" and \"description\" here, and prepare to request assignments from iana, in the usual way.",
              "createdAt": "2023-10-04T13:26:06Z",
              "updatedAt": "2023-10-04T13:26:06Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOGr5frc5iy_9F",
          "commit": {
            "abbreviatedOid": "47dedf1"
          },
          "author": "OR13",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2023-10-04T13:27:02Z",
          "updatedAt": "2023-10-04T13:27:02Z",
          "comments": [
            {
              "originalPosition": 255,
              "body": "although this is more readable, smaller examples are probably in keeping with the spirit of CBOR, i would prefer to see integer examples here.",
              "createdAt": "2023-10-04T13:27:02Z",
              "updatedAt": "2023-10-04T13:27:02Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOGr5frc5izAKd",
          "commit": {
            "abbreviatedOid": "47dedf1"
          },
          "author": "OR13",
          "authorAssociation": "COLLABORATOR",
          "state": "APPROVED",
          "body": "",
          "createdAt": "2023-10-04T13:27:26Z",
          "updatedAt": "2023-10-04T13:27:26Z",
          "comments": []
        },
        {
          "id": "PRR_kwDOGr5frc5i7Wim",
          "commit": {
            "abbreviatedOid": "47dedf1"
          },
          "author": "hannestschofenig",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2023-10-05T12:25:24Z",
          "updatedAt": "2023-10-05T12:25:24Z",
          "comments": [
            {
              "originalPosition": 196,
              "body": "It would be possible to do this in another PR but I thought it makes sense to add this information asap.",
              "createdAt": "2023-10-05T12:25:24Z",
              "updatedAt": "2023-10-05T12:25:24Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOGr5frc5i7-LA",
          "commit": {
            "abbreviatedOid": "47dedf1"
          },
          "author": "hannestschofenig",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2023-10-05T13:36:47Z",
          "updatedAt": "2023-10-05T13:36:47Z",
          "comments": [
            {
              "originalPosition": 99,
              "body": "Added text regarding the structure of empty_or_serialized_map",
              "createdAt": "2023-10-05T13:36:47Z",
              "updatedAt": "2023-10-05T13:36:48Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOGr5frc5i7-dV",
          "commit": {
            "abbreviatedOid": "47dedf1"
          },
          "author": "hannestschofenig",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2023-10-05T13:37:19Z",
          "updatedAt": "2023-10-05T13:37:19Z",
          "comments": [
            {
              "originalPosition": 128,
              "body": "We will have to discuss the context information structure again in the group.",
              "createdAt": "2023-10-05T13:37:19Z",
              "updatedAt": "2023-10-05T13:37:19Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOGr5frc5i7-o4",
          "commit": {
            "abbreviatedOid": "47dedf1"
          },
          "author": "hannestschofenig",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2023-10-05T13:37:38Z",
          "updatedAt": "2023-10-05T13:37:38Z",
          "comments": [
            {
              "originalPosition": 255,
              "body": "I put the numerical value into the example",
              "createdAt": "2023-10-05T13:37:38Z",
              "updatedAt": "2023-10-05T13:37:38Z"
            }
          ]
        }
      ]
    },
    {
      "number": 37,
      "id": "PR_kwDOGr5frc5cQCdu",
      "title": "Update examples to follow the draft-cose-hpke-06.",
      "url": "https://github.com/cose-wg/draft-ietf-cose-hpke/pull/37",
      "state": "MERGED",
      "author": "dajiaji",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "Hi @hannestschofenig  and folks,\r\n\r\nI've updated [my implementation](https://github.com/dajiaji/python-cwt) to follow the latest spec.\r\n\r\nBased on the implementation, the examples have been updated to follow draft-cose-hpke-06.\r\nThis PR includes the following changes:\r\n- Add an example for COSE_MAC.\r\n- Use non-empty AAD in all examples.\r\n- Add private key information to all examples for interop testing.\r\n\r\nI'd appreciate it if you could review this.\r\n\r\nNOTE: The COSE_Sign1 example for detached payload is not updated.\r\n\r\nCloses #40\r\n",
      "createdAt": "2023-10-09T11:55:36Z",
      "updatedAt": "2023-10-18T19:25:57Z",
      "baseRepository": "cose-wg/draft-ietf-cose-hpke",
      "baseRefName": "main",
      "baseRefOid": "47a06dae48a1987d871cb769804fbec83ada836d",
      "headRepository": "dajiaji/HPKE",
      "headRefName": "update-examples-to-follow-draft-06",
      "headRefOid": "54789e7edb310c18a8960517d3d794e4ab8de3f8",
      "closedAt": "2023-10-18T19:25:56Z",
      "mergedAt": "2023-10-18T19:25:56Z",
      "mergedBy": "hannestschofenig",
      "mergeCommit": {
        "oid": "9b0e47610cca5a717f12d7cc92a9e7ca75bee620"
      },
      "comments": [
        {
          "author": "hannestschofenig",
          "authorAssociation": "COLLABORATOR",
          "body": "Thanks for the work, Daisuke",
          "createdAt": "2023-10-18T19:25:53Z",
          "updatedAt": "2023-10-18T19:25:53Z"
        }
      ],
      "reviews": [
        {
          "id": "PRR_kwDOGr5frc5jXJyZ",
          "commit": {
            "abbreviatedOid": "050cd9b"
          },
          "author": "ilaril",
          "authorAssociation": "CONTRIBUTOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2023-10-10T09:23:22Z",
          "updatedAt": "2023-10-10T09:23:23Z",
          "comments": [
            {
              "originalPosition": 113,
              "body": "Shouldn't detached content be nil (null), not empty bstr?",
              "createdAt": "2023-10-10T09:23:23Z",
              "updatedAt": "2023-10-10T09:23:23Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOGr5frc5jYZnk",
          "commit": {
            "abbreviatedOid": "050cd9b"
          },
          "author": "dajiaji",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2023-10-10T11:10:13Z",
          "updatedAt": "2023-10-10T11:10:14Z",
          "comments": [
            {
              "originalPosition": 113,
              "body": "Thanks for pointing this out. Fixed.",
              "createdAt": "2023-10-10T11:10:13Z",
              "updatedAt": "2023-10-10T11:10:14Z"
            }
          ]
        }
      ]
    },
    {
      "number": 43,
      "id": "PR_kwDOGr5frc5ddx2B",
      "title": "Version for submission.",
      "url": "https://github.com/cose-wg/draft-ietf-cose-hpke/pull/43",
      "state": "MERGED",
      "author": "hannestschofenig",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "",
      "createdAt": "2023-10-22T14:04:52Z",
      "updatedAt": "2023-10-22T14:05:14Z",
      "baseRepository": "cose-wg/draft-ietf-cose-hpke",
      "baseRefName": "main",
      "baseRefOid": "9b0e47610cca5a717f12d7cc92a9e7ca75bee620",
      "headRepository": "cose-wg/draft-ietf-cose-hpke",
      "headRefName": "hannestschofenig-patch-3",
      "headRefOid": "9518139040b165d451b793a916efcbc20b893a08",
      "closedAt": "2023-10-22T14:05:11Z",
      "mergedAt": "2023-10-22T14:05:11Z",
      "mergedBy": "hannestschofenig",
      "mergeCommit": {
        "oid": "1bda6a4bf7f17b8913459957ca5cc2cff3919d22"
      },
      "comments": [],
      "reviews": []
    },
    {
      "number": 45,
      "id": "PR_kwDOGr5frc5emN4F",
      "title": "Add organization.",
      "url": "https://github.com/cose-wg/draft-ietf-cose-hpke/pull/45",
      "state": "MERGED",
      "author": "dajiaji",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "Hi @hannestschofenig \r\n\r\nCould you add my organizaiton?",
      "createdAt": "2023-11-04T14:02:25Z",
      "updatedAt": "2023-11-05T09:00:23Z",
      "baseRepository": "cose-wg/draft-ietf-cose-hpke",
      "baseRefName": "main",
      "baseRefOid": "f0825217f9e0d237e677874558764b27bee8a8bd",
      "headRepository": "dajiaji/HPKE",
      "headRefName": "ajiotmi-patch-1",
      "headRefOid": "043913dafb1b1712ea569eaab8dcad50aa5e817b",
      "closedAt": "2023-11-05T09:00:23Z",
      "mergedAt": "2023-11-05T09:00:23Z",
      "mergedBy": "hannestschofenig",
      "mergeCommit": {
        "oid": "f9a814c64f967b2f093792704eb3916678a7c783"
      },
      "comments": [],
      "reviews": []
    },
    {
      "number": 47,
      "id": "PR_kwDOGr5frc5enfZq",
      "title": "Add a descripiton and examples of key representation.",
      "url": "https://github.com/cose-wg/draft-ietf-cose-hpke/pull/47",
      "state": "MERGED",
      "author": "dajiaji",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "@hannestschofenig @OR13 @laurencelundblade\r\n\r\nI have written a description and examples of key representation for COSE-HPKE.\r\n\r\nCould you please review it to see if it matches your assumption?\r\n\r\nCloses #46",
      "createdAt": "2023-11-05T12:47:44Z",
      "updatedAt": "2024-01-16T21:47:46Z",
      "baseRepository": "cose-wg/draft-ietf-cose-hpke",
      "baseRefName": "main",
      "baseRefOid": "f9a814c64f967b2f093792704eb3916678a7c783",
      "headRepository": "dajiaji/HPKE",
      "headRefName": "ajitomi-patch-2",
      "headRefOid": "b0f77d7cd1ccbc4c6fce901ab108c6b406007011",
      "closedAt": "2024-01-16T21:47:45Z",
      "mergedAt": "2024-01-16T21:47:45Z",
      "mergedBy": "hannestschofenig",
      "mergeCommit": {
        "oid": "a24a23259a897dc2fd13564dfb20cd2e9f08fd46"
      },
      "comments": [
        {
          "author": "ilaril",
          "authorAssociation": "CONTRIBUTOR",
          "body": "I think that key ops stuff is not correct. Looks like empty key_ops makes the key unusable, and DeriveBits is very strange operation for  decryption (since it is explicitly not for keys).\r\n\r\nHere is what I think, from reading RFC 9052 (but I am not sure this is correct):\r\n* For one-layer structure, the correct key operations are 3/4 (Encrypt/Decrypt).\r\n* For two-layer structure, the correct key operations are 5/6 (Wrap/Unwrap).\r\n* There should be no restrictions on what key ops are allowed beyond  RFC 9052.\r\n  * Some combinations are not a good idea, but that is BCP stuff.\r\n",
          "createdAt": "2023-11-08T10:55:38Z",
          "updatedAt": "2023-11-08T10:55:38Z"
        },
        {
          "author": "dajiaji",
          "authorAssociation": "COLLABORATOR",
          "body": "@ilaril Thanks for your comment.\r\n\r\n> I think that key ops stuff is not correct.  \r\n\r\nFirst of all, although the alg value is defined as the combination of KEM/KDF/AEAD, the alg parameter for COSE_Key is optional and I think the key_ops parameter is only for the KEM keys. Unless considering this way, I think we cannot keep the consistency with the previous definition of the use of key_ops below:\r\n\r\nThe section 6.3.1 (Direct ECDH) in RFC9053 says that the key_ops must be used as follows: \r\n\r\n> If the \"key_ops\" field is present, it MUST include \"derive key\" or \"derive bits\" for the private key.\r\n> If the \"key_ops\" field is present, it MUST be empty for the public key.\r\n\r\nIn the case of the section 6.4 (ECDH with Key Wrap):\r\n\r\n> If the \"key_ops\" field is present, it MUST include \"derive key\" or \"derive bits\" for the private key.\r\n> If the \"key_ops\" field is present, it MUST be empty for the public key.\r\n\r\nIn addition, unless defining key_ops in this way, the key cannot be available on the Web Cryptography API. It will be considered an invalid key (this is the case of JWK but we have to consier the consistency with JWK definition).\r\n\r\n> Looks like empty key_ops makes the key unusable,\r\n\r\nActually, my implementation also has a bug in the processing of key_ops (I have to fix it as soon as possible), but are there any other examples that the keys that have empty key_ops  cannot be used?\r\n\r\n> and DeriveBits is very strange operation for decryption (since it is explicitly not for keys).\r\n\r\nI agree that deriveBits is a strange thing.\r\n\r\nHowever, since the Web Cryptography API used to implement a HPKE KEM operation is `deriveBits`, not `deriveKey`, I think we should limit the use of key_ops to `deriveBits`. In fact, the shared_secret generated as a result of KEM is not a key, just keying material.",
          "createdAt": "2023-11-09T09:30:52Z",
          "updatedAt": "2023-11-09T09:32:23Z"
        },
        {
          "author": "laurencelundblade",
          "authorAssociation": "COLLABORATOR",
          "body": "The COSE HPKE draft may not define identifiers and uses for PQ algorithms, but it will allow them in the future, right? That means the key type might not be EC2 or OKP, so you can't just say the key type must be EC2 or OKP.  When RFC 9053 says that, it is for specific algorithms.\r\n\r\nWe need to do similar to what 9053 does. Something like listing the ciphersuites for which a particular definition of a COSE_key applies.",
          "createdAt": "2023-11-09T10:46:26Z",
          "updatedAt": "2023-11-09T10:46:26Z"
        },
        {
          "author": "ilaril",
          "authorAssociation": "CONTRIBUTOR",
          "body": "Ugh, this key_ops stuff looks like a total mess. The webcrypto key operations just are not expressive enough:\r\n\r\n* There are no ECDH/KEM public key operations.\r\n* There is no direct encryption operation (like one-layer HPKE).\r\n* However, there are \"Key Transport Encryption\" and \"Key Wrap Encryption\", which are public key operations (as well as \"Verify\"). What is the difference? Are any algorithms capable of both?\r\n\r\nI wonder if the best way out would be to do whatever dumb thing WebCrypto requires (with disclaimers that this was due to shortcomings of WebCrypto) and define key_ops2 with actually sane  semantics.\r\n\r\nRegarding key types, the acceptable key (sub)types should be listed by HPKE KEM:\r\n* KEM 16/19 use EC2/1\r\n* KEM 17/20 use EC2/2\r\n* KEM 18/21 use EC2/3\r\n* KEM 22 uses EC2/8\r\n* KEM 32 uses OKP/4\r\n* KEM 33 uses OKP/5\r\n* KEM 48 uses OKP/TBD (needs to be defined)\r\n\r\n(Of course, the list should be restricted to entries that are actually used.)\r\n\r\nAll the entries happen to use EC2 or OKP, and this will probably continue to hold, but there are no guarantees it will continue to hold. Some KEMs might even be able to use multiple key subtypes.\r\n",
          "createdAt": "2023-11-09T11:05:29Z",
          "updatedAt": "2023-11-09T11:05:29Z"
        },
        {
          "author": "laurencelundblade",
          "authorAssociation": "COLLABORATOR",
          "body": "\nOn Nov 9, 2023, at 12:05 PM, ilaril ***@***.******@***.***>> wrote:\n\n\nRegarding key types, the acceptable key (sub)types should be listed by HPKE KEM\n\n\nNo and yes.\n\nNo because we are using ciphersuites now, not KEM IDs.\n\nYes, because they vary by KEM and the COSE-HPKE draft is for current AND future KEMS\n\nLL\n\n",
          "createdAt": "2023-11-09T11:10:59Z",
          "updatedAt": "2023-11-09T11:10:59Z"
        },
        {
          "author": "ilaril",
          "authorAssociation": "CONTRIBUTOR",
          "body": "Each cipher suite maps to one KEM (signature * -> 1), and each KEM maps to key subtypes (signature 1 -> *).\r\n\r\nSo specifying key subtypes for cipher suites directly would be denormal.",
          "createdAt": "2023-11-09T11:43:37Z",
          "updatedAt": "2023-11-09T11:43:37Z"
        },
        {
          "author": "laurencelundblade",
          "authorAssociation": "COLLABORATOR",
          "body": "Agreed that it denormal and we could specify by KEM with some text that says there is mapping to the ciphersuite.\r\n\r\nBut denormal is not a big deal here because there aren't that many and they will be added rarely so it could be by ciphersuite too.",
          "createdAt": "2023-11-09T12:14:56Z",
          "updatedAt": "2023-11-09T12:14:56Z"
        },
        {
          "author": "dajiaji",
          "authorAssociation": "COLLABORATOR",
          "body": "> The COSE HPKE draft may not define identifiers and uses for PQ algorithms, but it will allow them in the future, right? That means the key type might not be EC2 or OKP, so you can't just say the key type must be EC2 or OKP. When RFC 9053 says that, it is for specific algorithms.\r\n\r\nI also anticipate adding key types for post-quantum hybrid KEM in the future, and I have taken care not to limit it to just EC2 and OKP. Would the following description be insufficient?\r\n\r\n```\r\n* The \"kty\" field MUST be present, and it MUST be one of the key types for HPKE KEM.\r\n* If the \"kty\" field is \"OKP\" or \"EC2\", the \"crv\" field MUST be present\r\n  and it MUST be a curve for HPKE KEM.\r\n```\r\nI intended to include future-defined KEMs in the statement \"the key types for HPKE KEM.\u201d\r\n\r\n> We need to do similar to what 9053 does. Something like listing the ciphersuites for which a particular definition of a COSE_key applies.\r\n\r\nOkay. I'll add it. ",
          "createdAt": "2023-11-09T12:31:08Z",
          "updatedAt": "2023-11-09T12:31:08Z"
        },
        {
          "author": "dajiaji",
          "authorAssociation": "COLLABORATOR",
          "body": "> I wonder if the best way out would be to do whatever dumb thing WebCrypto requires (with disclaimers that this was due to shortcomings of WebCrypto) and define key_ops2 with actually sane semantics.\r\n\r\nI agree with your thoughts on key_ops to some extent. However, regarding the key_ops, I'd like to proceed with this PR as it is. \r\n\r\n> KEM 48 uses OKP/TBD (needs to be defined) \r\n\r\nHmm, I don't think OKP can be used for KEM48. I think we should define an additional key type for Hybrid KEM, which looks like `HPKE-KEM` that I proposed before. ",
          "createdAt": "2023-11-09T13:20:02Z",
          "updatedAt": "2023-11-09T13:20:02Z"
        },
        {
          "author": "ilaril",
          "authorAssociation": "CONTRIBUTOR",
          "body": "Well, key_ops2 stuff would be different draft, just leaving note that the weird stuff is because of WebCrypto compatibility.\r\n\r\nOKP can be used for KEM48 specifically, and should be, because it is the matching keyshape.\r\n\r\nHPKE-KEM key type would have been very useful with a'la carte stuff, but it is less useful now with cipher suites.",
          "createdAt": "2023-11-09T14:17:17Z",
          "updatedAt": "2023-11-09T14:17:17Z"
        },
        {
          "author": "dajiaji",
          "authorAssociation": "COLLABORATOR",
          "body": "@ilaril @laurencelundblade \r\n\r\nI have added a mapping table of alg, kty and crv. Could you check whether it's in line with your thoughts?",
          "createdAt": "2023-11-09T14:47:31Z",
          "updatedAt": "2023-11-09T14:50:09Z"
        },
        {
          "author": "dajiaji",
          "authorAssociation": "COLLABORATOR",
          "body": "> HPKE-KEM key type would have been very useful with a'la carte stuff, but it is less useful now with cipher suites.\r\n\r\nI would like to make this my last post for the hybrid KEM since it is not related to this PR, but I envision the following, not HPKE-KEM as is, but specialized for concatenated keys for post-quantum hybrid KEM (and digital signature?).\r\n\r\n```json\r\n {\r\n  \"kty\": \"Hybrid\",\r\n  \"alg\": \"HPKE-Base-X25519Kyber768-SHA256-AES256GCM\",\r\n  \"pub\": \"<concatenated public key>\",\r\n  \"priv\": \"<concatenated private key>\"\r\n }\r\n```",
          "createdAt": "2023-11-09T15:08:22Z",
          "updatedAt": "2023-11-09T15:08:22Z"
        },
        {
          "author": "OR13",
          "authorAssociation": "COLLABORATOR",
          "body": "Let's avoid signatures for this draft, there is work at cfrg that is still being worked out for hybrid signatures.\n",
          "createdAt": "2023-11-11T03:55:23Z",
          "updatedAt": "2023-11-11T03:55:23Z"
        },
        {
          "author": "selfissued",
          "authorAssociation": "CONTRIBUTOR",
          "body": "Agreed. Let's limit our dependencies to completed standards.\r\n\r\n-- Mike\r\n\r\n\r\n________________________________\r\nFrom: Orie Steele ***@***.***>\r\nSent: Saturday, November 11, 2023 4:55:35 AM\r\nTo: cose-wg/HPKE ***@***.***>\r\nCc: Subscribed ***@***.***>\r\nSubject: Re: [cose-wg/HPKE] Add a descripiton and examples of key representation. (PR #47)\r\n\r\n\r\nLet's avoid signatures for this draft, there is work at cfrg that is still being worked out for hybrid signatures.\r\n\r\n\u2014\r\nReply to this email directly, view it on GitHub<https://github.com/cose-wg/HPKE/pull/47#issuecomment-1806665192>, or unsubscribe<https://github.com/notifications/unsubscribe-auth/AB2KJ7UJB7URQLRN4UMEKALYD3ZLPAVCNFSM6AAAAAA66J7S46VHI2DSMVQWIX3LMV43OSLTON2WKQ3PNVWWK3TUHMYTQMBWGY3DKMJZGI>.\r\nYou are receiving this because you are subscribed to this thread.Message ID: ***@***.***>\r\n",
          "createdAt": "2023-11-11T07:40:12Z",
          "updatedAt": "2023-11-11T07:40:12Z"
        },
        {
          "author": "panva",
          "authorAssociation": "NONE",
          "body": "> @ilaril Thanks for your comment.\r\n> \r\n> > I think that key ops stuff is not correct.\r\n> \r\n> First of all, although the alg value is defined as the combination of KEM/KDF/AEAD, the alg parameter for COSE_Key is optional and I think the key_ops parameter is only for the KEM keys. Unless considering this way, I think we cannot keep the consistency with the previous definition of the use of key_ops below:\r\n> \r\n> The section 6.3.1 (Direct ECDH) in RFC9053 says that the key_ops must be used as follows:\r\n> \r\n> > If the \"key_ops\" field is present, it MUST include \"derive key\" or \"derive bits\" for the private key.\r\n> > If the \"key_ops\" field is present, it MUST be empty for the public key.\r\n> \r\n> In the case of the section 6.4 (ECDH with Key Wrap):\r\n> \r\n> > If the \"key_ops\" field is present, it MUST include \"derive key\" or \"derive bits\" for the private key.\r\n> > If the \"key_ops\" field is present, it MUST be empty for the public key.\r\n> \r\n> In addition, unless defining key_ops in this way, the key cannot be available on the Web Cryptography API. It will be considered an invalid key (this is the case of JWK but we have to consier the consistency with JWK definition).\r\n> \r\n> > Looks like empty key_ops makes the key unusable,\r\n> \r\n> Actually, my implementation also has a bug in the processing of key_ops (I have to fix it as soon as possible), but are there any other examples that the keys that have empty key_ops cannot be used?\r\n> \r\n> > and DeriveBits is very strange operation for decryption (since it is explicitly not for keys).\r\n> \r\n> I agree that deriveBits is a strange thing.\r\n> \r\n> However, since the Web Cryptography API used to implement a HPKE KEM operation is `deriveBits`, not `deriveKey`, I think we should limit the use of key_ops to `deriveBits`. In fact, the shared_secret generated as a result of KEM is not a key, just keying material.\r\n\r\nI haven't undergone a WebCryptoAPI based implementation yet, but i will soon in the [jose](https://github.com/panva/jose) module. That being said, I believe that, considering the [current editor's draft of WebCryptoAPI](https://w3c.github.io/webcrypto) as well as use of [Secure Curves](https://wicg.github.io/webcrypto-secure-curves/)\r\n\r\n- the JWK import operations don't limit the `alg` value of a JWK, which is good\r\n- key_ops are empty for public keys\r\n- key_ops are limited to `derive_bits` and/or `derive_key`\r\n\r\nAnd so the definition in this PR is consistent with what WebCryptoAPI allows you to import/generate and the keys will be usable given this PR is in place AS-IS.\r\n\r\nI will come back when I have more implementer's feedback under the current WebCryptoAPI state constraints.\r\n\r\n---\r\n\r\nThe above may not be applicable to COSE_Key representations, but for the JOSE based implementation I think it's in line with the expectations and limits put forth by WebCryptoAPI.",
          "createdAt": "2023-11-11T08:49:41Z",
          "updatedAt": "2023-11-11T08:51:52Z"
        },
        {
          "author": "OR13",
          "authorAssociation": "COLLABORATOR",
          "body": "@panva thanks for your review. \n\nI found that I needed to remove the unrecognized HPKE alg values before importing JWKs for use with dhkem.\n\nI have a sorta side by side comparison of your library and my hacky attempt at HPKE using @dajiaji 's library at hpke.dev, but you should ignore it if you want to attempt a blind implementation based only on the specs.",
          "createdAt": "2023-11-11T09:01:00Z",
          "updatedAt": "2023-11-11T09:01:00Z"
        },
        {
          "author": "panva",
          "authorAssociation": "NONE",
          "body": "> I found that I needed to remove the unrecognized HPKE alg values before importing JWKs for use with dhkem.\r\n\r\nWhy? Which webcrypto implementation/runtime?",
          "createdAt": "2023-11-11T09:24:49Z",
          "updatedAt": "2023-11-11T09:24:49Z"
        },
        {
          "author": "panva",
          "authorAssociation": "NONE",
          "body": "Nevermind, answered myself - https://github.com/panva/jose/actions/runs/6833462247/job/18585240434, i'll open bug reports for both firefox and workerd and add WPTs for this behaviour. These bugs in implementations shouldn't drive the spec tho.\r\n\r\nedit:\r\n\r\n- https://github.com/cloudflare/workerd/issues/1403\r\n- https://bugzilla.mozilla.org/show_bug.cgi?id=1864262",
          "createdAt": "2023-11-11T09:42:19Z",
          "updatedAt": "2023-11-11T10:06:55Z"
        },
        {
          "author": "dajiaji",
          "authorAssociation": "COLLABORATOR",
          "body": "> Let's avoid signatures for this draft, there is work at cfrg that is still being worked out for hybrid signatures.\r\n\r\nNeedless to say, the JWK/COSE_Key expression for the PQ/T hybrid scheme should be defined as a separate spec independent of this COSE-HPKE spec :-)",
          "createdAt": "2023-11-12T06:19:33Z",
          "updatedAt": "2023-11-12T06:19:33Z"
        },
        {
          "author": "dajiaji",
          "authorAssociation": "COLLABORATOR",
          "body": "@hannestschofenig Could you review and merge this PR? As far as I can see, there seems to be no opposition to the current status of the PR.",
          "createdAt": "2023-12-23T23:32:29Z",
          "updatedAt": "2023-12-23T23:32:29Z"
        },
        {
          "author": "hannestschofenig",
          "authorAssociation": "COLLABORATOR",
          "body": "I would like to merge this PR. Further refinements can then be made on top of it.",
          "createdAt": "2024-01-07T15:53:01Z",
          "updatedAt": "2024-01-07T15:53:01Z"
        },
        {
          "author": "laurencelundblade",
          "authorAssociation": "COLLABORATOR",
          "body": "Let's be sure an capture the comments as issues if you merge. The PR doesn't correctly say how to use alg and curve yet.",
          "createdAt": "2024-01-07T19:35:56Z",
          "updatedAt": "2024-01-07T19:35:56Z"
        },
        {
          "author": "dajiaji",
          "authorAssociation": "COLLABORATOR",
          "body": "Thank you all for your reviews and comments. I will be able to get some time to update this PR this weekend. Please wait for a while.",
          "createdAt": "2024-01-12T08:44:29Z",
          "updatedAt": "2024-01-12T08:44:29Z"
        }
      ],
      "reviews": [
        {
          "id": "PRR_kwDOGr5frc5mKZbA",
          "commit": {
            "abbreviatedOid": "0a0d450"
          },
          "author": "OR13",
          "authorAssociation": "COLLABORATOR",
          "state": "APPROVED",
          "body": "Great first start! I'm not sure about key ops in COSE key, I'm more familiar with it in JWK... I'd want to double check the empty recommendation vs omiting it.",
          "createdAt": "2023-11-05T14:55:58Z",
          "updatedAt": "2023-11-05T14:55:58Z",
          "comments": []
        },
        {
          "id": "PRR_kwDOGr5frc5rC7Jd",
          "commit": {
            "abbreviatedOid": "cd7db2e"
          },
          "author": "ilaril",
          "authorAssociation": "CONTRIBUTOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2023-12-25T16:48:26Z",
          "updatedAt": "2023-12-25T16:48:27Z",
          "comments": [
            {
              "originalPosition": 14,
              "body": "The following might be a bit clearer (not repeating COSE requirements):\r\n\r\n* The key MUST be convertible into key used by a HPKE KEM used by some algorithm.\r\n  * Key with kty=EC2 and crv=P-256 can be converted into P256 key.\r\n  * Key with kty=EC2 and crv=P-384 can be converted into P384 key.\r\n  * Key with kty=EC2 and crv=P-521 can be converted into P521 key.\r\n  * Key with kty=OKP and crv=X25519 can be converted into X25519 key.\r\n  * Key with kty=OKP and crv=X448 can be converted into X448 key.\r\n* If \"alg\" field is present, the key MUST be convertible into key for the HPKE KEM used by that algorithm.\r\n\r\n... But probably requires some copyediting.",
              "createdAt": "2023-12-25T16:48:26Z",
              "updatedAt": "2023-12-25T16:48:27Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOGr5frc5rM_we",
          "commit": {
            "abbreviatedOid": "cd7db2e"
          },
          "author": "laurencelundblade",
          "authorAssociation": "COLLABORATOR",
          "state": "CHANGES_REQUESTED",
          "body": "",
          "createdAt": "2023-12-29T03:16:44Z",
          "updatedAt": "2023-12-29T19:21:08Z",
          "comments": [
            {
              "originalPosition": 13,
              "body": "The alg field must match the COSE-HPKE algorithm identifier. The point is the key can be used only with the algorithm in the \"alg\" field.\r\n\r\nThe alg field is a key usage limitation. It is the owner of the key saying what the key can and can't be used for.",
              "createdAt": "2023-12-29T03:16:44Z",
              "updatedAt": "2023-12-29T19:21:08Z"
            },
            {
              "originalPosition": 11,
              "body": "curve is the interesting because unlike ECDH in RFC 9053, HPKE alg IDs include the curve.\r\n\r\nIf the curve field is present it MUST exactly match the curve from the algorithm ID. Not any HPKE alg ID, but the alg ID of the particular message.\r\n\r\nIt might be OK if the curve field is absent in the COSE_Key since you can know the curve from the message alg ID, but I see no advantage in that. Keys are always for a particular curve and it is easy to carry that info along.\r\n\r\nThe curve field is basically only a cross-check for COSE-HPKE, where as it is indispensable info for ECDH in RFC 9053.\r\n\r\n\r\n",
              "createdAt": "2023-12-29T03:18:14Z",
              "updatedAt": "2024-01-04T16:33:29Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOGr5frc5sVfS9",
          "commit": {
            "abbreviatedOid": "ca941ae"
          },
          "author": "hannestschofenig",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2024-01-12T07:40:04Z",
          "updatedAt": "2024-01-12T07:43:23Z",
          "comments": [
            {
              "originalPosition": 97,
              "body": "What does \"35_0\" mean? Why is this not just 35?",
              "createdAt": "2024-01-12T07:40:05Z",
              "updatedAt": "2024-01-12T07:43:24Z"
            },
            {
              "originalPosition": 122,
              "body": "Shouldn't this be 42?",
              "createdAt": "2024-01-12T07:40:26Z",
              "updatedAt": "2024-01-12T07:43:24Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOGr5frc5sfcd6",
          "commit": {
            "abbreviatedOid": "ca941ae"
          },
          "author": "dajiaji",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2024-01-14T08:58:13Z",
          "updatedAt": "2024-01-14T08:58:13Z",
          "comments": [
            {
              "originalPosition": 97,
              "body": "I've fixed the alg value.",
              "createdAt": "2024-01-14T08:58:13Z",
              "updatedAt": "2024-01-14T08:58:13Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOGr5frc5sfcen",
          "commit": {
            "abbreviatedOid": "ca941ae"
          },
          "author": "dajiaji",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2024-01-14T08:58:36Z",
          "updatedAt": "2024-01-14T08:58:36Z",
          "comments": [
            {
              "originalPosition": 122,
              "body": "I've fixed the value.",
              "createdAt": "2024-01-14T08:58:36Z",
              "updatedAt": "2024-01-14T08:58:36Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOGr5frc5sfd6y",
          "commit": {
            "abbreviatedOid": "cd7db2e"
          },
          "author": "dajiaji",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2024-01-14T09:33:53Z",
          "updatedAt": "2024-01-14T09:33:53Z",
          "comments": [
            {
              "originalPosition": 13,
              "body": "@laurencelundblade Thanks for your review. I've added the sentence \"it MUST be one of the supported COSE-HPKE \"alg\" values and ...\" to the text. What do you think about that?\r\n\r\n> If the \"alg\" field is present, **it MUST be one of the supported COSE-HPKE \"alg\" values and** the key type of its KEM MUST match the \"kty\" field.",
              "createdAt": "2024-01-14T09:33:53Z",
              "updatedAt": "2024-01-14T09:33:53Z"
            }
          ]
        }
      ]
    },
    {
      "number": 48,
      "id": "PR_kwDOGr5frc5is12n",
      "title": "Proposal for reducing number of ciphers",
      "url": "https://github.com/cose-wg/draft-ietf-cose-hpke/pull/48",
      "state": "MERGED",
      "author": "hannestschofenig",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "I listened to the recording of the IETF #118 COSE working group meeting and based on the feedback I have cut down the number of ciphersuites.",
      "createdAt": "2023-12-23T17:53:30Z",
      "updatedAt": "2024-01-16T21:53:19Z",
      "baseRepository": "cose-wg/draft-ietf-cose-hpke",
      "baseRefName": "main",
      "baseRefOid": "a24a23259a897dc2fd13564dfb20cd2e9f08fd46",
      "headRepository": "cose-wg/draft-ietf-cose-hpke",
      "headRefName": "hannestschofenig-patch-4",
      "headRefOid": "c04b2592a7c5dd01cfe4ad30821d0429477ed354",
      "closedAt": "2024-01-16T21:53:15Z",
      "mergedAt": "2024-01-16T21:53:15Z",
      "mergedBy": "hannestschofenig",
      "mergeCommit": {
        "oid": "a626609841d78e456f92e0c8d3e87ac1ea341d35"
      },
      "comments": [
        {
          "author": "dajiaji",
          "authorAssociation": "COLLABORATOR",
          "body": "I feel that it would be better to keep the ciphersuites with ChaChaPoly (36,38 and 40) for keeping the symmetry of the choices, but I have no clear reason or use case to strongly argue for it. I agree with this PR.",
          "createdAt": "2023-12-23T23:29:03Z",
          "updatedAt": "2023-12-23T23:29:03Z"
        }
      ],
      "reviews": [
        {
          "id": "PRR_kwDOGr5frc5rBJ5d",
          "commit": {
            "abbreviatedOid": "04d1953"
          },
          "author": "selfissued",
          "authorAssociation": "CONTRIBUTOR",
          "state": "APPROVED",
          "body": "",
          "createdAt": "2023-12-23T18:55:58Z",
          "updatedAt": "2023-12-23T18:55:58Z",
          "comments": []
        },
        {
          "id": "PRR_kwDOGr5frc5rC0VV",
          "commit": {
            "abbreviatedOid": "04d1953"
          },
          "author": "ilaril",
          "authorAssociation": "CONTRIBUTOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2023-12-25T14:09:44Z",
          "updatedAt": "2023-12-25T14:09:44Z",
          "comments": [
            {
              "originalPosition": 38,
              "body": "\"validate\"?  Should this be \"valid\" or something else?\r\n\r\nAnd that \"must\" might be better uppercased.\r\n\r\nAnd other guidelines that might be considered:\r\n\r\n- KDF used SHOULD (if possible) match one internally used by the KEM.\r\n- Components SHOULD NOT be mixed between global and different national standards.",
              "createdAt": "2023-12-25T14:09:44Z",
              "updatedAt": "2023-12-25T14:09:45Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOGr5frc5rwPvn",
          "commit": {
            "abbreviatedOid": "04d1953"
          },
          "author": "hannestschofenig",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2024-01-07T13:42:15Z",
          "updatedAt": "2024-01-07T13:42:16Z",
          "comments": [
            {
              "originalPosition": 38,
              "body": "```suggestion\r\n(KEM, KDF, AEAD) triple that consitute valid combinations for use with HPKE, the KDF used should (if possible) match one internally used by the KEM, and components should not be mixed between global and national standards.\r\n```",
              "createdAt": "2024-01-07T13:42:15Z",
              "updatedAt": "2024-01-07T13:42:16Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOGr5frc5rwPyq",
          "commit": {
            "abbreviatedOid": "04d1953"
          },
          "author": "hannestschofenig",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2024-01-07T13:43:30Z",
          "updatedAt": "2024-01-07T13:43:30Z",
          "comments": [
            {
              "originalPosition": 38,
              "body": "Thanks for the comments, Ilari. These additional guidelines are good.\r\n\r\nRegarding the use of RFC 2119 language: I prefer to use the MAY, SHOULD, MUST terms when it concerns interoperability. Here we are just giving guidance to the experts and therefore I believe it is fine to use lower-case terms.",
              "createdAt": "2024-01-07T13:43:30Z",
              "updatedAt": "2024-01-07T13:43:30Z"
            }
          ]
        }
      ]
    },
    {
      "number": 49,
      "id": "PR_kwDOGr5frc5jZ9gd",
      "title": "Algorithm ID Optional",
      "url": "https://github.com/cose-wg/draft-ietf-cose-hpke/pull/49",
      "state": "CLOSED",
      "author": "hannestschofenig",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "Made the algorithm ID optional, as discussed in https://github.com/cose-wg/HPKE/issues/39.",
      "createdAt": "2024-01-07T13:38:19Z",
      "updatedAt": "2024-02-14T10:23:44Z",
      "baseRepository": "cose-wg/draft-ietf-cose-hpke",
      "baseRefName": "main",
      "baseRefOid": "f9a814c64f967b2f093792704eb3916678a7c783",
      "headRepository": "cose-wg/draft-ietf-cose-hpke",
      "headRefName": "hannestschofenig-patch-5",
      "headRefOid": "18fabd1102ada77c4cb0d14858b8c75b42b2e868",
      "closedAt": "2024-02-14T10:23:43Z",
      "mergedAt": null,
      "mergedBy": null,
      "mergeCommit": null,
      "comments": [
        {
          "author": "hannestschofenig",
          "authorAssociation": "COLLABORATOR",
          "body": "Closed due to lack of support",
          "createdAt": "2024-02-14T10:23:43Z",
          "updatedAt": "2024-02-14T10:23:43Z"
        }
      ],
      "reviews": [
        {
          "id": "PRR_kwDOGr5frc5rwe4i",
          "commit": {
            "abbreviatedOid": "18fabd1"
          },
          "author": "selfissued",
          "authorAssociation": "CONTRIBUTOR",
          "state": "CHANGES_REQUESTED",
          "body": "I oppose this change, as described at https://github.com/cose-wg/HPKE/issues/39#issuecomment-1880172008.",
          "createdAt": "2024-01-07T21:07:49Z",
          "updatedAt": "2024-01-07T21:07:49Z",
          "comments": []
        }
      ]
    },
    {
      "number": 51,
      "id": "PR_kwDOGr5frc5mlBPN",
      "title": "AAD Usage Clarifications",
      "url": "https://github.com/cose-wg/draft-ietf-cose-hpke/pull/51",
      "state": "MERGED",
      "author": "hannestschofenig",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "Based on interop testing with Daisuke",
      "createdAt": "2024-02-11T15:11:20Z",
      "updatedAt": "2024-02-14T10:23:26Z",
      "baseRepository": "cose-wg/draft-ietf-cose-hpke",
      "baseRefName": "main",
      "baseRefOid": "a626609841d78e456f92e0c8d3e87ac1ea341d35",
      "headRepository": "cose-wg/draft-ietf-cose-hpke",
      "headRefName": "hannestschofenig-patch-4",
      "headRefOid": "1cbbc06e48fe5fec5a5956b0bf335f2f98afe430",
      "closedAt": "2024-02-14T10:23:23Z",
      "mergedAt": "2024-02-14T10:23:23Z",
      "mergedBy": "hannestschofenig",
      "mergeCommit": {
        "oid": "3afc9cff86ba156d548d283be65e97c3b92fda42"
      },
      "comments": [],
      "reviews": [
        {
          "id": "PRR_kwDOGr5frc5vuWw4",
          "commit": {
            "abbreviatedOid": "f221b80"
          },
          "author": "laurencelundblade",
          "authorAssociation": "COLLABORATOR",
          "state": "CHANGES_REQUESTED",
          "body": "- Agree with use of the \"aad\" parameter.\r\n- A few comments and typos\r\n- Lament about the info param / structure",
          "createdAt": "2024-02-11T19:41:19Z",
          "updatedAt": "2024-02-11T19:58:13Z",
          "comments": [
            {
              "originalPosition": 39,
              "body": "COSE-HKPE is not really a \"profile\". It is a new standard encryption mechanism for COSE (not a big deal, but I thought I'd mention it).",
              "createdAt": "2024-02-11T19:41:19Z",
              "updatedAt": "2024-02-11T19:58:13Z"
            },
            {
              "originalPosition": 40,
              "body": "I think the use or non-use of kid depends on the use case. If you have a use case where the key is known already then it is not needed (not a big deal, but I thought I'd mention it).",
              "createdAt": "2024-02-11T19:42:35Z",
              "updatedAt": "2024-02-11T19:58:13Z"
            },
            {
              "originalPosition": 58,
              "body": "I don't think detached / non-detached needs to be mention in this document. (not a big deal, but I thought I'd mention it).",
              "createdAt": "2024-02-11T19:43:51Z",
              "updatedAt": "2024-02-11T19:58:13Z"
            },
            {
              "originalPosition": 70,
              "body": "\"encrypt\", not \"encrypted\"",
              "createdAt": "2024-02-11T19:48:27Z",
              "updatedAt": "2024-02-11T19:58:13Z"
            },
            {
              "originalPosition": 67,
              "body": "\"need\" -> \"MUST\"",
              "createdAt": "2024-02-11T19:50:28Z",
              "updatedAt": "2024-02-11T19:58:13Z"
            },
            {
              "originalPosition": 66,
              "body": "This seems correct to me.",
              "createdAt": "2024-02-11T19:50:44Z",
              "updatedAt": "2024-02-11T19:58:13Z"
            },
            {
              "originalPosition": 70,
              "body": "This is progress on #42. It is saying what the \"aad\" parameter input to the Seal() API is.",
              "createdAt": "2024-02-11T19:52:33Z",
              "updatedAt": "2024-02-11T19:58:13Z"
            },
            {
              "originalPosition": 88,
              "body": "This is restating some of 9052. I kind of thought it's better not to do restatements and if you do, say the original is normative. (not a big deal, but I thought I'd mention it).",
              "createdAt": "2024-02-11T19:53:46Z",
              "updatedAt": "2024-02-11T19:58:13Z"
            },
            {
              "originalPosition": 92,
              "body": "Wish we could improve this a lot. Kind of seems like the user of COSE-HPKE has to do a deep threat analysis of their use case to know what to do here. Probably they have to do a lot less than in regular COSE, because COSE-HPKE internally takes care of a lot of this.",
              "createdAt": "2024-02-11T19:56:38Z",
              "updatedAt": "2024-02-11T19:58:13Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOGr5frc5vuXWV",
          "commit": {
            "abbreviatedOid": "f221b80"
          },
          "author": "OR13",
          "authorAssociation": "COLLABORATOR",
          "state": "APPROVED",
          "body": "",
          "createdAt": "2024-02-11T19:59:47Z",
          "updatedAt": "2024-02-11T19:59:47Z",
          "comments": []
        },
        {
          "id": "PRR_kwDOGr5frc5vuZAu",
          "commit": {
            "abbreviatedOid": "f221b80"
          },
          "author": "dajiaji",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2024-02-11T20:52:06Z",
          "updatedAt": "2024-02-11T20:52:06Z",
          "comments": [
            {
              "originalPosition": 88,
              "body": "I agree with Laurence that there is no need to restate what is written in another spec. However, I also think that this PR should be merged once and editorial corrections can be done later as a PR that resolves the issue (#41) Laurence filed.",
              "createdAt": "2024-02-11T20:52:06Z",
              "updatedAt": "2024-02-11T20:52:06Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOGr5frc5vuZVN",
          "commit": {
            "abbreviatedOid": "f221b80"
          },
          "author": "dajiaji",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2024-02-11T21:02:31Z",
          "updatedAt": "2024-02-11T21:02:31Z",
          "comments": [
            {
              "originalPosition": 92,
              "body": "I agree, and I think it would be better to solve this with another PR.",
              "createdAt": "2024-02-11T21:02:31Z",
              "updatedAt": "2024-02-11T21:02:31Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOGr5frc5vv2Jv",
          "commit": {
            "abbreviatedOid": "f221b80"
          },
          "author": "hannestschofenig",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2024-02-12T09:27:44Z",
          "updatedAt": "2024-02-12T09:27:44Z",
          "comments": [
            {
              "originalPosition": 39,
              "body": "```suggestion\r\ndiscouraged by RFC 9052, this documents RECOMMENDS the use of the 'kid' parameter\r\n```",
              "createdAt": "2024-02-12T09:27:44Z",
              "updatedAt": "2024-02-12T09:27:44Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOGr5frc5vv4Oe",
          "commit": {
            "abbreviatedOid": "7bfd7a4"
          },
          "author": "hannestschofenig",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2024-02-12T09:32:27Z",
          "updatedAt": "2024-02-12T09:32:28Z",
          "comments": [
            {
              "originalPosition": 67,
              "body": "```suggestion\r\nSection 5.3 of {{RFC9052}} MUST to be followed, which includes the\r\n```",
              "createdAt": "2024-02-12T09:32:27Z",
              "updatedAt": "2024-02-12T09:32:28Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOGr5frc5vv5ZT",
          "commit": {
            "abbreviatedOid": "5c314ad"
          },
          "author": "hannestschofenig",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2024-02-12T09:35:13Z",
          "updatedAt": "2024-02-12T09:35:14Z",
          "comments": [
            {
              "originalPosition": 40,
              "body": "That's correct. You don't have to use it but we recommend it in the generic case.",
              "createdAt": "2024-02-12T09:35:14Z",
              "updatedAt": "2024-02-12T09:35:14Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOGr5frc5vv6be",
          "commit": {
            "abbreviatedOid": "5c314ad"
          },
          "author": "hannestschofenig",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2024-02-12T09:37:38Z",
          "updatedAt": "2024-02-12T09:37:38Z",
          "comments": [
            {
              "originalPosition": 58,
              "body": "I downgraded the sentence to avoid the use of the MAY to may",
              "createdAt": "2024-02-12T09:37:38Z",
              "updatedAt": "2024-02-12T09:37:38Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOGr5frc5vv7M9",
          "commit": {
            "abbreviatedOid": "5c314ad"
          },
          "author": "hannestschofenig",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2024-02-12T09:39:28Z",
          "updatedAt": "2024-02-12T09:39:29Z",
          "comments": [
            {
              "originalPosition": 70,
              "body": "```suggestion\r\nAt layer 1 where HPKE is used to encrypt the CEK, the \"aad\" parameter\r\n```",
              "createdAt": "2024-02-12T09:39:28Z",
              "updatedAt": "2024-02-12T09:39:29Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOGr5frc5vv9a4",
          "commit": {
            "abbreviatedOid": "f0d4d05"
          },
          "author": "hannestschofenig",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2024-02-12T09:44:38Z",
          "updatedAt": "2024-02-12T09:45:48Z",
          "comments": [
            {
              "originalPosition": 87,
              "body": "```suggestion\r\n```",
              "createdAt": "2024-02-12T09:44:38Z",
              "updatedAt": "2024-02-12T09:45:48Z"
            },
            {
              "originalPosition": 88,
              "body": "```suggestion\r\n```",
              "createdAt": "2024-02-12T09:44:55Z",
              "updatedAt": "2024-02-12T09:45:48Z"
            },
            {
              "originalPosition": 89,
              "body": "```suggestion\r\n```",
              "createdAt": "2024-02-12T09:45:05Z",
              "updatedAt": "2024-02-12T09:45:48Z"
            }
          ]
        }
      ]
    },
    {
      "number": 54,
      "id": "PR_kwDOGr5frc5n1tj6",
      "title": "Update description of aad and info.",
      "url": "https://github.com/cose-wg/draft-ietf-cose-hpke/pull/54",
      "state": "CLOSED",
      "author": "dajiaji",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "@hannestschofenig @OR13 @laurencelundblade @ilari\r\n\r\nSince I believe it will be easier to discuss based on a concrete proposal, I have updated the descriptions of COSE_KDF_Context, aad and info.\r\n\r\nCould you please review it?\r\n\r\nCloses #25 #53",
      "createdAt": "2024-02-25T11:32:59Z",
      "updatedAt": "2024-04-03T23:58:57Z",
      "baseRepository": "cose-wg/draft-ietf-cose-hpke",
      "baseRefName": "main",
      "baseRefOid": "780aefb81eed1166896414285342ffd907b4d0f2",
      "headRepository": "dajiaji/HPKE",
      "headRefName": "ajitomi-patch-3",
      "headRefOid": "f50f741205d2db80b99043e8c51da4f0be84753c",
      "closedAt": "2024-04-03T23:58:57Z",
      "mergedAt": null,
      "mergedBy": null,
      "mergeCommit": null,
      "comments": [
        {
          "author": "OR13",
          "authorAssociation": "COLLABORATOR",
          "body": "Consider, reviewing https://datatracker.ietf.org/doc/html/draft-madden-jose-ecdh-1pu-04 for context on how these the headers have been used in past.",
          "createdAt": "2024-02-25T14:04:30Z",
          "updatedAt": "2024-02-25T14:04:57Z"
        },
        {
          "author": "dajiaji",
          "authorAssociation": "COLLABORATOR",
          "body": "@OR13 @hannestschofenig the updates around COSE_KDF_Conxt will be done by #58, so could you merge this PR?",
          "createdAt": "2024-04-03T23:41:05Z",
          "updatedAt": "2024-04-03T23:41:05Z"
        },
        {
          "author": "dajiaji",
          "authorAssociation": "COLLABORATOR",
          "body": "> I would suggest we merge #58, close this PR and open a follow up PR to address remaining issues.\r\n\r\nOkay. I agree it's a simpler way. After merging #58, then I'll make a new PR to address the remaining issues. ",
          "createdAt": "2024-04-03T23:57:40Z",
          "updatedAt": "2024-04-03T23:57:40Z"
        },
        {
          "author": "dajiaji",
          "authorAssociation": "COLLABORATOR",
          "body": "Following Orie's suggestion, I close the PR.",
          "createdAt": "2024-04-03T23:58:57Z",
          "updatedAt": "2024-04-03T23:58:57Z"
        }
      ],
      "reviews": [
        {
          "id": "PRR_kwDOGr5frc5xOsTD",
          "commit": {
            "abbreviatedOid": "0d7365b"
          },
          "author": "OR13",
          "authorAssociation": "COLLABORATOR",
          "state": "APPROVED",
          "body": "",
          "createdAt": "2024-02-25T13:19:03Z",
          "updatedAt": "2024-02-25T13:19:03Z",
          "comments": []
        },
        {
          "id": "PRR_kwDOGr5frc5xOsW_",
          "commit": {
            "abbreviatedOid": "0d7365b"
          },
          "author": "OR13",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "JOSE has text about the related headers that says they MUST be understood, does COSE not have that text?\n\nWe might consider, listing the headers, and noting that while they are not used in the context, they can be relied on based on their being in the protected header, and the header being in aad.",
          "createdAt": "2024-02-25T13:20:22Z",
          "updatedAt": "2024-02-25T13:24:31Z",
          "comments": [
            {
              "originalPosition": 32,
              "body": "```suggestion\nSpecifically, the KEM and KDF steps in HPKE supply sufficient context information\n```\n",
              "createdAt": "2024-02-25T13:20:22Z",
              "updatedAt": "2024-02-25T13:24:31Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOGr5frc5xOug9",
          "commit": {
            "abbreviatedOid": "0d7365b"
          },
          "author": "OR13",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2024-02-25T14:05:59Z",
          "updatedAt": "2024-02-25T14:05:59Z",
          "comments": [
            {
              "originalPosition": 76,
              "body": "```suggestion\r\nusing this AAD as \"aad\" for HPKE is more compatible and natural with the COSE convention.\r\n```",
              "createdAt": "2024-02-25T14:05:59Z",
              "updatedAt": "2024-02-25T14:05:59Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOGr5frc5xOxhQ",
          "commit": {
            "abbreviatedOid": "0d7365b"
          },
          "author": "OR13",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2024-02-25T15:12:53Z",
          "updatedAt": "2024-02-25T15:12:53Z",
          "comments": [
            {
              "originalPosition": 79,
              "body": "```suggestion\r\n\r\nIn both \"HPKE direct encryption\" and \"HPKE key encryption\", the aad provided to the Seal and Open operations MUST be the protected headers.\r\n\r\nWhen using \"HPKE direct encryption\":\r\n\r\nThis mode MUST be used with COSE_Encrypt0 (tag 16).\r\nThis mode MUST NOT be used with COSE_Encrypt (tag 96).\r\n\r\nThe `aad` provided to HPKE Seal and HPKE Open MUST be the protected bytes, as defined in {{Section 3 of RFC9052 }}.\r\n\r\nThis mode MAY be used with external aad, as described in {{Section 5.3 of RFC9052}}.\r\n\r\nThis mode MAY be used with COSE_KDF_Context as described in {{Section 5.2 of RFC9053}}.\r\n\r\nParameters to COSE_KDF_Context are known to both sender and receiver, and MAY be found in either the protected or unprotected headers of the COSE_Encrypt0 structure, or supplied directly to the encrypt or decrypt operations for this mode.\r\n\r\n\r\nWhen using  \"HPKE key encryption\", \r\n\r\nThis mode MUST NOT be used with COSE_Encrypt0 (tag 16).\r\nThis mode MUST be used with COSE_Encrypt (tag 96).\r\n\r\nThe `aad` provided to HPKE Seal and HPKE Open MUST be the protected bytes of the COSE_Recipient, as defined in {{Section 5.1 of RFC9052 }}.\r\n\r\nThis mode MAY be used with external aad, as described in {{Section 5.3 of RFC9052}}.\r\n\r\nThis mode MAY be used with COSE_KDF_Context as described in {{Section 5.2 of RFC9053}}.\r\n\r\nParameters to COSE_KDF_Context are known to both sender and receiver, and MAY be found in either the protected or unprotected headers of the COSE_Encrypt structure, the protected or unprotected headers of the COSE_Recipient structure, or supplied directly to the encrypt or decrypt operations for this mode.\r\n\r\n```",
              "createdAt": "2024-02-25T15:12:53Z",
              "updatedAt": "2024-02-25T15:12:54Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOGr5frc5xOxmz",
          "commit": {
            "abbreviatedOid": "0d7365b"
          },
          "author": "OR13",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2024-02-25T15:14:57Z",
          "updatedAt": "2024-02-25T15:14:57Z",
          "comments": [
            {
              "originalPosition": 79,
              "body": "For completeness I think we should first get agreement on how this is supposed to work, and then forbid the use of COSE_KDF_Context.\r\n\r\nI am unsure of the protocol implications of forbidding COSE_KDF_Context... its possible that forbidding it will prevent a protocol relying on ECDH-ES+A128KW to update to HPKE Key Encryption.\r\n\r\nBut I do agree that COSE_KDF_Context is not a very friendly structure, and its use should be discouraged.",
              "createdAt": "2024-02-25T15:14:57Z",
              "updatedAt": "2024-02-25T15:14:58Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOGr5frc5xOx3L",
          "commit": {
            "abbreviatedOid": "0d7365b"
          },
          "author": "OR13",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2024-02-25T15:21:00Z",
          "updatedAt": "2024-02-25T15:21:00Z",
          "comments": [
            {
              "originalPosition": 79,
              "body": "I did implement support for both external aad:\r\n\r\nhttps://github.com/transmute-industries/cose/pull/14/files#diff-edd54867e5a0ce9a217f529034c273c9391d56d9f1341190d4301c825462214f\r\n\r\nand cose kdf context\r\n\r\nhttps://github.com/transmute-industries/cose/pull/14/files#diff-19affcbbf817a6560c7519b299387e2e4c3bdc4440882f2650846c46ea4abd38\r\n\r\n\r\nHowever, I would be more than happy to throw away the COSE_KDF_Context code if its possible for us to do that.\r\n",
              "createdAt": "2024-02-25T15:21:00Z",
              "updatedAt": "2024-02-25T15:21:38Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOGr5frc5xO2s7",
          "commit": {
            "abbreviatedOid": "a9de35a"
          },
          "author": "hannestschofenig",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2024-02-25T17:27:37Z",
          "updatedAt": "2024-02-25T17:27:37Z",
          "comments": [
            {
              "originalPosition": 79,
              "body": "I don't understand what your problems with the COSE_KDF_Context structure is.\r\n\r\nIt is a good guideline for what to include and the structure is conceptuallly similar to what we are already using with the Enc_structure.\r\n\r\nIn Orie's text above, I assume the COSE_KDF_Context structure as passed into the Seal() and Open() API as info parameter. Daisuke, however, says that only one parameter can be passed into those functions, namely info or aad.\r\n\r\nI am trying to find the paragraph in the HPKE RFC that says that. If we can pass both aad and info into those two API calls then we are fine. If not, then we need to come up with something.\r\n\r\nFinally, I would like to point out that the aad and the info fields serve a different purpose. The info field influences the key generation while the aad field is integrity protected data that is outside the plaintext that is subsequently encrypted and integrity protected.",
              "createdAt": "2024-02-25T17:27:37Z",
              "updatedAt": "2024-02-25T17:27:37Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOGr5frc5xO2vs",
          "commit": {
            "abbreviatedOid": "a9de35a"
          },
          "author": "hannestschofenig",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2024-02-25T17:29:03Z",
          "updatedAt": "2024-02-25T17:29:03Z",
          "comments": [
            {
              "originalPosition": 32,
              "body": "This is not correct.\r\n\r\nThe public keys are, of course, included in the computation. This is not what the context is about. The context is about the endpoint identifiers. ",
              "createdAt": "2024-02-25T17:29:03Z",
              "updatedAt": "2024-02-25T17:29:03Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOGr5frc5xO2zf",
          "commit": {
            "abbreviatedOid": "a9de35a"
          },
          "author": "hannestschofenig",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2024-02-25T17:31:05Z",
          "updatedAt": "2024-02-25T17:31:05Z",
          "comments": [
            {
              "originalPosition": 41,
              "body": "I disagree with this conclusion. If this is the case then why are there attacks like this https://datatracker.ietf.org/doc/rfc8844/ ?\r\n\r\nI understand that it is annoying to provide this context information but unless we can proof that there are no problems we should be following the advice by cryptographers.",
              "createdAt": "2024-02-25T17:31:05Z",
              "updatedAt": "2024-02-25T17:31:05Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOGr5frc5xO5Pz",
          "commit": {
            "abbreviatedOid": "a9de35a"
          },
          "author": "laurencelundblade",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2024-02-25T18:41:51Z",
          "updatedAt": "2024-02-25T18:41:51Z",
          "comments": [
            {
              "originalPosition": 79,
              "body": "Yes, getting rid COSE_KDF_Context might be a good idea. At least worth exploring. One reason I dislike it a lot is because you have to go read obscure NIST documents to really understand what to put in it. That is way above the skill of the average engineer. We should do that work for them.\r\n\r\nI think we want to be sure that what ever we propose can do all the important things that COSE_KDF_Context does. Those things are the addressing of threats. We might do this by defining a few more COSE headers that take the place of fields in COSE_KDF_Context.\r\n\r\nI think there's a big difference between single-recipient and multiple-recipient.\r\n\r\nSingle-recipient is easy because we can just rest on the security of HPKE. I think the HPKE security design was more thorough than that of COSE. I would be content assuming that all the hashing and mixing inside COSE do everything that COSE_KDF_Context does.\r\n\r\nMultiple-recipient seems more difficult because we're now outside of the HPKE design. I would like to see analysis to be sure what ever is proposed to replace COSE_KDF_Context does the job.\r\n\r\nI believe this discussion is highly relative: https://mailarchive.ietf.org/arch/msg/cose/wrjgLbq42PRSho2pGXQhB4BXRdI/\r\n\r\nI would expect an Enc_Structure to be used with multiple-recipient. That doesn't seem to be described. It will protect the COSE_Recipient headers.\r\n\r\nOnce you have that you can define new headers that replace the essential parts of COSE_KDF_Context.\r\n\r\nI think we want to know that whatever we do defends against the attack presented at lamps at IETF 118. I think this might be addressable with a new header called \"next_alg\" or such.",
              "createdAt": "2024-02-25T18:41:51Z",
              "updatedAt": "2024-02-25T18:41:51Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOGr5frc5xO9mc",
          "commit": {
            "abbreviatedOid": "0d7365b"
          },
          "author": "dajiaji",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2024-02-25T20:47:40Z",
          "updatedAt": "2024-02-25T20:47:41Z",
          "comments": [
            {
              "originalPosition": 79,
              "body": "Thank you all for reviewing this PR.\r\n\r\n> I am trying to find the paragraph in the HPKE RFC that says that.\r\n\r\nhttps://www.rfc-editor.org/rfc/rfc9180.html#name-auxiliary-authenticated-app\r\n\r\nSection 8.1 in RFC9180 says that:\r\n\r\n> Applications that only use the single-shot APIs described in [Section 6](https://www.rfc-editor.org/rfc/rfc9180.html#single-shot-apis) should use the Setup info parameter for specifying auxiliary authenticated information. Implementations which only expose single-shot APIs should not allow applications to use both Setup info and Context aad or exporter_context auxiliary information parameters.\r\n\r\nThe COSE-HPKE does not necessarily have to use the Single-Shot API, but internally the situation is essentially the same as if the Single-Shot API were used, as an Encryption Context is created every time a message is generated. This section says we should use one or the other, so I thought it would be simple to follow it.",
              "createdAt": "2024-02-25T20:47:41Z",
              "updatedAt": "2024-02-25T20:47:41Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOGr5frc5xO-K5",
          "commit": {
            "abbreviatedOid": "a9de35a"
          },
          "author": "dajiaji",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2024-02-25T21:04:57Z",
          "updatedAt": "2024-02-25T21:04:57Z",
          "comments": [
            {
              "originalPosition": 32,
              "body": "Indeed, it's not accurate. I think your point is valid. \r\n\r\nInstead of claiming that information equivalent to COSE_KDF_Context is provided, it might be more appropriate to correctly refer SP800-53A and demonstrate that we have gained resistance to unknown key-share attacks, etc.",
              "createdAt": "2024-02-25T21:04:57Z",
              "updatedAt": "2024-02-25T21:04:57Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOGr5frc5xO-Xk",
          "commit": {
            "abbreviatedOid": "a9de35a"
          },
          "author": "dajiaji",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2024-02-25T21:10:29Z",
          "updatedAt": "2024-02-25T21:10:29Z",
          "comments": [
            {
              "originalPosition": 41,
              "body": "I'd like you to read the following message I posted previously to COSE WG mailinglist.\r\n\r\nhttps://mailarchive.ietf.org/arch/msg/cose/XjOlXbTvMRqxhdXhovv5K3fYNnw/\r\n\r\n> First of all, COSE_KDF_Context is designed to be compliant with NIST SP800\r\n> 56A#Section 5.8.2.1, but it's for *One-step Key Derivation*.\r\n> \r\n> On the other hand, HPKE adopts Two-step Key Derivation internally (See\r\n> RFC9180#KeySchedule<Role>(), LabeledExtract(), LabeledExpand()\r\n> definitions), so we should refer not Section 5.8.2.1 but Section\r\n> 5.8.2.2, *Two-step Key\r\n> Derivation (Extraction-then-Expansion)*.\r\n> ...",
              "createdAt": "2024-02-25T21:10:29Z",
              "updatedAt": "2024-02-25T21:10:29Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOGr5frc5ztWE8",
          "commit": {
            "abbreviatedOid": "62e0781"
          },
          "author": "laurencelundblade",
          "authorAssociation": "COLLABORATOR",
          "state": "CHANGES_REQUESTED",
          "body": "Would like to see us go the way of the discussion of the mailing list with no COSE_KDF_Context and a new structure for the aad input to Seal()",
          "createdAt": "2024-03-16T18:09:25Z",
          "updatedAt": "2024-03-16T18:11:38Z",
          "comments": [
            {
              "originalPosition": 8,
              "body": "Hoping aad input becomes a newly defined Recipient_Structure as discussed on mailing list.",
              "createdAt": "2024-03-16T18:09:25Z",
              "updatedAt": "2024-03-16T18:11:38Z"
            },
            {
              "originalPosition": 18,
              "body": "Hoping we entirely get rid of COSE_KDF_Context as discussed on the mailing list.",
              "createdAt": "2024-03-16T18:10:19Z",
              "updatedAt": "2024-03-16T18:11:38Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOGr5frc5ztiRO",
          "commit": {
            "abbreviatedOid": "62e0781"
          },
          "author": "OR13",
          "authorAssociation": "COLLABORATOR",
          "state": "CHANGES_REQUESTED",
          "body": "The language around existing header parameters for COSE KDF context could probably be improved further.\n\nThe document needs to acknowledge these parameters can be present, and that they are ignored... But that because external AAD could be used consistently by sender and receiver and might make use of them, it's possible that they could be used if they are understood, but they are not required to be understood.",
          "createdAt": "2024-03-16T20:23:03Z",
          "updatedAt": "2024-03-16T20:40:15Z",
          "comments": [
            {
              "originalPosition": 59,
              "body": "```suggestion\nIn both \"HPKE direct encryption\" and \"HPKE key encryption\", the aad provided to the Seal and Open operations MUST be the HPKE_Recipient_Enc_Structure.\n\nHPKE_Recipient_Enc_Structure = CBOR ([\n\"HPKE_1_layer\", layer1ProtectedHeaderBytes,\nexternal_hpke_aad || empty buffer\n])\n\n```\n",
              "createdAt": "2024-03-16T20:23:04Z",
              "updatedAt": "2024-03-16T20:40:15Z"
            },
            {
              "originalPosition": 70,
              "body": "```suggestion\n```\n",
              "createdAt": "2024-03-16T20:23:37Z",
              "updatedAt": "2024-03-16T20:40:15Z"
            },
            {
              "originalPosition": 78,
              "body": "```suggestion\nThis mode MAY be used with COSE_Encrypt (tag 96).\n```\n",
              "createdAt": "2024-03-16T20:29:45Z",
              "updatedAt": "2024-03-16T20:40:15Z"
            },
            {
              "originalPosition": 78,
              "body": "Iirc tags are optional ",
              "createdAt": "2024-03-16T20:29:54Z",
              "updatedAt": "2024-03-16T20:40:15Z"
            },
            {
              "originalPosition": 84,
              "body": "```suggestion\n```\n",
              "createdAt": "2024-03-16T20:30:25Z",
              "updatedAt": "2024-03-16T20:40:15Z"
            },
            {
              "originalPosition": 80,
              "body": "```suggestion\nThe `aad` provided to HPKE Seal and HPKE Open MUST be the HPKE_Recipient_Enc_Structure.\n\nHPKE_Recipient_Enc_Structure = CBOR ([\n\"HPKE_2_layer\", layer1ProtectedHeaderBytes, layer2RecipientProtectedHeaderBytes,\nexternal_hpke_aad || empty buffer\n])\n```\n",
              "createdAt": "2024-03-16T20:32:38Z",
              "updatedAt": "2024-03-16T20:40:15Z"
            },
            {
              "originalPosition": 86,
              "body": "```suggestion\nParameters related to COSE_KDF_Context MAY be found in either the protected or unprotected headers of the COSE_Encrypt structure, the protected or unprotected headers of the COSE_Recipient structure.\n\nUnless understood in some consistent way by send are receiver, they are ignore.\n```\n",
              "createdAt": "2024-03-16T20:34:38Z",
              "updatedAt": "2024-03-16T20:40:15Z"
            },
            {
              "originalPosition": 72,
              "body": "```suggestion\nParameters to COSE_KDF_Context MAY be found in either the protected or unprotected headers.\n\nUnless understood in some consistent way by sender and receiver, they are ignored.\n```\n",
              "createdAt": "2024-03-16T20:37:51Z",
              "updatedAt": "2024-03-16T20:40:15Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOGr5frc5ztjP7",
          "commit": {
            "abbreviatedOid": "62e0781"
          },
          "author": "laurencelundblade",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2024-03-16T21:10:20Z",
          "updatedAt": "2024-03-16T21:10:20Z",
          "comments": [
            {
              "originalPosition": 59,
              "body": "Pretty sure this should align with COSE and be an Enc_Structure at the layer 1.",
              "createdAt": "2024-03-16T21:10:20Z",
              "updatedAt": "2024-03-16T21:10:20Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOGr5frc5ztjQD",
          "commit": {
            "abbreviatedOid": "62e0781"
          },
          "author": "laurencelundblade",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2024-03-16T21:10:26Z",
          "updatedAt": "2024-03-16T21:10:26Z",
          "comments": [
            {
              "originalPosition": 80,
              "body": "I strongly favor just using the algorithm ID from layer1, rather than all the headers. If it's all the headers, you have to pass arbitrarily large amounts of data between layers, rather than just an algorithm ID. (Specifically, passing the algorithm ID was easy in t_cose. Passing all the headers would require restructuring and forcing a size limit on headers that is not there now).\r\n\r\nI would like to not make this specific to HPKE. I think it should be used for the COSE -29 replacement too. So name it differently and use a different context string.\r\n\r\nThis is for a COSE_Recipient, so there's no external data as there is in layer 0 or in an Enc_Structure.\r\n\r\nI think there should be optional private context data to replace the private data in COSE_KDF_Context that we are eliminating. It should be a bstr, empty if there is none.",
              "createdAt": "2024-03-16T21:10:26Z",
              "updatedAt": "2024-03-16T21:10:26Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOGr5frc5ztqdM",
          "commit": {
            "abbreviatedOid": "62e0781"
          },
          "author": "OR13",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2024-03-17T00:12:18Z",
          "updatedAt": "2024-03-17T00:12:18Z",
          "comments": [
            {
              "originalPosition": 80,
              "body": "I don't understand how the recipient protected header is secured in the case that algorithm is the only parameter passed from recipient protected header... And layer 1 protected header is already variable length.\n\nTreating both protected headers as bytes, seems simplest and safest.",
              "createdAt": "2024-03-17T00:12:18Z",
              "updatedAt": "2024-03-17T00:12:49Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOGr5frc5zujG_",
          "commit": {
            "abbreviatedOid": "f50f741"
          },
          "author": "OR13",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2024-03-17T20:30:17Z",
          "updatedAt": "2024-03-17T20:30:17Z",
          "comments": [
            {
              "originalPosition": 80,
              "body": "Ilari did make a comment that protected headers don't always have alg.\n\nThat is a good argument to include alg, but I would still want to make sure that headers were committed too.\n\nI think a spanning set of cases and a new enc structure would help land this.",
              "createdAt": "2024-03-17T20:30:17Z",
              "updatedAt": "2024-03-17T20:30:17Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOGr5frc5zujJn",
          "commit": {
            "abbreviatedOid": "f50f741"
          },
          "author": "OR13",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2024-03-17T20:31:36Z",
          "updatedAt": "2024-03-17T20:31:36Z",
          "comments": [
            {
              "originalPosition": 59,
              "body": "That's probably true.\n\n",
              "createdAt": "2024-03-17T20:31:36Z",
              "updatedAt": "2024-03-17T20:31:36Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOGr5frc5zukXh",
          "commit": {
            "abbreviatedOid": "62e0781"
          },
          "author": "dajiaji",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2024-03-17T21:06:48Z",
          "updatedAt": "2024-03-17T21:06:48Z",
          "comments": [
            {
              "originalPosition": 80,
              "body": "Hmm, I agree that a simple alternative to COSE_KDF_Context is necessary as a measure against the lamps attack, but in COSE-HPKE, wouldn't it be better to prohibit the use of non-AEAD algorithms for key wrapping (such as -29)?\r\n\r\nI believe that a countermeasure against the lamps attack should be addressed in a separate draft, mainly targeting  legacy key derivation algorithms (such as -25) before HPKE.",
              "createdAt": "2024-03-17T21:06:48Z",
              "updatedAt": "2024-03-17T21:22:41Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOGr5frc516oGm",
          "commit": {
            "abbreviatedOid": "f50f741"
          },
          "author": "OR13",
          "authorAssociation": "COLLABORATOR",
          "state": "CHANGES_REQUESTED",
          "body": "I would suggest we merge #58, close this PR and open a follow up PR to address remaining issues.\n\nIt's not clear to me that the discussion on this PR was resolved and I believe it's easier to simply merge 58 first and then raise a new PR to cover anything in this PR we need to.",
          "createdAt": "2024-04-03T23:46:15Z",
          "updatedAt": "2024-04-03T23:46:15Z",
          "comments": []
        }
      ]
    },
    {
      "number": 55,
      "id": "PR_kwDOGr5frc5n2HIz",
      "title": "Terminology Alignment with JOSE-HPKE",
      "url": "https://github.com/cose-wg/draft-ietf-cose-hpke/pull/55",
      "state": "MERGED",
      "author": "hannestschofenig",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "",
      "createdAt": "2024-02-25T16:54:09Z",
      "updatedAt": "2024-03-16T03:18:46Z",
      "baseRepository": "cose-wg/draft-ietf-cose-hpke",
      "baseRefName": "main",
      "baseRefOid": "780aefb81eed1166896414285342ffd907b4d0f2",
      "headRepository": "cose-wg/draft-ietf-cose-hpke",
      "headRefName": "hannestschofenig-patch-4",
      "headRefOid": "f14b03029dfae3b24d6b5cb51832d7e09d85b6d9",
      "closedAt": "2024-03-16T03:18:43Z",
      "mergedAt": "2024-03-16T03:18:43Z",
      "mergedBy": "hannestschofenig",
      "mergeCommit": {
        "oid": "2064738a3a33698f3b3718bad5d07a2e9907c2c9"
      },
      "comments": [
        {
          "author": "dajiaji",
          "authorAssociation": "COLLABORATOR",
          "body": "I'm in favor of this change. I think it has become easier to understand what it is intended for, compared to the original expression.",
          "createdAt": "2024-03-03T06:29:25Z",
          "updatedAt": "2024-03-03T06:29:25Z"
        }
      ],
      "reviews": []
    },
    {
      "number": 56,
      "id": "PR_kwDOGr5frc5p0I0V",
      "title": "Replacing \"encapsulated_key\" with \"ek\"",
      "url": "https://github.com/cose-wg/draft-ietf-cose-hpke/pull/56",
      "state": "MERGED",
      "author": "hannestschofenig",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "Getting the terms aligned with the JOSE HPKE draft.",
      "createdAt": "2024-03-16T04:35:32Z",
      "updatedAt": "2024-03-16T04:58:13Z",
      "baseRepository": "cose-wg/draft-ietf-cose-hpke",
      "baseRefName": "main",
      "baseRefOid": "2064738a3a33698f3b3718bad5d07a2e9907c2c9",
      "headRepository": "cose-wg/draft-ietf-cose-hpke",
      "headRefName": "ek",
      "headRefOid": "b913fa915b7c1788ba13b6f52a45003e3b09fb4e",
      "closedAt": "2024-03-16T04:58:10Z",
      "mergedAt": "2024-03-16T04:58:10Z",
      "mergedBy": "hannestschofenig",
      "mergeCommit": {
        "oid": "d4fbc3f1940ac224a9ef2cd37332fdf547e888d0"
      },
      "comments": [],
      "reviews": []
    },
    {
      "number": 57,
      "id": "PR_kwDOGr5frc5p0vtD",
      "title": "Context Information Redesign",
      "url": "https://github.com/cose-wg/draft-ietf-cose-hpke/pull/57",
      "state": "CLOSED",
      "author": "hannestschofenig",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "",
      "createdAt": "2024-03-16T13:17:02Z",
      "updatedAt": "2024-07-05T18:53:12Z",
      "baseRepository": "cose-wg/draft-ietf-cose-hpke",
      "baseRefName": "main",
      "baseRefOid": "d4fbc3f1940ac224a9ef2cd37332fdf547e888d0",
      "headRepository": "cose-wg/draft-ietf-cose-hpke",
      "headRefName": "update",
      "headRefOid": "6fb4aa1b09c64d5b1da4d0bb79ae160a4e6fa4b5",
      "closedAt": "2024-07-05T18:53:07Z",
      "mergedAt": null,
      "mergedBy": null,
      "mergeCommit": null,
      "comments": [],
      "reviews": [
        {
          "id": "PRR_kwDOGr5frc52Un6T",
          "commit": {
            "abbreviatedOid": "6fb4aa1"
          },
          "author": "OR13",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2024-04-07T15:26:10Z",
          "updatedAt": "2024-04-07T15:26:10Z",
          "comments": [
            {
              "originalPosition": 76,
              "body": "This is in conflict with #58 which states that algorithm might not be present, I suggest we merge that PR first.",
              "createdAt": "2024-04-07T15:26:10Z",
              "updatedAt": "2024-04-07T15:26:10Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOGr5frc52Un7y",
          "commit": {
            "abbreviatedOid": "6fb4aa1"
          },
          "author": "OR13",
          "authorAssociation": "COLLABORATOR",
          "state": "CHANGES_REQUESTED",
          "body": "Seems this PR is similar to #58 but with less discussion and a few issues.\r\n\r\nI suggest we merge #58 first, and close this.",
          "createdAt": "2024-04-07T15:26:48Z",
          "updatedAt": "2024-04-07T15:26:48Z",
          "comments": []
        }
      ]
    },
    {
      "number": 58,
      "id": "PR_kwDOGr5frc5roSMM",
      "title": "Replace COSE_KDF_Context with new Recipient structure",
      "url": "https://github.com/cose-wg/draft-ietf-cose-hpke/pull/58",
      "state": "MERGED",
      "author": "laurencelundblade",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "This is my attempt at the outcome of the discussion between Ori, Illari and myself on the list.\r\n\r\nI went back to next_alg so it can be used with multiple layers of COSE_Recipient, but say that it is for the next *COSE* layer down. It is expected that when a COSE_Recipient employs multiple algorithms like HPKE and -29 do that they lock down all the algorithms they use internally. It was unclear what the alg ID in COSE_KDF_Context was for.\r\n\r\nI haven't implemented this, but I'm pretty confident about it. I also haven't updated the examples.",
      "createdAt": "2024-04-03T22:38:22Z",
      "updatedAt": "2024-07-05T18:52:43Z",
      "baseRepository": "cose-wg/draft-ietf-cose-hpke",
      "baseRefName": "main",
      "baseRefOid": "d4fbc3f1940ac224a9ef2cd37332fdf547e888d0",
      "headRepository": "laurencelundblade/HPKE",
      "headRefName": "Recipient_structure",
      "headRefOid": "453259c9a6796e2276b3ff11070551145b10ab69",
      "closedAt": "2024-07-05T18:52:43Z",
      "mergedAt": "2024-07-05T18:52:43Z",
      "mergedBy": "hannestschofenig",
      "mergeCommit": {
        "oid": "217727d4cb79df5d2ba932740bc3f9bbf038f665"
      },
      "comments": [
        {
          "author": "dajiaji",
          "authorAssociation": "COLLABORATOR",
          "body": "I support this PR, but let me ask just one question.\r\n\r\nWhy not use the existing names 'protected' ~~and 'external_aad'~~, instead of giving them new names?\r\n\r\nI understand this is a bikeshed discussion.",
          "createdAt": "2024-04-03T23:17:35Z",
          "updatedAt": "2024-04-03T23:25:00Z"
        },
        {
          "author": "laurencelundblade",
          "authorAssociation": "COLLABORATOR",
          "body": "Feel free to merge. I don't have the privilege to do so.",
          "createdAt": "2024-04-04T03:12:27Z",
          "updatedAt": "2024-04-04T03:12:27Z"
        },
        {
          "author": "OR13",
          "authorAssociation": "COLLABORATOR",
          "body": "@hannestschofenig can you review? I will merge if there is no objection.",
          "createdAt": "2024-04-04T12:34:15Z",
          "updatedAt": "2024-04-04T12:34:15Z"
        },
        {
          "author": "laurencelundblade",
          "authorAssociation": "COLLABORATOR",
          "body": "@dajiaji \r\n\r\n> I support this PR, but let me ask just one question.\r\n> \r\n> Why not use the existing names 'protected' ~and 'external_aad'~, instead of giving them new names?\r\n> \r\n> I understand this is a bikeshed discussion.\r\n\r\nI think the new names are more clear. There are many places in 9052 and 9053 where the wording is unclear. I've had to go read Jim's code to make sure I understood. If things still aren't clearly, let's add more text to be sure they are.\r\n\r\nI want to be sure it's clear that the external_aad at level 0 is not the same data as recipient_aad at level 1. There is only one external_aad for the whole message no matter how many recipients. If there are multiple recipients, there might be multiple recipient_aad.\r\n\r\nSimilarly, I want to be clear that the headers that are protected are the level 1 headers, the COSE_Recipient headers, not the level 0 COSE_Encrypt headers.\r\n\r\n\r\n\r\n",
          "createdAt": "2024-04-04T19:21:28Z",
          "updatedAt": "2024-04-04T19:21:28Z"
        },
        {
          "author": "dajiaji",
          "authorAssociation": "COLLABORATOR",
          "body": "> I think the new names are more clear. There are many places in 9052 and 9053 where the wording is unclear. I've had to go read Jim's code to make sure I understood. If things still aren't clearly, let's add more text to be sure they are.\r\n> \r\n> I want to be sure it's clear that the external_aad at level 0 is not the same data as recipient_aad at level 1. There is only one external_aad for the whole message no matter how many recipients. If there are multiple recipients, there might be multiple recipient_aad.\r\n> \r\n> Similarly, I want to be clear that the headers that are protected are the level 1 headers, the COSE_Recipient headers, not the level 0 COSE_Encrypt headers.\r\n\r\nUnderstood. It might be a good idea to refactor the wording with the introduction of COSE-HPKE.\r\n\r\n@hannestschofenig @OR13 I'm glad if you can merge this PR. ",
          "createdAt": "2024-04-06T01:35:44Z",
          "updatedAt": "2024-04-06T01:35:44Z"
        },
        {
          "author": "OR13",
          "authorAssociation": "COLLABORATOR",
          "body": "We're still looking for code review and approvals from @hannestschofenig and @dajiaji , ideally we merge after 1 week with no objection.",
          "createdAt": "2024-04-07T15:28:23Z",
          "updatedAt": "2024-04-07T15:28:23Z"
        },
        {
          "author": "OR13",
          "authorAssociation": "COLLABORATOR",
          "body": "I'd like to merge this pull request.",
          "createdAt": "2024-06-02T15:58:52Z",
          "updatedAt": "2024-06-02T15:58:52Z"
        }
      ],
      "reviews": [
        {
          "id": "PRR_kwDOGr5frc516Zt9",
          "commit": {
            "abbreviatedOid": "ae9e3db"
          },
          "author": "OR13",
          "authorAssociation": "COLLABORATOR",
          "state": "APPROVED",
          "body": "Several editorial comments, but overall I think this is an improvement.",
          "createdAt": "2024-04-03T22:57:47Z",
          "updatedAt": "2024-04-03T23:11:36Z",
          "comments": [
            {
              "originalPosition": 16,
              "body": "I wonder about the recipient prefix... Does this mean it's actually recipient_next_layer_alg?",
              "createdAt": "2024-04-03T22:57:47Z",
              "updatedAt": "2024-04-03T23:11:36Z"
            },
            {
              "originalPosition": 16,
              "body": "Perhaps remove prefix, or prepend it consistently.",
              "createdAt": "2024-04-03T22:58:26Z",
              "updatedAt": "2024-04-03T23:11:36Z"
            },
            {
              "originalPosition": 25,
              "body": "I'd move the details to security considerations, to keep the implementation guidance as short as possible, but thats editorial ",
              "createdAt": "2024-04-03T23:00:04Z",
              "updatedAt": "2024-04-03T23:11:36Z"
            },
            {
              "originalPosition": 28,
              "body": "I don't like the OR here. Can we stick to existing COSE conventions?",
              "createdAt": "2024-04-03T23:01:13Z",
              "updatedAt": "2024-04-03T23:11:36Z"
            },
            {
              "originalPosition": 34,
              "body": "We should provide examples",
              "createdAt": "2024-04-03T23:03:09Z",
              "updatedAt": "2024-04-03T23:11:36Z"
            },
            {
              "originalPosition": 47,
              "body": "Here we say it's a CEK... But before we just said it was \"a key for use with the next alg\"... Can it be a hmac key?\n\n",
              "createdAt": "2024-04-03T23:04:51Z",
              "updatedAt": "2024-04-03T23:11:36Z"
            },
            {
              "originalPosition": 51,
              "body": "CDE ?",
              "createdAt": "2024-04-03T23:05:56Z",
              "updatedAt": "2024-04-03T23:11:36Z"
            },
            {
              "originalPosition": 68,
              "body": "```suggestion\nIt is not necessary to fill in recipient_aad as HPKE itself covers the attacks that recipient_aad (and COSE_KDF_Context (and xxxx reference)) are used to mitigate.\n```\n",
              "createdAt": "2024-04-03T23:06:58Z",
              "updatedAt": "2024-04-03T23:11:36Z"
            },
            {
              "originalPosition": 70,
              "body": "This and the previous sentence are great.",
              "createdAt": "2024-04-03T23:09:47Z",
              "updatedAt": "2024-04-03T23:11:36Z"
            },
            {
              "originalPosition": 8,
              "body": "Prefer a MUST here vs mandatory ",
              "createdAt": "2024-04-03T23:11:12Z",
              "updatedAt": "2024-04-03T23:11:36Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOGr5frc517tj0",
          "commit": {
            "abbreviatedOid": "ae9e3db"
          },
          "author": "laurencelundblade",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2024-04-04T03:06:14Z",
          "updatedAt": "2024-04-04T03:06:14Z",
          "comments": [
            {
              "originalPosition": 16,
              "body": "I believe the naming is as I intend. The alg ID is from the layer below. The protected headers are from the COSE_Recipient, not from a different layer.",
              "createdAt": "2024-04-04T03:06:14Z",
              "updatedAt": "2024-04-04T03:06:14Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOGr5frc517tqe",
          "commit": {
            "abbreviatedOid": "ae9e3db"
          },
          "author": "laurencelundblade",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2024-04-04T03:06:47Z",
          "updatedAt": "2024-04-04T03:06:48Z",
          "comments": [
            {
              "originalPosition": 28,
              "body": "Not sure what \"OR\" you are referring to.",
              "createdAt": "2024-04-04T03:06:48Z",
              "updatedAt": "2024-04-04T03:06:48Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOGr5frc517uWR",
          "commit": {
            "abbreviatedOid": "ae9e3db"
          },
          "author": "laurencelundblade",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2024-04-04T03:11:24Z",
          "updatedAt": "2024-04-04T03:11:24Z",
          "comments": [
            {
              "originalPosition": 47,
              "body": "Improved wording. Yes, hmac key.",
              "createdAt": "2024-04-04T03:11:24Z",
              "updatedAt": "2024-04-04T03:11:24Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOGr5frc517uY8",
          "commit": {
            "abbreviatedOid": "ae9e3db"
          },
          "author": "laurencelundblade",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2024-04-04T03:11:41Z",
          "updatedAt": "2024-04-04T03:11:41Z",
          "comments": [
            {
              "originalPosition": 8,
              "body": "Fixed",
              "createdAt": "2024-04-04T03:11:41Z",
              "updatedAt": "2024-04-04T03:11:41Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOGr5frc6A0ERG",
          "commit": {
            "abbreviatedOid": "9bd8000"
          },
          "author": "hannestschofenig",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2024-07-05T18:45:31Z",
          "updatedAt": "2024-07-05T18:45:31Z",
          "comments": [
            {
              "originalPosition": 22,
              "body": "```suggestion\r\n    context: \"Recipient\",\r\n```",
              "createdAt": "2024-07-05T18:45:31Z",
              "updatedAt": "2024-07-05T18:45:31Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOGr5frc6A0Ec1",
          "commit": {
            "abbreviatedOid": "d71af2a"
          },
          "author": "hannestschofenig",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2024-07-05T18:46:22Z",
          "updatedAt": "2024-07-05T18:46:23Z",
          "comments": [
            {
              "originalPosition": 31,
              "body": "```suggestion\r\nThis value MUST match the alg parameter in the next lower COSE layer.\r\n```",
              "createdAt": "2024-07-05T18:46:23Z",
              "updatedAt": "2024-07-05T18:46:23Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOGr5frc6A0ElI",
          "commit": {
            "abbreviatedOid": "25c72c9"
          },
          "author": "hannestschofenig",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2024-07-05T18:46:58Z",
          "updatedAt": "2024-07-05T18:46:58Z",
          "comments": [
            {
              "originalPosition": 33,
              "body": "```suggestion\r\nIt also mitigates attacks where a person-in-the-middle changes the following layer algorithm from an AEAD algorithm to one that is not foiling the protection of the following layer headers).\r\n```",
              "createdAt": "2024-07-05T18:46:58Z",
              "updatedAt": "2024-07-05T18:46:58Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOGr5frc6A0E0b",
          "commit": {
            "abbreviatedOid": "d6dedd0"
          },
          "author": "hannestschofenig",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2024-07-05T18:48:08Z",
          "updatedAt": "2024-07-05T18:48:09Z",
          "comments": [
            {
              "originalPosition": 37,
              "body": "```suggestion\r\n- \"recipient_aad\" contains any additional context the application wishes to protect.\r\n```",
              "createdAt": "2024-07-05T18:48:08Z",
              "updatedAt": "2024-07-05T18:48:09Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOGr5frc6A0FAX",
          "commit": {
            "abbreviatedOid": "7a726b7"
          },
          "author": "hannestschofenig",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2024-07-05T18:49:02Z",
          "updatedAt": "2024-07-05T18:49:02Z",
          "comments": [
            {
              "originalPosition": 35,
              "body": "```suggestion\r\n- \"recipient_protected_header\" contains the protected headers from the COSE_recipient CBOR-encoded deterministically with the \"Core Deterministic Encoding Requirements\", specified in Section 4.2.1 of RFC 8949 {{STD94}}.\r\n```",
              "createdAt": "2024-07-05T18:49:02Z",
              "updatedAt": "2024-07-05T18:49:02Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOGr5frc6A0FLt",
          "commit": {
            "abbreviatedOid": "d967c67"
          },
          "author": "hannestschofenig",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2024-07-05T18:49:50Z",
          "updatedAt": "2024-07-05T18:49:50Z",
          "comments": [
            {
              "originalPosition": 49,
              "body": "```suggestion\r\nWhen a COSE_recipeint is constructed for a COSE-HPKE recipient, this is given as the \"aad\" parameter to the HPKE Seal() API.\r\n```",
              "createdAt": "2024-07-05T18:49:50Z",
              "updatedAt": "2024-07-05T18:49:51Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOGr5frc6A0FPF",
          "commit": {
            "abbreviatedOid": "d967c67"
          },
          "author": "hannestschofenig",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2024-07-05T18:50:05Z",
          "updatedAt": "2024-07-05T18:50:05Z",
          "comments": [
            {
              "originalPosition": 50,
              "body": "```suggestion\r\nThe \"info\" parameter to HPKE_Seal is not used with COSE_HPKE.\r\n```",
              "createdAt": "2024-07-05T18:50:05Z",
              "updatedAt": "2024-07-05T18:50:05Z"
            }
          ]
        }
      ]
    },
    {
      "number": 59,
      "id": "PR_kwDOGr5frc5xOajY",
      "title": "Align algorithm names to current registry names",
      "url": "https://github.com/cose-wg/draft-ietf-cose-hpke/pull/59",
      "state": "MERGED",
      "author": "OR13",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "",
      "createdAt": "2024-06-02T16:01:40Z",
      "updatedAt": "2024-07-05T18:53:01Z",
      "baseRepository": "cose-wg/draft-ietf-cose-hpke",
      "baseRefName": "main",
      "baseRefOid": "d4fbc3f1940ac224a9ef2cd37332fdf547e888d0",
      "headRepository": "cose-wg/draft-ietf-cose-hpke",
      "headRefName": "alg-names",
      "headRefOid": "fac1f2b3a2c1384538db2d8abcba11ce53f713ed",
      "closedAt": "2024-07-05T18:52:58Z",
      "mergedAt": "2024-07-05T18:52:58Z",
      "mergedBy": "hannestschofenig",
      "mergeCommit": {
        "oid": "206d684e8974f3b2f2afd8bd37b5c710309c637a"
      },
      "comments": [],
      "reviews": []
    },
    {
      "number": 60,
      "id": "PR_kwDOGr5frc6FBhhd",
      "title": "Match proposed JOSE Algorithm names",
      "url": "https://github.com/cose-wg/draft-ietf-cose-hpke/pull/60",
      "state": "MERGED",
      "author": "OR13",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "https://github.com/ietf-wg-jose/draft-ietf-jose-hpke-encrypt/pull/12",
      "createdAt": "2024-12-12T13:59:43Z",
      "updatedAt": "2025-01-02T16:56:39Z",
      "baseRepository": "cose-wg/draft-ietf-cose-hpke",
      "baseRefName": "main",
      "baseRefOid": "d413ca8776929ed0053835fbd97fd9bda9beb62b",
      "headRepository": "cose-wg/draft-ietf-cose-hpke",
      "headRefName": "align-algorithm-names",
      "headRefOid": "7a791e698c002882473abde17453cf59d4900c02",
      "closedAt": "2025-01-02T16:56:36Z",
      "mergedAt": "2025-01-02T16:56:36Z",
      "mergedBy": "hannestschofenig",
      "mergeCommit": {
        "oid": "adc129c7e2b6dcdea693a7293132e423a4b25a94"
      },
      "comments": [
        {
          "author": "ilaril",
          "authorAssociation": "CONTRIBUTOR",
          "body": "To use anything except the base mode with the new style algorithm names (as those do not include mode), one needs to presumably add the \"psk_id\" (bstr) and \"auth_kid\" (bstr) parameters in style of JOSE-HPKE.\r\n\r\nPresence of those parameters alters the mode used (like it does in JOSE-HPKE). \"auth_kid\" needs to be restricted to direct encryption, as using Auth/AuthPSK mode with recipient encryption is trivially insecure.\r\n\r\n",
          "createdAt": "2024-12-12T16:31:32Z",
          "updatedAt": "2024-12-12T16:31:32Z"
        },
        {
          "author": "OR13",
          "authorAssociation": "COLLABORATOR",
          "body": "@ilaril you are correct, I am hopeful we can take the same header approach to COSE HPKE to support auth and psk mode, but I did not attempt that in this PR",
          "createdAt": "2024-12-12T16:41:42Z",
          "updatedAt": "2024-12-12T16:41:42Z"
        },
        {
          "author": "ilaril",
          "authorAssociation": "CONTRIBUTOR",
          "body": "The only caveat to approach taken by JOSE-HPKE (psk_id/auth_kid) I can come up with is that some applications might want to force authentication even without auth_kid (which would cause interoperability issues in JOSE).\r\n\r\nAnd recipient decryption should just fail if anything has turned on authentication.\r\n",
          "createdAt": "2024-12-12T17:22:00Z",
          "updatedAt": "2024-12-12T17:22:00Z"
        },
        {
          "author": "hannestschofenig",
          "authorAssociation": "COLLABORATOR",
          "body": "I am OK with merging this PR but I wonder how much sense it makes given that the plaintext algorithm names are not used \"on the wire\" in COSE anyway. All we are essentially doing is to make the examples less readable. ",
          "createdAt": "2025-01-02T16:55:28Z",
          "updatedAt": "2025-01-02T16:55:28Z"
        }
      ],
      "reviews": [
        {
          "id": "PRR_kwDOGr5frc6U_3Hn",
          "commit": {
            "abbreviatedOid": "7a791e6"
          },
          "author": "selfissued",
          "authorAssociation": "CONTRIBUTOR",
          "state": "APPROVED",
          "body": "",
          "createdAt": "2024-12-12T14:13:42Z",
          "updatedAt": "2024-12-12T14:13:42Z",
          "comments": []
        }
      ]
    },
    {
      "number": 62,
      "id": "PR_kwDOGr5frc6FLfyn",
      "title": "Define COSE-HPKE for other specs",
      "url": "https://github.com/cose-wg/draft-ietf-cose-hpke/pull/62",
      "state": "MERGED",
      "author": "ilaril",
      "authorAssociation": "CONTRIBUTOR",
      "assignees": [],
      "labels": [],
      "body": "This attempts to define COSE-HPKE as a generic mechanism other specifications defining cipher suites can refer to.\r\n\r\nThis avoids having other specifications adding cipher suites essentially re-define COSE-HPKE (or leave a lot implicit). Not only is that tedious, it is also error-prone.\r\n\r\nI ended up specifying HPKE input/output mappings, rewriting most of section 3. This introduces two technical changes:\r\n\r\n- \"alg\" is now optional.\r\n- What it means to use \"AKP\" with COSE-HPKE algorithms is now defined.\r\n\r\nNeeds a lot of wordsmithing (and I copied text from original that I think needs editorial improvement).",
      "createdAt": "2024-12-13T19:07:38Z",
      "updatedAt": "2025-01-02T17:26:05Z",
      "baseRepository": "cose-wg/draft-ietf-cose-hpke",
      "baseRefName": "main",
      "baseRefOid": "d413ca8776929ed0053835fbd97fd9bda9beb62b",
      "headRepository": "ilaril/COSE-HPKE",
      "headRefName": "generic-cose-hpke",
      "headRefOid": "4be747fc12f7c0253c65f59d5999d5326d033fe1",
      "closedAt": "2025-01-02T17:26:05Z",
      "mergedAt": "2025-01-02T17:26:05Z",
      "mergedBy": "hannestschofenig",
      "mergeCommit": {
        "oid": "b39904dc0dfcaa69bc5385512f49024975ef67d9"
      },
      "comments": [
        {
          "author": "OR13",
          "authorAssociation": "COLLABORATOR",
          "body": "I would like to merge this before doing the repo tool update.\r\n\r\nI recommend merging this in 1 week, unless there are objections.",
          "createdAt": "2024-12-16T14:25:20Z",
          "updatedAt": "2024-12-16T14:33:59Z"
        }
      ],
      "reviews": [
        {
          "id": "PRR_kwDOGr5frc6VY2S_",
          "commit": {
            "abbreviatedOid": "4be747f"
          },
          "author": "OR13",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2024-12-16T14:18:05Z",
          "updatedAt": "2024-12-16T14:18:05Z",
          "comments": [
            {
              "originalPosition": 53,
              "body": "the term layer ciphertext is a bit confusing, perhaps a citation would help here? (this is a nit, I think I understand this fine as is)",
              "createdAt": "2024-12-16T14:18:05Z",
              "updatedAt": "2024-12-16T14:18:06Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOGr5frc6VY26J",
          "commit": {
            "abbreviatedOid": "4be747f"
          },
          "author": "OR13",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2024-12-16T14:18:54Z",
          "updatedAt": "2024-12-16T14:18:54Z",
          "comments": [
            {
              "originalPosition": 54,
              "body": "this is exciting, a detached ciphertext : )\r\n\r\nI don't think I have seen this before in JOSE ever.",
              "createdAt": "2024-12-16T14:18:54Z",
              "updatedAt": "2024-12-16T14:18:54Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOGr5frc6VY5a3",
          "commit": {
            "abbreviatedOid": "4be747f"
          },
          "author": "OR13",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2024-12-16T14:22:20Z",
          "updatedAt": "2024-12-16T14:22:21Z",
          "comments": [
            {
              "originalPosition": 213,
              "body": "nice!",
              "createdAt": "2024-12-16T14:22:20Z",
              "updatedAt": "2024-12-16T14:22:21Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOGr5frc6VY7M-",
          "commit": {
            "abbreviatedOid": "4be747f"
          },
          "author": "OR13",
          "authorAssociation": "COLLABORATOR",
          "state": "APPROVED",
          "body": "",
          "createdAt": "2024-12-16T14:24:59Z",
          "updatedAt": "2024-12-16T14:24:59Z",
          "comments": []
        },
        {
          "id": "PRR_kwDOGr5frc6WrQQ6",
          "commit": {
            "abbreviatedOid": "4be747f"
          },
          "author": "hannestschofenig",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2025-01-02T17:06:39Z",
          "updatedAt": "2025-01-02T17:06:39Z",
          "comments": [
            {
              "originalPosition": 186,
              "body": "This is not correct. I will fix it in a separate PR",
              "createdAt": "2025-01-02T17:06:39Z",
              "updatedAt": "2025-01-02T17:06:39Z"
            }
          ]
        }
      ]
    },
    {
      "number": 63,
      "id": "PR_kwDOGr5frc6GmWYg",
      "title": "Pump version number",
      "url": "https://github.com/cose-wg/draft-ietf-cose-hpke/pull/63",
      "state": "MERGED",
      "author": "hannestschofenig",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "",
      "createdAt": "2025-01-02T17:33:31Z",
      "updatedAt": "2025-01-02T17:34:39Z",
      "baseRepository": "cose-wg/draft-ietf-cose-hpke",
      "baseRefName": "main",
      "baseRefOid": "b39904dc0dfcaa69bc5385512f49024975ef67d9",
      "headRepository": "cose-wg/draft-ietf-cose-hpke",
      "headRefName": "hannestschofenig-patch-4",
      "headRefOid": "42ad8230e7b8dd5456fcf061e0123dc20bca0b0b",
      "closedAt": "2025-01-02T17:34:36Z",
      "mergedAt": "2025-01-02T17:34:36Z",
      "mergedBy": "hannestschofenig",
      "mergeCommit": {
        "oid": "0568a222b954a6000d3e364da2a9ffc6dc867fa0"
      },
      "comments": [],
      "reviews": []
    },
    {
      "number": 64,
      "id": "PR_kwDOGr5frc6Gmn9w",
      "title": "Direct Encryption Mode: Wording Improvement",
      "url": "https://github.com/cose-wg/draft-ietf-cose-hpke/pull/64",
      "state": "MERGED",
      "author": "hannestschofenig",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "",
      "createdAt": "2025-01-02T18:40:10Z",
      "updatedAt": "2025-03-02T10:04:57Z",
      "baseRepository": "cose-wg/draft-ietf-cose-hpke",
      "baseRefName": "main",
      "baseRefOid": "0568a222b954a6000d3e364da2a9ffc6dc867fa0",
      "headRepository": "cose-wg/draft-ietf-cose-hpke",
      "headRefName": "hannestschofenig-patch-4",
      "headRefOid": "5d6c2f000771f2b4e68b79018326831e9bd4b941",
      "closedAt": "2025-03-02T10:04:55Z",
      "mergedAt": "2025-03-02T10:04:55Z",
      "mergedBy": "hannestschofenig",
      "mergeCommit": {
        "oid": "4e70b6281bb87e3f9cff464e230a8c001bb5522c"
      },
      "comments": [],
      "reviews": [
        {
          "id": "PRR_kwDOGr5frc6eCDf9",
          "commit": {
            "abbreviatedOid": "5d6c2f0"
          },
          "author": "selfissued",
          "authorAssociation": "CONTRIBUTOR",
          "state": "APPROVED",
          "body": "",
          "createdAt": "2025-02-28T17:13:42Z",
          "updatedAt": "2025-02-28T17:13:42Z",
          "comments": []
        }
      ]
    },
    {
      "number": 65,
      "id": "PR_kwDOGr5frc6GmpMj",
      "title": "Direct Encryption Mode: Editorial Changes",
      "url": "https://github.com/cose-wg/draft-ietf-cose-hpke/pull/65",
      "state": "MERGED",
      "author": "hannestschofenig",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "",
      "createdAt": "2025-01-02T18:45:17Z",
      "updatedAt": "2025-03-02T10:05:25Z",
      "baseRepository": "cose-wg/draft-ietf-cose-hpke",
      "baseRefName": "main",
      "baseRefOid": "0568a222b954a6000d3e364da2a9ffc6dc867fa0",
      "headRepository": "cose-wg/draft-ietf-cose-hpke",
      "headRefName": "hannestschofenig-patch-6",
      "headRefOid": "ace8632416303b78eab0867b3e405d4cf893221c",
      "closedAt": "2025-03-02T10:05:22Z",
      "mergedAt": "2025-03-02T10:05:22Z",
      "mergedBy": "hannestschofenig",
      "mergeCommit": {
        "oid": "d2bbe016ca84f87a5da673c36a17cd5776ad602c"
      },
      "comments": [],
      "reviews": [
        {
          "id": "PRR_kwDOGr5frc6eCEVo",
          "commit": {
            "abbreviatedOid": "dee8193"
          },
          "author": "selfissued",
          "authorAssociation": "CONTRIBUTOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2025-02-28T17:14:55Z",
          "updatedAt": "2025-02-28T17:14:55Z",
          "comments": [
            {
              "originalPosition": 5,
              "body": "```suggestion\r\n- pkR: The recipient public key, converted into an HPKE public key.\r\n```",
              "createdAt": "2025-02-28T17:14:55Z",
              "updatedAt": "2025-02-28T17:14:55Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOGr5frc6eCEyd",
          "commit": {
            "abbreviatedOid": "dee8193"
          },
          "author": "selfissued",
          "authorAssociation": "CONTRIBUTOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2025-02-28T17:15:42Z",
          "updatedAt": "2025-02-28T17:15:42Z",
          "comments": [
            {
              "originalPosition": 14,
              "body": "```suggestion\r\n- skR: The recipient private key, converted into an HPKE private key.\r\n```",
              "createdAt": "2025-02-28T17:15:42Z",
              "updatedAt": "2025-02-28T17:15:42Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOGr5frc6eCFC8",
          "commit": {
            "abbreviatedOid": "dee8193"
          },
          "author": "selfissued",
          "authorAssociation": "CONTRIBUTOR",
          "state": "APPROVED",
          "body": "Approved with change requests.",
          "createdAt": "2025-02-28T17:16:11Z",
          "updatedAt": "2025-02-28T17:16:11Z",
          "comments": []
        }
      ]
    },
    {
      "number": 66,
      "id": "PR_kwDOGr5frc6Gmr1s",
      "title": " HPKE Key Encryption Mode: Wording Improvements",
      "url": "https://github.com/cose-wg/draft-ietf-cose-hpke/pull/66",
      "state": "MERGED",
      "author": "hannestschofenig",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "",
      "createdAt": "2025-01-02T18:54:27Z",
      "updatedAt": "2025-03-02T10:06:16Z",
      "baseRepository": "cose-wg/draft-ietf-cose-hpke",
      "baseRefName": "main",
      "baseRefOid": "0568a222b954a6000d3e364da2a9ffc6dc867fa0",
      "headRepository": "cose-wg/draft-ietf-cose-hpke",
      "headRefName": "hannestschofenig-patch-7",
      "headRefOid": "4b332798783d749619c288c00a6511e0b3242a44",
      "closedAt": "2025-03-02T10:06:13Z",
      "mergedAt": "2025-03-02T10:06:13Z",
      "mergedBy": "hannestschofenig",
      "mergeCommit": {
        "oid": "52be1e7d6338afb71a4be102a8844e73d1af4ae2"
      },
      "comments": [],
      "reviews": [
        {
          "id": "PRR_kwDOGr5frc6eCGla",
          "commit": {
            "abbreviatedOid": "1f904a2"
          },
          "author": "selfissued",
          "authorAssociation": "CONTRIBUTOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2025-02-28T17:18:21Z",
          "updatedAt": "2025-02-28T17:18:21Z",
          "comments": [
            {
              "originalPosition": 23,
              "body": "```suggestion\r\nBecause COSE-HPKE supports header protection, if the 'alg' parameter is present, it MUST be in the protected header and MUST be a COSE-HPKE algorithm.\r\n```",
              "createdAt": "2025-02-28T17:18:21Z",
              "updatedAt": "2025-02-28T17:18:21Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOGr5frc6eCIcA",
          "commit": {
            "abbreviatedOid": "1f904a2"
          },
          "author": "selfissued",
          "authorAssociation": "CONTRIBUTOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2025-02-28T17:20:23Z",
          "updatedAt": "2025-02-28T17:20:24Z",
          "comments": [
            {
              "originalPosition": 27,
              "body": "```suggestion\r\nUse of the 'kid' parameter is RECOMMENDED\r\nto explicitly identify the static recipient public key\r\n```",
              "createdAt": "2025-02-28T17:20:23Z",
              "updatedAt": "2025-02-28T17:20:24Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOGr5frc6eCJdH",
          "commit": {
            "abbreviatedOid": "1f904a2"
          },
          "author": "selfissued",
          "authorAssociation": "CONTRIBUTOR",
          "state": "APPROVED",
          "body": "Approved with change requests.",
          "createdAt": "2025-02-28T17:21:06Z",
          "updatedAt": "2025-02-28T17:21:06Z",
          "comments": []
        }
      ]
    },
    {
      "number": 70,
      "id": "PR_kwDOGr5frc6TKfZw",
      "title": "Mutually known private information MAY be used as the HPKE info value",
      "url": "https://github.com/cose-wg/draft-ietf-cose-hpke/pull/70",
      "state": "MERGED",
      "author": "selfissued",
      "authorAssociation": "CONTRIBUTOR",
      "assignees": [],
      "labels": [],
      "body": "Fixes #68 \r\n\r\nParallels https://github.com/ietf-wg-jose/draft-ietf-jose-hpke-encrypt/pull/41\r\n\r\nCc: @OR13 @tireddy2 @laurencelundblade @dajiaji \r\n",
      "createdAt": "2025-04-18T20:59:13Z",
      "updatedAt": "2025-05-27T13:06:37Z",
      "baseRepository": "cose-wg/draft-ietf-cose-hpke",
      "baseRefName": "main",
      "baseRefOid": "728ac6dd8b4b106f9274b1dfd6aafdb624fcb512",
      "headRepository": "selfissued/HPKE",
      "headRefName": "mbj-info",
      "headRefOid": "974d99c1df054383ec72e908a86c46ae7c33e665",
      "closedAt": "2025-05-27T13:06:37Z",
      "mergedAt": "2025-05-27T13:06:37Z",
      "mergedBy": "OR13",
      "mergeCommit": {
        "oid": "2f02fa66a3bfc4fcce2fff015a87358f571321bb"
      },
      "comments": [
        {
          "author": "hannestschofenig",
          "authorAssociation": "COLLABORATOR",
          "body": "I wonder why we need to explicitly need to say that it is private information. There could also be public information in there as well, such as a context string provided in a specification.",
          "createdAt": "2025-05-23T15:07:51Z",
          "updatedAt": "2025-05-23T15:07:51Z"
        },
        {
          "author": "selfissued",
          "authorAssociation": "CONTRIBUTOR",
          "body": "This is reusing terminology from NIST (and also aligns with JOSE HPKE).  As we say in the spec,\r\n> The concept of mutually known private information is defined in {{NIST.SP.800-56Ar3}} as an input to the key derivation function.",
          "createdAt": "2025-05-24T07:24:07Z",
          "updatedAt": "2025-05-24T07:24:07Z"
        },
        {
          "author": "OR13",
          "authorAssociation": "COLLABORATOR",
          "body": "I note the discussion regarding public / private information... its true info could be a mix of both, assuming both sides agree to use the same values.\r\n\r\nI think that can be adjusted in the future if necessary.\r\n\r\nI'm going to merge and push a new version for folks to review.",
          "createdAt": "2025-05-27T13:06:33Z",
          "updatedAt": "2025-05-27T13:06:33Z"
        }
      ],
      "reviews": [
        {
          "id": "PRR_kwDOGr5frc6lrVtn",
          "commit": {
            "abbreviatedOid": "f787a2a"
          },
          "author": "OR13",
          "authorAssociation": "COLLABORATOR",
          "state": "APPROVED",
          "body": "",
          "createdAt": "2025-04-18T23:05:56Z",
          "updatedAt": "2025-04-18T23:05:56Z",
          "comments": []
        },
        {
          "id": "PRR_kwDOGr5frc6lshHE",
          "commit": {
            "abbreviatedOid": "f787a2a"
          },
          "author": "tireddy2",
          "authorAssociation": "COLLABORATOR",
          "state": "APPROVED",
          "body": "",
          "createdAt": "2025-04-19T08:28:10Z",
          "updatedAt": "2025-04-19T08:28:10Z",
          "comments": []
        },
        {
          "id": "PRR_kwDOGr5frc6rAavG",
          "commit": {
            "abbreviatedOid": "974d99c"
          },
          "author": "OR13",
          "authorAssociation": "COLLABORATOR",
          "state": "APPROVED",
          "body": "",
          "createdAt": "2025-05-26T18:45:27Z",
          "updatedAt": "2025-05-26T18:45:27Z",
          "comments": []
        }
      ]
    },
    {
      "number": 71,
      "id": "PR_kwDOGr5frc6Yfrvz",
      "title": "Editorial improvements.",
      "url": "https://github.com/cose-wg/draft-ietf-cose-hpke/pull/71",
      "state": "MERGED",
      "author": "hannestschofenig",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "Fixed a few editorial glitches I noticed while reading through the spec. There are probably more places that need improvements.",
      "createdAt": "2025-06-01T18:04:41Z",
      "updatedAt": "2025-06-01T18:05:35Z",
      "baseRepository": "cose-wg/draft-ietf-cose-hpke",
      "baseRefName": "main",
      "baseRefOid": "6de08347fdc0a6f81b244fbbb9796f01d2aebfd8",
      "headRepository": "cose-wg/draft-ietf-cose-hpke",
      "headRefName": "editorial",
      "headRefOid": "f0d003d7ce8618c26b81419293444d77278db525",
      "closedAt": "2025-06-01T18:05:32Z",
      "mergedAt": "2025-06-01T18:05:32Z",
      "mergedBy": "hannestschofenig",
      "mergeCommit": {
        "oid": "c44d8fa19f9767a73f3539dddcaeb3be24f243b9"
      },
      "comments": [],
      "reviews": []
    },
    {
      "number": 72,
      "id": "PR_kwDOGr5frc6Yf1-R",
      "title": "First version of the mode_psk description",
      "url": "https://github.com/cose-wg/draft-ietf-cose-hpke/pull/72",
      "state": "MERGED",
      "author": "hannestschofenig",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "To align the JOSE HPKE specification functionality-wise with the COSE HPKE specification I have created this PR to describe the authentication variant of HPKE called 'mode_psk'.\r\n\r\nTBD: It would be good to add an example.",
      "createdAt": "2025-06-01T18:47:38Z",
      "updatedAt": "2025-06-06T15:05:32Z",
      "baseRepository": "cose-wg/draft-ietf-cose-hpke",
      "baseRefName": "main",
      "baseRefOid": "c44d8fa19f9767a73f3539dddcaeb3be24f243b9",
      "headRepository": "cose-wg/draft-ietf-cose-hpke",
      "headRefName": "psk_auth",
      "headRefOid": "9d2b4826cf8c8015fdd8b50caf345ae2107393b4",
      "closedAt": "2025-06-04T12:56:20Z",
      "mergedAt": "2025-06-04T12:56:20Z",
      "mergedBy": "OR13",
      "mergeCommit": {
        "oid": "bac45a0e88ddd0f3788909c452a39e38c04ff455"
      },
      "comments": [
        {
          "author": "selfissued",
          "authorAssociation": "CONTRIBUTOR",
          "body": "Fixes #69",
          "createdAt": "2025-06-03T16:23:44Z",
          "updatedAt": "2025-06-03T16:23:44Z"
        }
      ],
      "reviews": [
        {
          "id": "PRR_kwDOGr5frc6sPLGr",
          "commit": {
            "abbreviatedOid": "9d2b482"
          },
          "author": "selfissued",
          "authorAssociation": "CONTRIBUTOR",
          "state": "APPROVED",
          "body": "",
          "createdAt": "2025-06-02T19:20:28Z",
          "updatedAt": "2025-06-02T19:20:28Z",
          "comments": []
        },
        {
          "id": "PRR_kwDOGr5frc6sbpLW",
          "commit": {
            "abbreviatedOid": "9d2b482"
          },
          "author": "OR13",
          "authorAssociation": "COLLABORATOR",
          "state": "APPROVED",
          "body": "",
          "createdAt": "2025-06-03T15:04:57Z",
          "updatedAt": "2025-06-03T15:04:57Z",
          "comments": []
        },
        {
          "id": "PRR_kwDOGr5frc6smEiy",
          "commit": {
            "abbreviatedOid": "9d2b482"
          },
          "author": "tireddy2",
          "authorAssociation": "COLLABORATOR",
          "state": "APPROVED",
          "body": "",
          "createdAt": "2025-06-04T07:48:21Z",
          "updatedAt": "2025-06-04T07:48:21Z",
          "comments": []
        }
      ]
    },
    {
      "number": 76,
      "id": "PR_kwDOGr5frc6bbcT7",
      "title": "s/Direct Encryption/Integrated Encryption",
      "url": "https://github.com/cose-wg/draft-ietf-cose-hpke/pull/76",
      "state": "MERGED",
      "author": "hannestschofenig",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "",
      "createdAt": "2025-06-20T14:23:28Z",
      "updatedAt": "2025-06-20T15:35:23Z",
      "baseRepository": "cose-wg/draft-ietf-cose-hpke",
      "baseRefName": "main",
      "baseRefOid": "0c0cf275188a4c27e9407951f097ce067b09187a",
      "headRepository": "cose-wg/draft-ietf-cose-hpke",
      "headRefName": "hannestschofenig-patch-4",
      "headRefOid": "d5dc1221155850b942164986568038c9b8458886",
      "closedAt": "2025-06-20T15:35:19Z",
      "mergedAt": "2025-06-20T15:35:19Z",
      "mergedBy": "hannestschofenig",
      "mergeCommit": {
        "oid": "062b080ae5cd792644fbf0ffef983e3fe5a9d810"
      },
      "comments": [],
      "reviews": [
        {
          "id": "PRR_kwDOGr5frc6voX3q",
          "commit": {
            "abbreviatedOid": "d5dc122"
          },
          "author": "selfissued",
          "authorAssociation": "CONTRIBUTOR",
          "state": "APPROVED",
          "body": "",
          "createdAt": "2025-06-20T15:28:10Z",
          "updatedAt": "2025-06-20T15:28:10Z",
          "comments": []
        }
      ]
    },
    {
      "number": 77,
      "id": "PR_kwDOGr5frc6bbdyv",
      "title": "Regenerate examples",
      "url": "https://github.com/cose-wg/draft-ietf-cose-hpke/pull/77",
      "state": "CLOSED",
      "author": "hannestschofenig",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "A placeholder for re-generating the examples",
      "createdAt": "2025-06-20T14:25:54Z",
      "updatedAt": "2025-08-23T14:30:18Z",
      "baseRepository": "cose-wg/draft-ietf-cose-hpke",
      "baseRefName": "main",
      "baseRefOid": "0c0cf275188a4c27e9407951f097ce067b09187a",
      "headRepository": "cose-wg/draft-ietf-cose-hpke",
      "headRefName": "hannestschofenig-patch-6",
      "headRefOid": "065909199f35b6757efd1224d37739101e5d2174",
      "closedAt": "2025-08-23T14:30:18Z",
      "mergedAt": null,
      "mergedBy": null,
      "mergeCommit": null,
      "comments": [],
      "reviews": [
        {
          "id": "PRR_kwDOGr5frc63kN6u",
          "commit": {
            "abbreviatedOid": "0659091"
          },
          "author": "OR13",
          "authorAssociation": "COLLABORATOR",
          "state": "APPROVED",
          "body": "",
          "createdAt": "2025-08-01T15:47:26Z",
          "updatedAt": "2025-08-01T15:47:26Z",
          "comments": []
        }
      ]
    },
    {
      "number": 78,
      "id": "PR_kwDOGr5frc6bbjfk",
      "title": "Added mapping between ciphersuite labels and their textual description",
      "url": "https://github.com/cose-wg/draft-ietf-cose-hpke/pull/78",
      "state": "MERGED",
      "author": "hannestschofenig",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "... for easier readability",
      "createdAt": "2025-06-20T14:35:30Z",
      "updatedAt": "2025-06-20T15:36:52Z",
      "baseRepository": "cose-wg/draft-ietf-cose-hpke",
      "baseRefName": "main",
      "baseRefOid": "0c0cf275188a4c27e9407951f097ce067b09187a",
      "headRepository": "cose-wg/draft-ietf-cose-hpke",
      "headRefName": "hannestschofenig-patch-7",
      "headRefOid": "bad59606ca32755a5848df1d80b393a6a6e63716",
      "closedAt": "2025-06-20T15:36:48Z",
      "mergedAt": "2025-06-20T15:36:48Z",
      "mergedBy": "hannestschofenig",
      "mergeCommit": {
        "oid": "bef41a77f15c0f49e9938b686e0c0d333241f813"
      },
      "comments": [],
      "reviews": [
        {
          "id": "PRR_kwDOGr5frc6vobd6",
          "commit": {
            "abbreviatedOid": "bad5960"
          },
          "author": "selfissued",
          "authorAssociation": "CONTRIBUTOR",
          "state": "APPROVED",
          "body": "",
          "createdAt": "2025-06-20T15:30:27Z",
          "updatedAt": "2025-06-20T15:30:27Z",
          "comments": []
        }
      ]
    },
    {
      "number": 80,
      "id": "PR_kwDOGr5frc6bd0YQ",
      "title": "Spelling and grammar corrections",
      "url": "https://github.com/cose-wg/draft-ietf-cose-hpke/pull/80",
      "state": "MERGED",
      "author": "selfissued",
      "authorAssociation": "CONTRIBUTOR",
      "assignees": [],
      "labels": [],
      "body": "",
      "createdAt": "2025-06-20T19:32:44Z",
      "updatedAt": "2025-06-20T19:37:09Z",
      "baseRepository": "cose-wg/draft-ietf-cose-hpke",
      "baseRefName": "main",
      "baseRefOid": "bef41a77f15c0f49e9938b686e0c0d333241f813",
      "headRepository": "cose-wg/draft-ietf-cose-hpke",
      "headRefName": "mbj-spelling-grammar",
      "headRefOid": "93abece8506c75ccd51cfe98783cf243ed36b747",
      "closedAt": "2025-06-20T19:37:09Z",
      "mergedAt": "2025-06-20T19:37:09Z",
      "mergedBy": "OR13",
      "mergeCommit": {
        "oid": "6e75afa2388de2f04c8e1ffa2dadb629925faec9"
      },
      "comments": [],
      "reviews": [
        {
          "id": "PRR_kwDOGr5frc6vqZey",
          "commit": {
            "abbreviatedOid": "93abece"
          },
          "author": "OR13",
          "authorAssociation": "COLLABORATOR",
          "state": "APPROVED",
          "body": "",
          "createdAt": "2025-06-20T19:36:55Z",
          "updatedAt": "2025-06-20T19:36:55Z",
          "comments": []
        }
      ]
    },
    {
      "number": 82,
      "id": "PR_kwDOGr5frc6bznCl",
      "title": "AEAD - Authenticated Encryption with Associated Data",
      "url": "https://github.com/cose-wg/draft-ietf-cose-hpke/pull/82",
      "state": "MERGED",
      "author": "hannestschofenig",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "Minor fix",
      "createdAt": "2025-06-24T07:56:31Z",
      "updatedAt": "2025-06-27T15:12:26Z",
      "baseRepository": "cose-wg/draft-ietf-cose-hpke",
      "baseRefName": "main",
      "baseRefOid": "710be6e33ac2aaf7e5f2228376e364abeb9e1b04",
      "headRepository": "cose-wg/draft-ietf-cose-hpke",
      "headRefName": "hannestschofenig-patch-4",
      "headRefOid": "d806172579316ba049f607f3e146e0119da314d9",
      "closedAt": "2025-06-27T15:12:21Z",
      "mergedAt": "2025-06-27T15:12:21Z",
      "mergedBy": "hannestschofenig",
      "mergeCommit": {
        "oid": "fe06d48027ebb5bba1279de9ac3decd77a4016cb"
      },
      "comments": [],
      "reviews": [
        {
          "id": "PRR_kwDOGr5frc6w2DCy",
          "commit": {
            "abbreviatedOid": "d806172"
          },
          "author": "selfissued",
          "authorAssociation": "CONTRIBUTOR",
          "state": "APPROVED",
          "body": "",
          "createdAt": "2025-06-27T15:12:09Z",
          "updatedAt": "2025-06-27T15:12:09Z",
          "comments": []
        }
      ]
    },
    {
      "number": 83,
      "id": "PR_kwDOGr5frc6bz9Hf",
      "title": "Feedback from Thomas Fossati",
      "url": "https://github.com/cose-wg/draft-ietf-cose-hpke/pull/83",
      "state": "MERGED",
      "author": "hannestschofenig",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "Based on this review: https://mailarchive.ietf.org/arch/msg/cose/VdLZL-a_NE22e_HWjgRnCSuknUQ/",
      "createdAt": "2025-06-24T08:26:04Z",
      "updatedAt": "2025-06-27T15:12:08Z",
      "baseRepository": "cose-wg/draft-ietf-cose-hpke",
      "baseRefName": "main",
      "baseRefOid": "710be6e33ac2aaf7e5f2228376e364abeb9e1b04",
      "headRepository": "cose-wg/draft-ietf-cose-hpke",
      "headRefName": "hannestschofenig-patch-7",
      "headRefOid": "1c4026dddf5c62f1d52459cc3432dc572ac047bc",
      "closedAt": "2025-06-27T15:12:04Z",
      "mergedAt": "2025-06-27T15:12:04Z",
      "mergedBy": "hannestschofenig",
      "mergeCommit": {
        "oid": "0c9427936805c49116c4492377672afc63ca2aa9"
      },
      "comments": [],
      "reviews": [
        {
          "id": "PRR_kwDOGr5frc6wirz_",
          "commit": {
            "abbreviatedOid": "1c4026d"
          },
          "author": "thomas-fossati",
          "authorAssociation": "NONE",
          "state": "COMMENTED",
          "body": "Thanks you!",
          "createdAt": "2025-06-26T12:15:39Z",
          "updatedAt": "2025-06-26T12:15:39Z",
          "comments": []
        },
        {
          "id": "PRR_kwDOGr5frc6w2CoG",
          "commit": {
            "abbreviatedOid": "1c4026d"
          },
          "author": "selfissued",
          "authorAssociation": "CONTRIBUTOR",
          "state": "APPROVED",
          "body": "",
          "createdAt": "2025-06-27T15:11:47Z",
          "updatedAt": "2025-06-27T15:11:47Z",
          "comments": []
        }
      ]
    },
    {
      "number": 84,
      "id": "PR_kwDOGr5frc6ccx0w",
      "title": "Removing a sentence",
      "url": "https://github.com/cose-wg/draft-ietf-cose-hpke/pull/84",
      "state": "MERGED",
      "author": "hannestschofenig",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "",
      "createdAt": "2025-06-27T15:50:13Z",
      "updatedAt": "2025-06-27T15:51:27Z",
      "baseRepository": "cose-wg/draft-ietf-cose-hpke",
      "baseRefName": "main",
      "baseRefOid": "fe06d48027ebb5bba1279de9ac3decd77a4016cb",
      "headRepository": "cose-wg/draft-ietf-cose-hpke",
      "headRefName": "hannestschofenig-patch-4",
      "headRefOid": "7ef7f1ab52251633810da5475af3e1a7f4fb5d34",
      "closedAt": "2025-06-27T15:51:23Z",
      "mergedAt": "2025-06-27T15:51:22Z",
      "mergedBy": "hannestschofenig",
      "mergeCommit": {
        "oid": "626c3f59887ca877625d1dcac16bf299e3fc8cd3"
      },
      "comments": [],
      "reviews": [
        {
          "id": "PRR_kwDOGr5frc6w2dQE",
          "commit": {
            "abbreviatedOid": "7ef7f1a"
          },
          "author": "selfissued",
          "authorAssociation": "CONTRIBUTOR",
          "state": "APPROVED",
          "body": "As discussed on the editors' call, this sentence wasn't actionable and interrupted the flow of the messages in the draft.",
          "createdAt": "2025-06-27T15:51:11Z",
          "updatedAt": "2025-06-27T15:51:11Z",
          "comments": []
        }
      ]
    },
    {
      "number": 85,
      "id": "PR_kwDOGr5frc6d0RAT",
      "title": "Minor edits.",
      "url": "https://github.com/cose-wg/draft-ietf-cose-hpke/pull/85",
      "state": "CLOSED",
      "author": "hannestschofenig",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "",
      "createdAt": "2025-07-07T19:46:57Z",
      "updatedAt": "2025-07-07T19:53:19Z",
      "baseRepository": "cose-wg/draft-ietf-cose-hpke",
      "baseRefName": "main",
      "baseRefOid": "234923cd006a758908f7ffeccfd0baf5ff827d9a",
      "headRepository": "cose-wg/draft-ietf-cose-hpke",
      "headRefName": "psk_auth",
      "headRefOid": "cc075b99de73302d2afe4a796a85dc5931fc9054",
      "closedAt": "2025-07-07T19:53:15Z",
      "mergedAt": null,
      "mergedBy": null,
      "mergeCommit": null,
      "comments": [],
      "reviews": []
    },
    {
      "number": 87,
      "id": "PR_kwDOGr5frc6gPQd0",
      "title": "Removed COSE_Mac Example",
      "url": "https://github.com/cose-wg/draft-ietf-cose-hpke/pull/87",
      "state": "MERGED",
      "author": "hannestschofenig",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "This topic was discussed at the IETF 123 meeting.",
      "createdAt": "2025-07-23T10:30:10Z",
      "updatedAt": "2025-08-01T15:46:41Z",
      "baseRepository": "cose-wg/draft-ietf-cose-hpke",
      "baseRefName": "main",
      "baseRefOid": "5ff2eec0a9cf8bc63137783220fce5ffe1f1b46e",
      "headRepository": "cose-wg/draft-ietf-cose-hpke",
      "headRefName": "hannestschofenig-patch-4",
      "headRefOid": "c9a4c67113ef2e890b67dfbe36a11985060e61b5",
      "closedAt": "2025-08-01T15:46:41Z",
      "mergedAt": "2025-08-01T15:46:41Z",
      "mergedBy": "OR13",
      "mergeCommit": {
        "oid": "877e8189511f028cb6a636e9c43b5808cf6c6f39"
      },
      "comments": [],
      "reviews": [
        {
          "id": "PRR_kwDOGr5frc63j5Md",
          "commit": {
            "abbreviatedOid": "c9a4c67"
          },
          "author": "selfissued",
          "authorAssociation": "CONTRIBUTOR",
          "state": "APPROVED",
          "body": "This implements feedback we received during IETF 123.",
          "createdAt": "2025-08-01T15:22:03Z",
          "updatedAt": "2025-08-01T15:22:03Z",
          "comments": []
        },
        {
          "id": "PRR_kwDOGr5frc63kNS_",
          "commit": {
            "abbreviatedOid": "c9a4c67"
          },
          "author": "OR13",
          "authorAssociation": "COLLABORATOR",
          "state": "APPROVED",
          "body": "",
          "createdAt": "2025-08-01T15:46:36Z",
          "updatedAt": "2025-08-01T15:46:36Z",
          "comments": []
        }
      ]
    },
    {
      "number": 88,
      "id": "PR_kwDOGr5frc6gPYVw",
      "title": "Use of single-shot APIs only",
      "url": "https://github.com/cose-wg/draft-ietf-cose-hpke/pull/88",
      "state": "MERGED",
      "author": "hannestschofenig",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "",
      "createdAt": "2025-07-23T10:42:58Z",
      "updatedAt": "2025-08-01T15:46:17Z",
      "baseRepository": "cose-wg/draft-ietf-cose-hpke",
      "baseRefName": "main",
      "baseRefOid": "5ff2eec0a9cf8bc63137783220fce5ffe1f1b46e",
      "headRepository": "cose-wg/draft-ietf-cose-hpke",
      "headRefName": "hannestschofenig-patch-7",
      "headRefOid": "84b185658cd84b0ed8f246ecf8e2632c33c0aac1",
      "closedAt": "2025-08-01T15:46:17Z",
      "mergedAt": "2025-08-01T15:46:17Z",
      "mergedBy": "OR13",
      "mergeCommit": {
        "oid": "f5dca7d11f408fd410c8c4586ed3285c5f92747d"
      },
      "comments": [],
      "reviews": [
        {
          "id": "PRR_kwDOGr5frc63j6Ff",
          "commit": {
            "abbreviatedOid": "84b1856"
          },
          "author": "selfissued",
          "authorAssociation": "CONTRIBUTOR",
          "state": "APPROVED",
          "body": "LGTM",
          "createdAt": "2025-08-01T15:22:50Z",
          "updatedAt": "2025-08-01T15:22:50Z",
          "comments": []
        },
        {
          "id": "PRR_kwDOGr5frc63kMxm",
          "commit": {
            "abbreviatedOid": "84b1856"
          },
          "author": "OR13",
          "authorAssociation": "COLLABORATOR",
          "state": "APPROVED",
          "body": "",
          "createdAt": "2025-08-01T15:45:53Z",
          "updatedAt": "2025-08-01T15:45:53Z",
          "comments": []
        }
      ]
    },
    {
      "number": 89,
      "id": "PR_kwDOGr5frc6gPgbW",
      "title": "Added salt and PartyV Info into the Protected Header",
      "url": "https://github.com/cose-wg/draft-ietf-cose-hpke/pull/89",
      "state": "CLOSED",
      "author": "hannestschofenig",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "Question for this PR is: Is the PartyV info already provided by the kid field? If so, we should not use two fields for the same information (=overhead). It might be worse: the two fields provided different information.\r\n\r\nChallenge: The kid parameter is typically placed into the unprotected header but the recipient_info structure only includes the protected headers.",
      "createdAt": "2025-07-23T10:55:41Z",
      "updatedAt": "2025-08-01T15:34:21Z",
      "baseRepository": "cose-wg/draft-ietf-cose-hpke",
      "baseRefName": "main",
      "baseRefOid": "5ff2eec0a9cf8bc63137783220fce5ffe1f1b46e",
      "headRepository": "cose-wg/draft-ietf-cose-hpke",
      "headRefName": "hannestschofenig-patch-8",
      "headRefOid": "731ad63fbec8d67bfeda82164239f48ab00113ed",
      "closedAt": "2025-08-01T15:34:21Z",
      "mergedAt": null,
      "mergedBy": null,
      "mergeCommit": null,
      "comments": [
        {
          "author": "hannestschofenig",
          "authorAssociation": "COLLABORATOR",
          "body": "Closed because the kid, when used in the protected header bucket, already serves the same purpose as the PartV parameter",
          "createdAt": "2025-08-01T15:34:21Z",
          "updatedAt": "2025-08-01T15:34:21Z"
        }
      ],
      "reviews": []
    },
    {
      "number": 90,
      "id": "PR_kwDOGr5frc6gRL8R",
      "title": "Use of the recipient_structure for info parameter",
      "url": "https://github.com/cose-wg/draft-ietf-cose-hpke/pull/90",
      "state": "MERGED",
      "author": "hannestschofenig",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "As discussed at IETF 123.",
      "createdAt": "2025-07-23T13:19:16Z",
      "updatedAt": "2025-08-22T15:11:34Z",
      "baseRepository": "cose-wg/draft-ietf-cose-hpke",
      "baseRefName": "main",
      "baseRefOid": "5ff2eec0a9cf8bc63137783220fce5ffe1f1b46e",
      "headRepository": "cose-wg/draft-ietf-cose-hpke",
      "headRefName": "hannestschofenig-patch-9",
      "headRefOid": "efd600b47bcb466bee67490d44ee53da8de7e658",
      "closedAt": "2025-08-22T15:11:24Z",
      "mergedAt": "2025-08-22T15:11:24Z",
      "mergedBy": "selfissued",
      "mergeCommit": {
        "oid": "69b7e76c11d30eb6f6128913a443eb98849eafbb"
      },
      "comments": [
        {
          "author": "OR13",
          "authorAssociation": "COLLABORATOR",
          "body": "We should say that recipient_extra_info is part of the recipient structure which is used in hpke info.\r\n\r\n",
          "createdAt": "2025-08-01T15:54:24Z",
          "updatedAt": "2025-08-01T15:54:24Z"
        },
        {
          "author": "OR13",
          "authorAssociation": "COLLABORATOR",
          "body": "@laurencelundblade can you re-review?... I think we will merge, please file issues if you feel we did not address your comments",
          "createdAt": "2025-08-22T15:09:26Z",
          "updatedAt": "2025-08-22T15:11:07Z"
        }
      ],
      "reviews": [
        {
          "id": "PRR_kwDOGr5frc63kAqb",
          "commit": {
            "abbreviatedOid": "0f39e6e"
          },
          "author": "hannestschofenig",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2025-08-01T15:30:56Z",
          "updatedAt": "2025-08-01T15:30:56Z",
          "comments": [
            {
              "originalPosition": 97,
              "body": "```suggestion\r\nThe protected header MAY contain the kid parameter to identify the static recipient\r\n```",
              "createdAt": "2025-08-01T15:30:56Z",
              "updatedAt": "2025-08-01T15:30:56Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOGr5frc63kBaz",
          "commit": {
            "abbreviatedOid": "0f39e6e"
          },
          "author": "hannestschofenig",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2025-08-01T15:31:51Z",
          "updatedAt": "2025-08-01T15:31:51Z",
          "comments": [
            {
              "originalPosition": 99,
              "body": "```suggestion\r\nto explicitly identify the static recipient public key used by the sender.\r\nIncluding it in the protected header ensures that it is input into the\r\nkey derivation function of HPKE.\r\n```",
              "createdAt": "2025-08-01T15:31:51Z",
              "updatedAt": "2025-08-01T15:31:51Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOGr5frc63kE7t",
          "commit": {
            "abbreviatedOid": "e23814a"
          },
          "author": "hannestschofenig",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2025-08-01T15:36:47Z",
          "updatedAt": "2025-08-01T15:36:47Z",
          "comments": [
            {
              "originalPosition": 32,
              "body": "```suggestion\r\n- info: Canonical encoding of the Recipient_structure.\r\n```",
              "createdAt": "2025-08-01T15:36:47Z",
              "updatedAt": "2025-08-01T15:36:47Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOGr5frc63kFUk",
          "commit": {
            "abbreviatedOid": "821a61a"
          },
          "author": "hannestschofenig",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2025-08-01T15:37:15Z",
          "updatedAt": "2025-08-01T15:37:15Z",
          "comments": [
            {
              "originalPosition": 43,
              "body": "```suggestion\r\n- info: Canonical encoding of the Recipient_structure.\r\n```",
              "createdAt": "2025-08-01T15:37:15Z",
              "updatedAt": "2025-08-01T15:37:15Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOGr5frc63kFjG",
          "commit": {
            "abbreviatedOid": "0f39e6e"
          },
          "author": "selfissued",
          "authorAssociation": "CONTRIBUTOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2025-08-01T15:37:33Z",
          "updatedAt": "2025-08-01T15:37:33Z",
          "comments": [
            {
              "originalPosition": 59,
              "body": "```suggestion\r\nintegrity protection for recipient-protected header parameters.\r\n```",
              "createdAt": "2025-08-01T15:37:33Z",
              "updatedAt": "2025-08-01T15:37:33Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOGr5frc63kGOx",
          "commit": {
            "abbreviatedOid": "0f39e6e"
          },
          "author": "selfissued",
          "authorAssociation": "CONTRIBUTOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2025-08-01T15:38:09Z",
          "updatedAt": "2025-08-01T15:38:09Z",
          "comments": [
            {
              "originalPosition": 79,
              "body": "```suggestion\r\n- \"recipient_protected_header\" contains the protected header parameters from the COSE_recipient\r\n```",
              "createdAt": "2025-08-01T15:38:09Z",
              "updatedAt": "2025-08-01T15:38:09Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOGr5frc63kHP1",
          "commit": {
            "abbreviatedOid": "614fa90"
          },
          "author": "hannestschofenig",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2025-08-01T15:38:51Z",
          "updatedAt": "2025-08-01T15:38:51Z",
          "comments": [
            {
              "originalPosition": 32,
              "body": "```suggestion\r\n- info: Defaults to the empty string; externally provided information MAY be used instead.\r\n```",
              "createdAt": "2025-08-01T15:38:51Z",
              "updatedAt": "2025-08-01T15:38:52Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOGr5frc63kIbz",
          "commit": {
            "abbreviatedOid": "a5cb6e5"
          },
          "author": "hannestschofenig",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2025-08-01T15:40:14Z",
          "updatedAt": "2025-08-01T15:40:15Z",
          "comments": [
            {
              "originalPosition": 43,
              "body": "```suggestion\r\n- info: Defaults to the empty string; externally provided information MAY be used instead.\r\n```",
              "createdAt": "2025-08-01T15:40:14Z",
              "updatedAt": "2025-08-01T15:40:15Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOGr5frc63kIyv",
          "commit": {
            "abbreviatedOid": "0f39e6e"
          },
          "author": "selfissued",
          "authorAssociation": "CONTRIBUTOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2025-08-01T15:40:40Z",
          "updatedAt": "2025-08-01T15:40:41Z",
          "comments": [
            {
              "originalPosition": 91,
              "body": "```suggestion\r\nMUST be in the protected header parameters and MUST be a COSE-HPKE algorithm.\r\n```",
              "createdAt": "2025-08-01T15:40:40Z",
              "updatedAt": "2025-08-01T15:40:41Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOGr5frc63kJHi",
          "commit": {
            "abbreviatedOid": "0f39e6e"
          },
          "author": "selfissued",
          "authorAssociation": "CONTRIBUTOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2025-08-01T15:41:01Z",
          "updatedAt": "2025-08-01T15:41:01Z",
          "comments": [
            {
              "originalPosition": 97,
              "body": "```suggestion\r\nThe unprotected header parameters MAY contain the kid parameter to identify the static recipient\r\n```",
              "createdAt": "2025-08-01T15:41:01Z",
              "updatedAt": "2025-08-01T15:41:01Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOGr5frc63kJ1k",
          "commit": {
            "abbreviatedOid": "48e0828"
          },
          "author": "selfissued",
          "authorAssociation": "CONTRIBUTOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2025-08-01T15:42:08Z",
          "updatedAt": "2025-08-01T15:42:08Z",
          "comments": [
            {
              "originalPosition": 100,
              "body": "```suggestion\r\nIncluding it in the protected header parameters ensures that it is input into the\r\n```",
              "createdAt": "2025-08-01T15:42:08Z",
              "updatedAt": "2025-08-01T15:42:08Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOGr5frc63kSkz",
          "commit": {
            "abbreviatedOid": "48e0828"
          },
          "author": "hannestschofenig",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2025-08-01T15:53:02Z",
          "updatedAt": "2025-08-01T15:53:02Z",
          "comments": [
            {
              "originalPosition": 73,
              "body": "```suggestion\r\n    recipient_extra: bstr\r\n```",
              "createdAt": "2025-08-01T15:53:02Z",
              "updatedAt": "2025-08-01T15:53:02Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOGr5frc63kS1G",
          "commit": {
            "abbreviatedOid": "c632e7c"
          },
          "author": "hannestschofenig",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2025-08-01T15:53:25Z",
          "updatedAt": "2025-08-01T15:53:26Z",
          "comments": [
            {
              "originalPosition": 74,
              "body": "```suggestion\r\n    recipient_extra_info: bstr\r\n```",
              "createdAt": "2025-08-01T15:53:25Z",
              "updatedAt": "2025-08-01T15:53:26Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOGr5frc63kTUn",
          "commit": {
            "abbreviatedOid": "cd5ea7c"
          },
          "author": "hannestschofenig",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2025-08-01T15:54:13Z",
          "updatedAt": "2025-08-01T15:54:14Z",
          "comments": [
            {
              "originalPosition": 87,
              "body": "```suggestion\r\n- \"recipient_extra_info\" contains any additional context the application wishes to include in the key derivation.\r\n```",
              "createdAt": "2025-08-01T15:54:13Z",
              "updatedAt": "2025-08-01T15:54:14Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOGr5frc63msSN",
          "commit": {
            "abbreviatedOid": "8324475"
          },
          "author": "laurencelundblade",
          "authorAssociation": "COLLABORATOR",
          "state": "CHANGES_REQUESTED",
          "body": "",
          "createdAt": "2025-08-01T19:38:58Z",
          "updatedAt": "2025-08-01T19:41:14Z",
          "comments": [
            {
              "originalPosition": 120,
              "body": "s/Canonical/Deterministic/. Probably my fault for using \"Canonical\". That is a bad throw-back to RFC 7049. ",
              "createdAt": "2025-08-01T19:38:58Z",
              "updatedAt": "2025-08-01T19:41:14Z"
            },
            {
              "originalPosition": 131,
              "body": "s/Canonical/Deterministic/.",
              "createdAt": "2025-08-01T19:39:24Z",
              "updatedAt": "2025-08-01T19:41:14Z"
            },
            {
              "originalPosition": 149,
              "body": "I like the above text.",
              "createdAt": "2025-08-01T19:40:00Z",
              "updatedAt": "2025-08-01T19:41:14Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOGr5frc67cxyq",
          "commit": {
            "abbreviatedOid": "efd600b"
          },
          "author": "selfissued",
          "authorAssociation": "CONTRIBUTOR",
          "state": "APPROVED",
          "body": "LGTM",
          "createdAt": "2025-08-22T15:10:40Z",
          "updatedAt": "2025-08-22T15:10:40Z",
          "comments": []
        },
        {
          "id": "PRR_kwDOGr5frc67cyUg",
          "commit": {
            "abbreviatedOid": "efd600b"
          },
          "author": "OR13",
          "authorAssociation": "COLLABORATOR",
          "state": "APPROVED",
          "body": "",
          "createdAt": "2025-08-22T15:11:13Z",
          "updatedAt": "2025-08-22T15:11:13Z",
          "comments": []
        }
      ]
    },
    {
      "number": 91,
      "id": "PR_kwDOGr5frc6lBEg1",
      "title": "Use uniform reference style",
      "url": "https://github.com/cose-wg/draft-ietf-cose-hpke/pull/91",
      "state": "MERGED",
      "author": "hannestschofenig",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "",
      "createdAt": "2025-08-23T10:27:36Z",
      "updatedAt": "2025-08-29T15:27:00Z",
      "baseRepository": "cose-wg/draft-ietf-cose-hpke",
      "baseRefName": "main",
      "baseRefOid": "69b7e76c11d30eb6f6128913a443eb98849eafbb",
      "headRepository": "cose-wg/draft-ietf-cose-hpke",
      "headRefName": "hannestschofenig-patch-9",
      "headRefOid": "924f8048f351595f3d7364137bb60ec678bb9345",
      "closedAt": "2025-08-29T15:26:57Z",
      "mergedAt": "2025-08-29T15:26:57Z",
      "mergedBy": "hannestschofenig",
      "mergeCommit": {
        "oid": "cbfc72ad612425f84811136bb435e9f0bd6cf110"
      },
      "comments": [],
      "reviews": [
        {
          "id": "PRR_kwDOGr5frc685XPy",
          "commit": {
            "abbreviatedOid": "924f804"
          },
          "author": "selfissued",
          "authorAssociation": "CONTRIBUTOR",
          "state": "APPROVED",
          "body": "",
          "createdAt": "2025-08-29T15:22:33Z",
          "updatedAt": "2025-08-29T15:22:33Z",
          "comments": []
        }
      ]
    },
    {
      "number": 92,
      "id": "PR_kwDOGr5frc6lCQ8k",
      "title": "Recreating the examples.",
      "url": "https://github.com/cose-wg/draft-ietf-cose-hpke/pull/92",
      "state": "MERGED",
      "author": "hannestschofenig",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "Used the code from this repo to create the examples:\r\nhttps://github.com/hannestschofenig/t_cose/tree/new_hpke\r\n",
      "createdAt": "2025-08-23T14:30:08Z",
      "updatedAt": "2025-09-02T09:22:41Z",
      "baseRepository": "cose-wg/draft-ietf-cose-hpke",
      "baseRefName": "main",
      "baseRefOid": "1ac3a1ad2a5380565ec1fa8596785352c4b5634f",
      "headRepository": "cose-wg/draft-ietf-cose-hpke",
      "headRefName": "new_example",
      "headRefOid": "80e24ca02e154971548e567ced1f53946f8ece7d",
      "closedAt": "2025-09-01T03:55:12Z",
      "mergedAt": "2025-09-01T03:55:12Z",
      "mergedBy": "dajiaji",
      "mergeCommit": {
        "oid": "c5dfb6f58a1cbf2141dfafa8fcaa01856c3650b4"
      },
      "comments": [
        {
          "author": "hannestschofenig",
          "authorAssociation": "COLLABORATOR",
          "body": "Thanks, Daisuke!",
          "createdAt": "2025-09-02T09:22:39Z",
          "updatedAt": "2025-09-02T09:22:39Z"
        }
      ],
      "reviews": [
        {
          "id": "PRR_kwDOGr5frc69EVer",
          "commit": {
            "abbreviatedOid": "80e24ca"
          },
          "author": "dajiaji",
          "authorAssociation": "COLLABORATOR",
          "state": "APPROVED",
          "body": "I\u2019ve finally finished implementing the latest specification, including support for psk_id.\r\n\r\n[https://github.com/dajiaji/python-cwt/pull/638](https://github.com/dajiaji/python-cwt/pull/638?utm_source=chatgpt.com)\r\n\r\nThis PR is a simple example, and I don\u2019t see any issues with it, so I\u2019ll go ahead and merge it as a baseline.\r\n\r\nOnce I\u2019ve prepared some examples for psk_id, I\u2019ll submit an additional PR.",
          "createdAt": "2025-09-01T03:54:57Z",
          "updatedAt": "2025-09-01T03:54:57Z",
          "comments": []
        }
      ]
    },
    {
      "number": 93,
      "id": "PR_kwDOGr5frc6pkNFz",
      "title": "Editorial Fixes",
      "url": "https://github.com/cose-wg/draft-ietf-cose-hpke/pull/93",
      "state": "MERGED",
      "author": "hannestschofenig",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "",
      "createdAt": "2025-09-19T18:47:55Z",
      "updatedAt": "2025-09-19T19:02:55Z",
      "baseRepository": "cose-wg/draft-ietf-cose-hpke",
      "baseRefName": "main",
      "baseRefOid": "d59ba06023f7a04a73f5e7add20916eff312ff47",
      "headRepository": "cose-wg/draft-ietf-cose-hpke",
      "headRefName": "hannestschofenig-patch-9",
      "headRefOid": "319f917ae044b369c7ea93cf31475a1bf7b58f10",
      "closedAt": "2025-09-19T18:48:15Z",
      "mergedAt": "2025-09-19T18:48:15Z",
      "mergedBy": "hannestschofenig",
      "mergeCommit": {
        "oid": "7968827ee69357aa3118c226585f69ecee16ff86"
      },
      "comments": [],
      "reviews": []
    },
    {
      "number": 96,
      "id": "PR_kwDOGr5frc62oovQ",
      "title": "Update defaults for 'info' and 'aad' fields",
      "url": "https://github.com/cose-wg/draft-ietf-cose-hpke/pull/96",
      "state": "MERGED",
      "author": "hannestschofenig",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "Clarify defaults for 'info' and 'aad' fields in COSE-HPKE.",
      "createdAt": "2025-12-02T15:50:54Z",
      "updatedAt": "2025-12-06T15:38:38Z",
      "baseRepository": "cose-wg/draft-ietf-cose-hpke",
      "baseRefName": "main",
      "baseRefOid": "8e685334d97a993a8de74c829f746c9a6f9f2a1c",
      "headRepository": "cose-wg/draft-ietf-cose-hpke",
      "headRefName": "hannestschofenig-patch-9",
      "headRefOid": "f9f7e57d57f58e6dc20e6b0b25a3ae79dda6e2bf",
      "closedAt": "2025-12-06T15:38:38Z",
      "mergedAt": "2025-12-06T15:38:38Z",
      "mergedBy": "selfissued",
      "mergeCommit": {
        "oid": "90362652455930905f861ae064012c0e29b449ab"
      },
      "comments": [
        {
          "author": "ilaril",
          "authorAssociation": "CONTRIBUTOR",
          "body": "Looking at history:\r\n\r\n- draft-14 seemingly did this (used Enc_Structure on layer 0).\r\n- Then draft-15 changed it to Recipient_Structure. Except that next_layer_alg is meaningless on layer 0 (NULL would be a sane value, but grammar does not allow that).\r\n- Then draft-16 dropped the structure entirely. Which removes header protection and application aad, both of which should be offered by any algorithm available on layer 0.",
          "createdAt": "2025-12-05T20:43:42Z",
          "updatedAt": "2025-12-05T20:43:42Z"
        },
        {
          "author": "selfissued",
          "authorAssociation": "CONTRIBUTOR",
          "body": "So it sounds like you're in favor of this change, Ilari?  Could you please explicitly say that you approve or request specific changes and say why?  Thanks.",
          "createdAt": "2025-12-05T21:13:39Z",
          "updatedAt": "2025-12-05T21:13:39Z"
        },
        {
          "author": "ilaril",
          "authorAssociation": "CONTRIBUTOR",
          "body": "Looks good and fixes an regression. I approve.",
          "createdAt": "2025-12-06T12:27:13Z",
          "updatedAt": "2025-12-06T12:27:13Z"
        }
      ],
      "reviews": [
        {
          "id": "PRR_kwDOGr5frc7SdRtT",
          "commit": {
            "abbreviatedOid": "93f3c90"
          },
          "author": "selfissued",
          "authorAssociation": "CONTRIBUTOR",
          "state": "APPROVED",
          "body": "",
          "createdAt": "2025-12-02T15:54:16Z",
          "updatedAt": "2025-12-02T15:54:16Z",
          "comments": []
        },
        {
          "id": "PRR_kwDOGr5frc7TU6OC",
          "commit": {
            "abbreviatedOid": "f9f7e57"
          },
          "author": "selfissued",
          "authorAssociation": "CONTRIBUTOR",
          "state": "APPROVED",
          "body": "",
          "createdAt": "2025-12-05T16:27:16Z",
          "updatedAt": "2025-12-05T16:27:16Z",
          "comments": []
        },
        {
          "id": "PRR_kwDOGr5frc7TVG_s",
          "commit": {
            "abbreviatedOid": "f9f7e57"
          },
          "author": "OR13",
          "authorAssociation": "COLLABORATOR",
          "state": "APPROVED",
          "body": "",
          "createdAt": "2025-12-05T16:39:19Z",
          "updatedAt": "2025-12-05T16:39:19Z",
          "comments": []
        },
        {
          "id": "PRR_kwDOGr5frc7Tc8Mp",
          "commit": {
            "abbreviatedOid": "f9f7e57"
          },
          "author": "OR13",
          "authorAssociation": "COLLABORATOR",
          "state": "APPROVED",
          "body": "",
          "createdAt": "2025-12-06T13:09:24Z",
          "updatedAt": "2025-12-06T13:09:24Z",
          "comments": []
        }
      ]
    },
    {
      "number": 97,
      "id": "PR_kwDOGr5frc64zXhB",
      "title": "Use fully-specified algorithms and add HPKE-7 and HPKE-7-KE",
      "url": "https://github.com/cose-wg/draft-ietf-cose-hpke/pull/97",
      "state": "MERGED",
      "author": "selfissued",
      "authorAssociation": "CONTRIBUTOR",
      "assignees": [],
      "labels": [],
      "body": "This aligns the COSE HPKE draft with the pertinent decisions incorporated in https://www.ietf.org/archive/id/draft-ietf-jose-hpke-encrypt-15.html .\r\n\r\nFixes #95 \r\nFixes #94 ",
      "createdAt": "2025-12-14T22:43:09Z",
      "updatedAt": "2025-12-21T09:26:44Z",
      "baseRepository": "cose-wg/draft-ietf-cose-hpke",
      "baseRefName": "main",
      "baseRefOid": "90362652455930905f861ae064012c0e29b449ab",
      "headRepository": "cose-wg/draft-ietf-cose-hpke",
      "headRefName": "mbj-fully-specified-and-HPKE-7",
      "headRefOid": "fdf9b891c9e033e75b650dfda6a7454cba02d658",
      "closedAt": "2025-12-15T08:38:18Z",
      "mergedAt": "2025-12-15T08:38:18Z",
      "mergedBy": "hannestschofenig",
      "mergeCommit": {
        "oid": "ac35132368c883593484870f540708c9a85a4512"
      },
      "comments": [
        {
          "author": "ilaril",
          "authorAssociation": "CONTRIBUTOR",
          "body": "How is the receiver supposed to handle `HPKE-*` appearing in COSE_Recipient, or `HPKE-*-KE` appearing in COSE_Encrypt0?\r\n\r\n(The implementation I am working on treats the duplicate algorithms as perfect aliases.)",
          "createdAt": "2025-12-15T10:34:46Z",
          "updatedAt": "2025-12-15T10:34:46Z"
        },
        {
          "author": "laurencelundblade",
          "authorAssociation": "COLLABORATOR",
          "body": "> How is the receiver supposed to handle `HPKE-*` appearing in COSE_Recipient, or `HPKE-*-KE` appearing in COSE_Encrypt0?\r\n> \r\n> (The implementation I am working on treats the duplicate algorithms as perfect aliases.)\r\n\r\nI have the same question. I'm not sure why it matters for fully specified to separate these.\r\n",
          "createdAt": "2025-12-17T21:18:04Z",
          "updatedAt": "2025-12-17T21:18:04Z"
        },
        {
          "author": "selfissued",
          "authorAssociation": "CONTRIBUTOR",
          "body": "> How is the receiver supposed to handle HPKE-* appearing in COSE_Recipient, or HPKE-*-KE appearing in COSE_Encrypt0?\r\n\r\nIt is an error and the input MUST be rejected.  We need to add that to the spec.\r\n\r\n> I'm not sure why it matters for fully specified to separate these.\r\n\r\nThe need to be separated because the algorithms do different things.  Integrated Encryption puts the ciphertext in the COSE_Encrypt0 structure ciphertext field.  Key Encryption puts the ciphertext in the COSE_Recipient ciphertext field within the recipients field of a COSE_Encrypt structure.",
          "createdAt": "2025-12-17T22:36:54Z",
          "updatedAt": "2025-12-17T22:36:54Z"
        },
        {
          "author": "laurencelundblade",
          "authorAssociation": "COLLABORATOR",
          "body": "> > How is the receiver supposed to handle HPKE-* appearing in COSE_Recipient, or HPKE-*-KE appearing in COSE_Encrypt0?\r\n> \r\n> It is an error and the input MUST be rejected. We need to add that to the spec.\r\n> \r\n> > I'm not sure why it matters for fully specified to separate these.\r\n> \r\n> The need to be separated because the algorithms do different things. Integrated Encryption puts the ciphertext in the COSE_Encrypt0 structure ciphertext field. Key Encryption puts the ciphertext in the COSE_Recipient ciphertext field within the recipients field of a COSE_Encrypt structure.\r\n\r\nNo other algorithms in COSE are arranged like this, but maybe that's because none of them can be used for both bulk content encryption and CEK establishment like HPKE?",
          "createdAt": "2025-12-18T02:46:04Z",
          "updatedAt": "2025-12-18T02:46:04Z"
        },
        {
          "author": "ilaril",
          "authorAssociation": "CONTRIBUTOR",
          "body": "> > The need to be separated because the algorithms do different things. Integrated Encryption puts the ciphertext in the COSE_Encrypt0 structure ciphertext field. Key Encryption puts the ciphertext in the COSE_Recipient ciphertext field within the recipients field of a COSE_Encrypt structure.\r\n> \r\n> No other algorithms in COSE are arranged like this, but maybe that's because none of them can be used for both bulk content encryption and CEK establishment like HPKE?\r\n\r\nAll AEAD algorithms (which there are at least 12) can be used exactly that way. RFC 9052 section 5.3 would make no sense otherwise. And the implementation I wrote actually does that if adding a direct recipient (that is the only safe thing to do when bulk encryption is chacha20).\r\n\r\nThen RFC 9052 specifies that AE algorithms would also work that way, but allowing using those for bulk content encryption may lead to attacks (so implementations should reject messages using AE in bulk encryption position). All current AE algorithms are very slow anyway.",
          "createdAt": "2025-12-18T07:36:56Z",
          "updatedAt": "2025-12-18T07:44:49Z"
        },
        {
          "author": "selfissued",
          "authorAssociation": "CONTRIBUTOR",
          "body": "For Integrated Encryption, these are the HPKE info and aad values used:\r\n\r\n- info: Defaults to the empty string; externally provided information MAY be used instead.\r\n- aad: MUST contain the byte string for the authenticated data structure according to the steps defined in Section 5.3 of RFC 9052. For the Integrated Encryption mode the context string will be \"Encrypt0\".\r\n\r\nFor Key Encryption, these are the HPKE info and aad values used:\r\n\r\n- info: Deterministic encoding of the Recipient_structure.\r\n- aad: Defaults to the empty string; externally provided information MAY be used instead.\r\n\r\n@ilaril, since the computations performed by Integrated Encryption and Key Encryption are different, they therefore need to have different algorithm identifiers.\r\n",
          "createdAt": "2025-12-20T19:43:37Z",
          "updatedAt": "2025-12-20T19:43:37Z"
        },
        {
          "author": "ilaril",
          "authorAssociation": "CONTRIBUTOR",
          "body": "Recipient_structure contains protected parameters, and there is aad, so it should go to aad, not info.\r\n\r\nHowever, I think per-recipient protected parameters are a Bad Idea. Those are a security footgun and annoying to implement. \r\n\r\nCOSE and JOSE are just different and call for different approaches to things, so blindly \"aligning\" things is a Bad Idea. COSE and JOSE are not even in the same class: JOSE seems to aim to be a protocol, and COSE seems to aim to be a framework.",
          "createdAt": "2025-12-21T09:20:10Z",
          "updatedAt": "2025-12-21T09:26:44Z"
        }
      ],
      "reviews": [
        {
          "id": "PRR_kwDOGr5frc7VNSmV",
          "commit": {
            "abbreviatedOid": "fdf9b89"
          },
          "author": "hannestschofenig",
          "authorAssociation": "COLLABORATOR",
          "state": "APPROVED",
          "body": "Thanks for the edits. They all look good to me.",
          "createdAt": "2025-12-15T08:38:12Z",
          "updatedAt": "2025-12-15T08:38:12Z",
          "comments": []
        }
      ]
    },
    {
      "number": 98,
      "id": "PR_kwDOGr5frc64zaSo",
      "title": "Update Orie's contact info and add Mike as an author",
      "url": "https://github.com/cose-wg/draft-ietf-cose-hpke/pull/98",
      "state": "MERGED",
      "author": "selfissued",
      "authorAssociation": "CONTRIBUTOR",
      "assignees": [],
      "labels": [],
      "body": "Adding myself as an author after discussion with multiple other authors, since I've been acting as one for some time now.",
      "createdAt": "2025-12-14T22:59:29Z",
      "updatedAt": "2025-12-15T08:36:07Z",
      "baseRepository": "cose-wg/draft-ietf-cose-hpke",
      "baseRefName": "main",
      "baseRefOid": "90362652455930905f861ae064012c0e29b449ab",
      "headRepository": "cose-wg/draft-ietf-cose-hpke",
      "headRefName": "mbj-Orie-and-Mike",
      "headRefOid": "75032640b217b12a72cd6300a907424cb1dca26f",
      "closedAt": "2025-12-15T08:36:04Z",
      "mergedAt": "2025-12-15T08:36:03Z",
      "mergedBy": "hannestschofenig",
      "mergeCommit": {
        "oid": "061de2e68a59a151e797adb9fef072cffbf6ff99"
      },
      "comments": [],
      "reviews": [
        {
          "id": "PRR_kwDOGr5frc7VNQ6d",
          "commit": {
            "abbreviatedOid": "7503264"
          },
          "author": "hannestschofenig",
          "authorAssociation": "COLLABORATOR",
          "state": "APPROVED",
          "body": "Thanks for all your contributions, Mike!",
          "createdAt": "2025-12-15T08:35:56Z",
          "updatedAt": "2025-12-15T08:35:56Z",
          "comments": []
        }
      ]
    },
    {
      "number": 99,
      "id": "PR_kwDOGr5frc65c_ln",
      "title": "Improve wording for 'ek' param",
      "url": "https://github.com/cose-wg/draft-ietf-cose-hpke/pull/99",
      "state": "MERGED",
      "author": "laurencelundblade",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "",
      "createdAt": "2025-12-17T20:56:31Z",
      "updatedAt": "2025-12-20T19:34:40Z",
      "baseRepository": "cose-wg/draft-ietf-cose-hpke",
      "baseRefName": "main",
      "baseRefOid": "50afcb203000032e3618a52e359841f2e355226b",
      "headRepository": "cose-wg/draft-ietf-cose-hpke",
      "headRefName": "ek-clarify",
      "headRefOid": "bd00b3b386cb220db490c3f13363e4e88985e98a",
      "closedAt": "2025-12-20T19:34:40Z",
      "mergedAt": "2025-12-20T19:34:40Z",
      "mergedBy": "selfissued",
      "mergeCommit": {
        "oid": "da03bec7d2a4f20c94db5d035d3ab3b5edecc6a8"
      },
      "comments": [],
      "reviews": [
        {
          "id": "PRR_kwDOGr5frc7V-dlA",
          "commit": {
            "abbreviatedOid": "58bb35f"
          },
          "author": "selfissued",
          "authorAssociation": "CONTRIBUTOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2025-12-17T22:22:11Z",
          "updatedAt": "2025-12-17T22:22:11Z",
          "comments": [
            {
              "originalPosition": 13,
              "body": "Why are you saying that this must be an unprotected header parameter?  Is there a reason that it can't be in a protected header parameter?",
              "createdAt": "2025-12-17T22:22:11Z",
              "updatedAt": "2025-12-17T22:22:11Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOGr5frc7V-d0D",
          "commit": {
            "abbreviatedOid": "58bb35f"
          },
          "author": "selfissued",
          "authorAssociation": "CONTRIBUTOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2025-12-17T22:22:38Z",
          "updatedAt": "2025-12-17T22:22:38Z",
          "comments": [
            {
              "originalPosition": 14,
              "body": "```suggestion\nIt contains the encapsulated KEM shared secret.\n```",
              "createdAt": "2025-12-17T22:22:38Z",
              "updatedAt": "2025-12-17T22:22:38Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOGr5frc7WAehM",
          "commit": {
            "abbreviatedOid": "115fd46"
          },
          "author": "laurencelundblade",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2025-12-18T02:37:27Z",
          "updatedAt": "2025-12-18T02:37:27Z",
          "comments": [
            {
              "originalPosition": 13,
              "body": "I can't think of a reason, other than it doesn't need to be protected.\r\n\r\nI copied from the previous text which said it must be unprotected.\r\n\r\nMaybe Hannes has an opinion.",
              "createdAt": "2025-12-18T02:37:27Z",
              "updatedAt": "2025-12-18T02:37:27Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOGr5frc7WBAen",
          "commit": {
            "abbreviatedOid": "115fd46"
          },
          "author": "selfissued",
          "authorAssociation": "CONTRIBUTOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2025-12-18T03:25:51Z",
          "updatedAt": "2025-12-18T03:25:51Z",
          "comments": [
            {
              "originalPosition": 13,
              "body": "```suggestion\nIn both cases, the new COSE header parameter 'ek' MUST be present.\n```\n\nAt least when using Integrated Encryption, this can be a protected header parameter.",
              "createdAt": "2025-12-18T03:25:51Z",
              "updatedAt": "2025-12-18T03:25:51Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOGr5frc7WBNWd",
          "commit": {
            "abbreviatedOid": "115fd46"
          },
          "author": "laurencelundblade",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2025-12-18T03:57:01Z",
          "updatedAt": "2025-12-18T03:57:02Z",
          "comments": [
            {
              "originalPosition": 13,
              "body": "Mike, I can go either way on this, but it may simplify implementation a little if you know it is always unprotected.\r\n\r\nInterested in other opinions.",
              "createdAt": "2025-12-18T03:57:01Z",
              "updatedAt": "2025-12-18T03:57:02Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOGr5frc7WDi1G",
          "commit": {
            "abbreviatedOid": "115fd46"
          },
          "author": "ilaril",
          "authorAssociation": "CONTRIBUTOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2025-12-18T07:49:22Z",
          "updatedAt": "2025-12-18T07:49:22Z",
          "comments": [
            {
              "originalPosition": 13,
              "body": "It is not possible to protect 'ek' if using single-shot HPKE encryption.",
              "createdAt": "2025-12-18T07:49:22Z",
              "updatedAt": "2025-12-18T07:49:22Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOGr5frc7WDn2D",
          "commit": {
            "abbreviatedOid": "115fd46"
          },
          "author": "ilaril",
          "authorAssociation": "CONTRIBUTOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2025-12-18T07:56:03Z",
          "updatedAt": "2025-12-18T07:56:03Z",
          "comments": [
            {
              "originalPosition": 13,
              "body": "Nope, there is no difference between bulk and CEK encryption in COSE.\r\n\r\n(The implementation I wrote does always writes it out unprotected, as writing protected algorithm parameters is not supported at all. It ignores protection status of any algorithm header when as receiver.)\r\n",
              "createdAt": "2025-12-18T07:56:03Z",
              "updatedAt": "2025-12-18T08:01:37Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOGr5frc7WRp5e",
          "commit": {
            "abbreviatedOid": "115fd46"
          },
          "author": "laurencelundblade",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2025-12-18T20:38:27Z",
          "updatedAt": "2025-12-18T20:38:27Z",
          "comments": [
            {
              "originalPosition": 13,
              "body": "I looked at my t_cose implementation and at other unprotected parameters like kid and content type. They all work with fine with either protected and unprotected, so I agree with you now, Mike.\r\n\r\nThis is a change in semantics from previous drafts, but I think it's what we should do.\r\n\r\nI'll wait a while for other comments before accepting your change.",
              "createdAt": "2025-12-18T20:38:27Z",
              "updatedAt": "2025-12-18T20:38:27Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOGr5frc7WR-l-",
          "commit": {
            "abbreviatedOid": "115fd46"
          },
          "author": "ilaril",
          "authorAssociation": "CONTRIBUTOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2025-12-18T21:03:11Z",
          "updatedAt": "2025-12-18T21:03:11Z",
          "comments": [
            {
              "originalPosition": 13,
              "body": "It is okay to _allow_ 'ek' to be protected (as this change does), but not okay to _require_ it (since it is nontrivial for sender). So yeah, seems fine.\r\n\r\nAnd as said, the implementation I wrote can handle 'ek' in protected bucket just fine. Any allowed parameter can be protected if the algorithm allows protected parameters at all.",
              "createdAt": "2025-12-18T21:03:11Z",
              "updatedAt": "2025-12-18T21:03:12Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOGr5frc7Wpobi",
          "commit": {
            "abbreviatedOid": "bd00b3b"
          },
          "author": "selfissued",
          "authorAssociation": "CONTRIBUTOR",
          "state": "APPROVED",
          "body": "There appears to be consensus for this wording improvement.",
          "createdAt": "2025-12-20T19:34:30Z",
          "updatedAt": "2025-12-20T19:34:30Z",
          "comments": []
        }
      ]
    },
    {
      "number": 100,
      "id": "PR_kwDOGr5frc67Sj8E",
      "title": "Update for Integrated Encryption Example",
      "url": "https://github.com/cose-wg/draft-ietf-cose-hpke/pull/100",
      "state": "MERGED",
      "author": "hannestschofenig",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "Updated the COSE HPKE Integrated Encryption Mode example following the recent changes to the draft.",
      "createdAt": "2026-01-02T14:12:23Z",
      "updatedAt": "2026-01-09T16:11:34Z",
      "baseRepository": "cose-wg/draft-ietf-cose-hpke",
      "baseRefName": "main",
      "baseRefOid": "da03bec7d2a4f20c94db5d035d3ab3b5edecc6a8",
      "headRepository": "cose-wg/draft-ietf-cose-hpke",
      "headRefName": "hannestschofenig-patch-10",
      "headRefOid": "eb0fc242a1ffd987bd7c775f756a2b24a6fe39d8",
      "closedAt": "2026-01-09T16:11:33Z",
      "mergedAt": "2026-01-09T16:11:33Z",
      "mergedBy": "selfissued",
      "mergeCommit": {
        "oid": "4c6f9d212723158e183ff1cfd1537e0f53f4c6e9"
      },
      "comments": [],
      "reviews": [
        {
          "id": "PRR_kwDOGr5frc7YAqrn",
          "commit": {
            "abbreviatedOid": "eb0fc24"
          },
          "author": "selfissued",
          "authorAssociation": "CONTRIBUTOR",
          "state": "APPROVED",
          "body": "",
          "createdAt": "2026-01-02T23:31:07Z",
          "updatedAt": "2026-01-02T23:31:07Z",
          "comments": []
        }
      ]
    },
    {
      "number": 101,
      "id": "PR_kwDOGr5frc67TMpd",
      "title": "Updated HPKE Key Encryption Example",
      "url": "https://github.com/cose-wg/draft-ietf-cose-hpke/pull/101",
      "state": "MERGED",
      "author": "hannestschofenig",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "Updated the COSE HPKE Key Encryption example because of the recent changes in the draft.",
      "createdAt": "2026-01-02T15:56:58Z",
      "updatedAt": "2026-01-09T16:12:13Z",
      "baseRepository": "cose-wg/draft-ietf-cose-hpke",
      "baseRefName": "main",
      "baseRefOid": "da03bec7d2a4f20c94db5d035d3ab3b5edecc6a8",
      "headRepository": "cose-wg/draft-ietf-cose-hpke",
      "headRefName": "hannestschofenig-patch-11",
      "headRefOid": "32c639b2177e3db8c6053dcfe47d98f8c38d91b7",
      "closedAt": "2026-01-09T16:12:13Z",
      "mergedAt": "2026-01-09T16:12:13Z",
      "mergedBy": "selfissued",
      "mergeCommit": {
        "oid": "fb190344467c9cc7ed8811934f32416dcd8321ee"
      },
      "comments": [],
      "reviews": [
        {
          "id": "PRR_kwDOGr5frc7YAqwZ",
          "commit": {
            "abbreviatedOid": "32c639b"
          },
          "author": "selfissued",
          "authorAssociation": "CONTRIBUTOR",
          "state": "APPROVED",
          "body": "",
          "createdAt": "2026-01-02T23:31:41Z",
          "updatedAt": "2026-01-02T23:31:41Z",
          "comments": []
        }
      ]
    },
    {
      "number": 102,
      "id": "PR_kwDOGr5frc67TQIQ",
      "title": "Removed unnecessary terms",
      "url": "https://github.com/cose-wg/draft-ietf-cose-hpke/pull/102",
      "state": "CLOSED",
      "author": "hannestschofenig",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "",
      "createdAt": "2026-01-02T16:03:28Z",
      "updatedAt": "2026-01-02T16:21:46Z",
      "baseRepository": "cose-wg/draft-ietf-cose-hpke",
      "baseRefName": "main",
      "baseRefOid": "da03bec7d2a4f20c94db5d035d3ab3b5edecc6a8",
      "headRepository": "cose-wg/draft-ietf-cose-hpke",
      "headRefName": "hannestschofenig-patch-12",
      "headRefOid": "3c60d62a33d3780d6518cc1ddeec2c41853b07c7",
      "closedAt": "2026-01-02T16:21:46Z",
      "mergedAt": null,
      "mergedBy": null,
      "mergeCommit": null,
      "comments": [],
      "reviews": []
    },
    {
      "number": 103,
      "id": "PR_kwDOGr5frc67TTWy",
      "title": "Revise section headings in draft-ietf-cose-hpke.md",
      "url": "https://github.com/cose-wg/draft-ietf-cose-hpke/pull/103",
      "state": "MERGED",
      "author": "hannestschofenig",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "",
      "createdAt": "2026-01-02T16:10:37Z",
      "updatedAt": "2026-01-09T16:13:20Z",
      "baseRepository": "cose-wg/draft-ietf-cose-hpke",
      "baseRefName": "main",
      "baseRefOid": "da03bec7d2a4f20c94db5d035d3ab3b5edecc6a8",
      "headRepository": "cose-wg/draft-ietf-cose-hpke",
      "headRefName": "hannestschofenig-patch-13",
      "headRefOid": "7e551e3feac79b5dff90c952c2c4b5ac4e1086a1",
      "closedAt": "2026-01-09T16:13:20Z",
      "mergedAt": "2026-01-09T16:13:20Z",
      "mergedBy": "selfissued",
      "mergeCommit": {
        "oid": "94a2a4740417f3b850bec59a65017756e125dbf4"
      },
      "comments": [],
      "reviews": [
        {
          "id": "PRR_kwDOGr5frc7YAoar",
          "commit": {
            "abbreviatedOid": "7e551e3"
          },
          "author": "selfissued",
          "authorAssociation": "CONTRIBUTOR",
          "state": "APPROVED",
          "body": "",
          "createdAt": "2026-01-02T23:15:07Z",
          "updatedAt": "2026-01-02T23:15:07Z",
          "comments": []
        }
      ]
    },
    {
      "number": 104,
      "id": "PR_kwDOGr5frc67TaUO",
      "title": "Update AAD information handling in Integrated Encryption",
      "url": "https://github.com/cose-wg/draft-ietf-cose-hpke/pull/104",
      "state": "MERGED",
      "author": "hannestschofenig",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "Clarified the use of externally provided AAD information in the Integrated Encryption mode and noted that it must be passed into the external_aad field of the Enc_structure.\r\n\r\nThis part was left unspecified and not allowing externally supplied AAD information creates an imbalance with the HPKE Key Encryption mode.",
      "createdAt": "2026-01-02T16:31:35Z",
      "updatedAt": "2026-01-09T16:16:01Z",
      "baseRepository": "cose-wg/draft-ietf-cose-hpke",
      "baseRefName": "main",
      "baseRefOid": "da03bec7d2a4f20c94db5d035d3ab3b5edecc6a8",
      "headRepository": "cose-wg/draft-ietf-cose-hpke",
      "headRefName": "hannestschofenig-patch-14",
      "headRefOid": "a53c50cfb2d1f04fb34f95a2ba24679cd333cf20",
      "closedAt": "2026-01-09T16:16:01Z",
      "mergedAt": "2026-01-09T16:16:01Z",
      "mergedBy": "selfissued",
      "mergeCommit": {
        "oid": "0a6428b6779dd451b3c984b858a88d89a973795a"
      },
      "comments": [],
      "reviews": [
        {
          "id": "PRR_kwDOGr5frc7YAqIW",
          "commit": {
            "abbreviatedOid": "77f8b05"
          },
          "author": "selfissued",
          "authorAssociation": "CONTRIBUTOR",
          "state": "APPROVED",
          "body": "",
          "createdAt": "2026-01-02T23:26:57Z",
          "updatedAt": "2026-01-02T23:26:57Z",
          "comments": []
        },
        {
          "id": "PRR_kwDOGr5frc7ZPJAh",
          "commit": {
            "abbreviatedOid": "77f8b05"
          },
          "author": "selfissued",
          "authorAssociation": "CONTRIBUTOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2026-01-09T16:14:07Z",
          "updatedAt": "2026-01-09T16:14:08Z",
          "comments": [
            {
              "originalPosition": 5,
              "body": "```suggestion\nFor the Integrated Encryption mode the context string will be \"Encrypt0\".\nExternally provided AAD information MAY be provided and MUST be passed into the Enc_structure via the external_aad field.\n```",
              "createdAt": "2026-01-09T16:14:07Z",
              "updatedAt": "2026-01-09T16:14:08Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOGr5frc7ZPJ6m",
          "commit": {
            "abbreviatedOid": "77f8b05"
          },
          "author": "selfissued",
          "authorAssociation": "CONTRIBUTOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2026-01-09T16:14:53Z",
          "updatedAt": "2026-01-09T16:14:53Z",
          "comments": [
            {
              "originalPosition": 5,
              "body": "```suggestion\nFor the Integrated Encryption mode the context string will be \"Encrypt0\".\nExternally provided AAD information MAY be provided and MUST be passed into the Enc_structure via the external_aad field.\n```",
              "createdAt": "2026-01-09T16:14:53Z",
              "updatedAt": "2026-01-09T16:14:53Z"
            }
          ]
        }
      ]
    },
    {
      "number": 105,
      "id": "PR_kwDOGr5frc67TcRx",
      "title": "Clarify requirements for 'aad' field",
      "url": "https://github.com/cose-wg/draft-ietf-cose-hpke/pull/105",
      "state": "MERGED",
      "author": "hannestschofenig",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "Updated the requirements for the 'aad' field to specify that it must contain the byte string for the authenticated data structure and provided details on the context string and external AAD information.",
      "createdAt": "2026-01-02T16:37:20Z",
      "updatedAt": "2026-01-09T16:19:00Z",
      "baseRepository": "cose-wg/draft-ietf-cose-hpke",
      "baseRefName": "main",
      "baseRefOid": "da03bec7d2a4f20c94db5d035d3ab3b5edecc6a8",
      "headRepository": "cose-wg/draft-ietf-cose-hpke",
      "headRefName": "hannestschofenig-patch-15-1",
      "headRefOid": "36c3d45866c0246ddd01cf8cd2be05725fae85e6",
      "closedAt": "2026-01-09T16:19:00Z",
      "mergedAt": "2026-01-09T16:18:59Z",
      "mergedBy": "selfissued",
      "mergeCommit": {
        "oid": "bbb9435b4d291d7d8c13cb62e28c220a2a43a92e"
      },
      "comments": [],
      "reviews": [
        {
          "id": "PRR_kwDOGr5frc7YAqUt",
          "commit": {
            "abbreviatedOid": "36c3d45"
          },
          "author": "selfissued",
          "authorAssociation": "CONTRIBUTOR",
          "state": "APPROVED",
          "body": "",
          "createdAt": "2026-01-02T23:28:26Z",
          "updatedAt": "2026-01-02T23:28:26Z",
          "comments": []
        }
      ]
    },
    {
      "number": 106,
      "id": "PR_kwDOGr5frc67TdsW",
      "title": "Update 'aad' field description",
      "url": "https://github.com/cose-wg/draft-ietf-cose-hpke/pull/106",
      "state": "CLOSED",
      "author": "hannestschofenig",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "Update 'aad' field description for the HPKE Integrated Encryption for decryption in draft-ietf-cose-hpke",
      "createdAt": "2026-01-02T16:41:07Z",
      "updatedAt": "2026-01-02T16:43:10Z",
      "baseRepository": "cose-wg/draft-ietf-cose-hpke",
      "baseRefName": "main",
      "baseRefOid": "da03bec7d2a4f20c94db5d035d3ab3b5edecc6a8",
      "headRepository": "cose-wg/draft-ietf-cose-hpke",
      "headRefName": "hannestschofenig-patch-15",
      "headRefOid": "6b33cfad1d4fce209799e7d244fdc95cdcea4933",
      "closedAt": "2026-01-02T16:43:10Z",
      "mergedAt": null,
      "mergedBy": null,
      "mergeCommit": null,
      "comments": [],
      "reviews": []
    },
    {
      "number": 107,
      "id": "PR_kwDOGr5frc67TfjQ",
      "title": "Update info field description",
      "url": "https://github.com/cose-wg/draft-ietf-cose-hpke/pull/107",
      "state": "MERGED",
      "author": "hannestschofenig",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "Clarified the info field in the HPKE Key Encryption mode",
      "createdAt": "2026-01-02T16:46:49Z",
      "updatedAt": "2026-01-09T16:20:25Z",
      "baseRepository": "cose-wg/draft-ietf-cose-hpke",
      "baseRefName": "main",
      "baseRefOid": "da03bec7d2a4f20c94db5d035d3ab3b5edecc6a8",
      "headRepository": "cose-wg/draft-ietf-cose-hpke",
      "headRefName": "hannestschofenig-patch-16",
      "headRefOid": "cac5cd36a0b17b2af4323c2d657cf5c873edbcaa",
      "closedAt": "2026-01-09T16:20:25Z",
      "mergedAt": "2026-01-09T16:20:25Z",
      "mergedBy": "selfissued",
      "mergeCommit": {
        "oid": "4bb6c3d9b715e755d33af15b93816cea13f78a1d"
      },
      "comments": [],
      "reviews": [
        {
          "id": "PRR_kwDOGr5frc7YAqjX",
          "commit": {
            "abbreviatedOid": "cac5cd3"
          },
          "author": "selfissued",
          "authorAssociation": "CONTRIBUTOR",
          "state": "APPROVED",
          "body": "",
          "createdAt": "2026-01-02T23:30:12Z",
          "updatedAt": "2026-01-02T23:30:12Z",
          "comments": []
        }
      ]
    },
    {
      "number": 108,
      "id": "PR_kwDOGr5frc67V4TY",
      "title": "Use algorithm identifiers in the correct mode",
      "url": "https://github.com/cose-wg/draft-ietf-cose-hpke/pull/108",
      "state": "MERGED",
      "author": "selfissued",
      "authorAssociation": "CONTRIBUTOR",
      "assignees": [],
      "labels": [],
      "body": "",
      "createdAt": "2026-01-02T23:49:21Z",
      "updatedAt": "2026-01-09T16:20:59Z",
      "baseRepository": "cose-wg/draft-ietf-cose-hpke",
      "baseRefName": "main",
      "baseRefOid": "da03bec7d2a4f20c94db5d035d3ab3b5edecc6a8",
      "headRepository": "cose-wg/draft-ietf-cose-hpke",
      "headRefName": "mbj-use-correct-mode",
      "headRefOid": "4a650537965ce0c5ab186eb4401a1a64b0e99d62",
      "closedAt": "2026-01-09T16:20:56Z",
      "mergedAt": "2026-01-09T16:20:56Z",
      "mergedBy": "hannestschofenig",
      "mergeCommit": {
        "oid": "9dd430efec82aff84cdb2fd053148424d5893654"
      },
      "comments": [],
      "reviews": [
        {
          "id": "PRR_kwDOGr5frc7YB4X1",
          "commit": {
            "abbreviatedOid": "4a65053"
          },
          "author": "hannestschofenig",
          "authorAssociation": "COLLABORATOR",
          "state": "APPROVED",
          "body": "A good addition, Mike.",
          "createdAt": "2026-01-03T15:32:06Z",
          "updatedAt": "2026-01-03T15:32:06Z",
          "comments": []
        }
      ]
    },
    {
      "number": 109,
      "id": "PR_kwDOGr5frc6_slXI",
      "title": "Updated Integrated Encryption Mode Example",
      "url": "https://github.com/cose-wg/draft-ietf-cose-hpke/pull/109",
      "state": "MERGED",
      "author": "hannestschofenig",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "",
      "createdAt": "2026-01-27T20:35:43Z",
      "updatedAt": "2026-02-02T13:50:26Z",
      "baseRepository": "cose-wg/draft-ietf-cose-hpke",
      "baseRefName": "main",
      "baseRefOid": "9dd430efec82aff84cdb2fd053148424d5893654",
      "headRepository": "cose-wg/draft-ietf-cose-hpke",
      "headRefName": "hannestschofenig-patch-17",
      "headRefOid": "00f58170cd151eb14e9f385b2439d76a77263e51",
      "closedAt": "2026-02-02T13:50:23Z",
      "mergedAt": "2026-02-02T13:50:23Z",
      "mergedBy": "hannestschofenig",
      "mergeCommit": {
        "oid": "e9a700c887461e4e8581d89a64412cdda48692f3"
      },
      "comments": [
        {
          "author": "hannestschofenig",
          "authorAssociation": "COLLABORATOR",
          "body": "Updated example, as requested.",
          "createdAt": "2026-02-01T18:19:17Z",
          "updatedAt": "2026-02-01T18:19:17Z"
        },
        {
          "author": "hannestschofenig",
          "authorAssociation": "COLLABORATOR",
          "body": "The changes in the ciphertext are a result of the change to the empty aad & info values.",
          "createdAt": "2026-02-02T13:46:24Z",
          "updatedAt": "2026-02-02T13:46:24Z"
        }
      ],
      "reviews": [
        {
          "id": "PRR_kwDOGr5frc7dVae8",
          "commit": {
            "abbreviatedOid": "0982c37"
          },
          "author": "hannestschofenig",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2026-01-27T20:44:36Z",
          "updatedAt": "2026-01-27T20:44:54Z",
          "comments": [
            {
              "originalPosition": 69,
              "body": "```suggestion\n}\n~~~\n```",
              "createdAt": "2026-01-27T20:44:36Z",
              "updatedAt": "2026-01-27T20:44:54Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOGr5frc7dWWT8",
          "commit": {
            "abbreviatedOid": "e009fc6"
          },
          "author": "selfissued",
          "authorAssociation": "CONTRIBUTOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2026-01-27T21:50:52Z",
          "updatedAt": "2026-01-27T21:50:52Z",
          "comments": [
            {
              "originalPosition": 27,
              "body": "```suggestion\n    1 /alg/: 35 /HPKE-0 (P-256 + HKDF-SHA256 + AES-128-GCM)/\n```\n\nDelete extra space that was somehow added.",
              "createdAt": "2026-01-27T21:50:52Z",
              "updatedAt": "2026-01-27T21:50:52Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOGr5frc7dgKb3",
          "commit": {
            "abbreviatedOid": "e009fc6"
          },
          "author": "selfissued",
          "authorAssociation": "CONTRIBUTOR",
          "state": "CHANGES_REQUESTED",
          "body": "Let's keep the first examples for each kind of encryption using the default empty info and aad values, as that's what most people will use.\n\nIf you want to add additional examples showing the use of non-empty values, that's fine with me.",
          "createdAt": "2026-01-28T11:30:20Z",
          "updatedAt": "2026-01-28T11:30:20Z",
          "comments": []
        },
        {
          "id": "PRR_kwDOGr5frc7eutEn",
          "commit": {
            "abbreviatedOid": "00f5817"
          },
          "author": "selfissued",
          "authorAssociation": "CONTRIBUTOR",
          "state": "APPROVED",
          "body": "Is the updated ciphertext at lines 458-461 correct or is a holdover from changing to using a non-empty info value?",
          "createdAt": "2026-02-01T23:00:54Z",
          "updatedAt": "2026-02-01T23:00:54Z",
          "comments": []
        }
      ]
    },
    {
      "number": 110,
      "id": "PR_kwDOGr5frc7AvW5F",
      "title": "Testvectors",
      "url": "https://github.com/cose-wg/draft-ietf-cose-hpke/pull/110",
      "state": "MERGED",
      "author": "hannestschofenig",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "",
      "createdAt": "2026-02-01T17:48:47Z",
      "updatedAt": "2026-02-02T13:50:08Z",
      "baseRepository": "cose-wg/draft-ietf-cose-hpke",
      "baseRefName": "main",
      "baseRefOid": "9dd430efec82aff84cdb2fd053148424d5893654",
      "headRepository": "cose-wg/draft-ietf-cose-hpke",
      "headRefName": "testvectors",
      "headRefOid": "c850a134e680f7765a71ca59730dee0e4ed306f2",
      "closedAt": "2026-02-02T13:50:05Z",
      "mergedAt": "2026-02-02T13:50:05Z",
      "mergedBy": "hannestschofenig",
      "mergeCommit": {
        "oid": "a51bc863a5c0116aa92dd9c9e1ee17b56e7babf7"
      },
      "comments": [],
      "reviews": [
        {
          "id": "PRR_kwDOGr5frc7euuEN",
          "commit": {
            "abbreviatedOid": "cdbf0fc"
          },
          "author": "selfissued",
          "authorAssociation": "CONTRIBUTOR",
          "state": "APPROVED",
          "body": "",
          "createdAt": "2026-02-01T23:03:34Z",
          "updatedAt": "2026-02-01T23:03:34Z",
          "comments": []
        }
      ]
    },
    {
      "number": 111,
      "id": "PR_kwDOGr5frc7Av73F",
      "title": "Updated key encryption example.",
      "url": "https://github.com/cose-wg/draft-ietf-cose-hpke/pull/111",
      "state": "MERGED",
      "author": "hannestschofenig",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "",
      "createdAt": "2026-02-01T19:17:22Z",
      "updatedAt": "2026-02-02T13:49:55Z",
      "baseRepository": "cose-wg/draft-ietf-cose-hpke",
      "baseRefName": "main",
      "baseRefOid": "9dd430efec82aff84cdb2fd053148424d5893654",
      "headRepository": "cose-wg/draft-ietf-cose-hpke",
      "headRefName": "ke-example",
      "headRefOid": "14f3e0206caf37a36858e4e9c8e30c8708d62647",
      "closedAt": "2026-02-02T13:49:51Z",
      "mergedAt": "2026-02-02T13:49:51Z",
      "mergedBy": "hannestschofenig",
      "mergeCommit": {
        "oid": "a104544033915261dc3f2218678aeaa9366f4af1"
      },
      "comments": [],
      "reviews": [
        {
          "id": "PRR_kwDOGr5frc7eutW-",
          "commit": {
            "abbreviatedOid": "14f3e02"
          },
          "author": "selfissued",
          "authorAssociation": "CONTRIBUTOR",
          "state": "APPROVED",
          "body": "",
          "createdAt": "2026-02-01T23:02:10Z",
          "updatedAt": "2026-02-01T23:02:10Z",
          "comments": []
        }
      ]
    },
    {
      "number": 113,
      "id": "PR_kwDOGr5frc7CEBbU",
      "title": "Rework of key encryption mode section",
      "url": "https://github.com/cose-wg/draft-ietf-cose-hpke/pull/113",
      "state": "OPEN",
      "author": "laurencelundblade",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "This is NOT ready to merge, but I'm making it available sooner rather than later.\r\n\r\nI'm having trouble with the document make system, so this may break the CI.",
      "createdAt": "2026-02-06T18:56:36Z",
      "updatedAt": "2026-02-09T20:17:59Z",
      "baseRepository": "cose-wg/draft-ietf-cose-hpke",
      "baseRefName": "main",
      "baseRefOid": "e9a700c887461e4e8581d89a64412cdda48692f3",
      "headRepository": "cose-wg/draft-ietf-cose-hpke",
      "headRefName": "r2_improve",
      "headRefOid": "50c0462328021b732929e06da3acd9c30cf1b07b",
      "closedAt": null,
      "mergedAt": null,
      "mergedBy": null,
      "mergeCommit": null,
      "comments": [
        {
          "author": "hannestschofenig",
          "authorAssociation": "COLLABORATOR",
          "body": "Hi Laurence, \r\n\r\nI think it is the wrong time to re-write the section again. If you have some specific comments, please focus on those. This document has been in development for a long, long time already. Additionally, we have synced the content with the JOSE HPKE work as well.\r\n",
          "createdAt": "2026-02-08T17:43:16Z",
          "updatedAt": "2026-02-08T17:43:16Z"
        },
        {
          "author": "laurencelundblade",
          "authorAssociation": "COLLABORATOR",
          "body": "Understood that we need to work on this one specific problem at a time. I've opened some issues to describe the problems.\r\n\r\nI had to do the rewrite to get my thinking clear. Sorry for the trouble caused by dumping it in one PR.",
          "createdAt": "2026-02-09T20:17:59Z",
          "updatedAt": "2026-02-09T20:17:59Z"
        }
      ],
      "reviews": [
        {
          "id": "PRR_kwDOGr5frc7guKlE",
          "commit": {
            "abbreviatedOid": "50c0462"
          },
          "author": "selfissued",
          "authorAssociation": "CONTRIBUTOR",
          "state": "CHANGES_REQUESTED",
          "body": "I agree with Hannes.  This is far more invasive than is called for at this stage in the draft (WGLC).\n\nPlease close this PR and if you want, replace it with a different one that fixes specific local problems in the exposition.",
          "createdAt": "2026-02-08T19:13:12Z",
          "updatedAt": "2026-02-08T19:13:12Z",
          "comments": []
        }
      ]
    },
    {
      "number": 114,
      "id": "PR_kwDOGr5frc7COStP",
      "title": "test-build",
      "url": "https://github.com/cose-wg/draft-ietf-cose-hpke/pull/114",
      "state": "CLOSED",
      "author": "laurencelundblade",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "trying to make sure the CI build really works",
      "createdAt": "2026-02-07T21:10:15Z",
      "updatedAt": "2026-02-07T21:45:11Z",
      "baseRepository": "cose-wg/draft-ietf-cose-hpke",
      "baseRefName": "main",
      "baseRefOid": "e9a700c887461e4e8581d89a64412cdda48692f3",
      "headRepository": "cose-wg/draft-ietf-cose-hpke",
      "headRefName": "test-build",
      "headRefOid": "265fc77acae9f930311cf5ce99a2d52196de6c2a",
      "closedAt": "2026-02-07T21:45:10Z",
      "mergedAt": null,
      "mergedBy": null,
      "mergeCommit": null,
      "comments": [
        {
          "author": "laurencelundblade",
          "authorAssociation": "COLLABORATOR",
          "body": "Done debugging. Don't need this.",
          "createdAt": "2026-02-07T21:45:10Z",
          "updatedAt": "2026-02-07T21:45:10Z"
        }
      ],
      "reviews": []
    },
    {
      "number": 124,
      "id": "PR_kwDOGr5frc7DDUQn",
      "title": "Security Design Rationale",
      "url": "https://github.com/cose-wg/draft-ietf-cose-hpke/pull/124",
      "state": "OPEN",
      "author": "laurencelundblade",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "Address #120\r\n\r\nMove the lamps attack comment from the specification text and put it in a design rationale section\r\n\r\nAdd the rationale for not using the COSE_KDF_Context\r\n",
      "createdAt": "2026-02-11T16:21:50Z",
      "updatedAt": "2026-02-11T16:21:50Z",
      "baseRepository": "cose-wg/draft-ietf-cose-hpke",
      "baseRefName": "main",
      "baseRefOid": "e9a700c887461e4e8581d89a64412cdda48692f3",
      "headRepository": "cose-wg/draft-ietf-cose-hpke",
      "headRefName": "sec-com",
      "headRefOid": "1449e7e55bf124e5f9ba8416f29502045a93320f",
      "closedAt": null,
      "mergedAt": null,
      "mergedBy": null,
      "mergeCommit": null,
      "comments": [],
      "reviews": []
    },
    {
      "number": 125,
      "id": "PR_kwDOGr5frc7DDltz",
      "title": "Consistently double quote all COSE header parameters",
      "url": "https://github.com/cose-wg/draft-ietf-cose-hpke/pull/125",
      "state": "OPEN",
      "author": "laurencelundblade",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "Fixes #117 and many other header parameters names",
      "createdAt": "2026-02-11T16:37:50Z",
      "updatedAt": "2026-02-11T16:37:50Z",
      "baseRepository": "cose-wg/draft-ietf-cose-hpke",
      "baseRefName": "main",
      "baseRefOid": "e9a700c887461e4e8581d89a64412cdda48692f3",
      "headRepository": "cose-wg/draft-ietf-cose-hpke",
      "headRefName": "alg-quote",
      "headRefOid": "8d79611b2bb376653a646805b3870a4a2b667212",
      "closedAt": null,
      "mergedAt": null,
      "mergedBy": null,
      "mergeCommit": null,
      "comments": [],
      "reviews": []
    },
    {
      "number": 126,
      "id": "PR_kwDOGr5frc7DnIeB",
      "title": "Consistent use of 'CEK'",
      "url": "https://github.com/cose-wg/draft-ietf-cose-hpke/pull/126",
      "state": "OPEN",
      "author": "laurencelundblade",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "Most minor rewording around the CEK.\r\n\r\nChanged the reference for CEK to 9052 rather than CMS which is more consistent and eliminated the need for a CMS reference.\r\n\r\n#115 ",
      "createdAt": "2026-02-13T17:28:50Z",
      "updatedAt": "2026-02-13T17:28:50Z",
      "baseRepository": "cose-wg/draft-ietf-cose-hpke",
      "baseRefName": "main",
      "baseRefOid": "e9a700c887461e4e8581d89a64412cdda48692f3",
      "headRepository": "cose-wg/draft-ietf-cose-hpke",
      "headRefName": "CEK",
      "headRefOid": "8d1218ce4e7cb7adeb4d6dbf7fc1df1a5b35df17",
      "closedAt": null,
      "mergedAt": null,
      "mergedBy": null,
      "mergeCommit": null,
      "comments": [],
      "reviews": []
    },
    {
      "number": 127,
      "id": "PR_kwDOGr5frc7Dnhvt",
      "title": "deterministic serialization of Recipient_structure",
      "url": "https://github.com/cose-wg/draft-ietf-cose-hpke/pull/127",
      "state": "OPEN",
      "author": "laurencelundblade",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "Fixes #112",
      "createdAt": "2026-02-13T17:57:00Z",
      "updatedAt": "2026-02-13T17:57:00Z",
      "baseRepository": "cose-wg/draft-ietf-cose-hpke",
      "baseRefName": "main",
      "baseRefOid": "e9a700c887461e4e8581d89a64412cdda48692f3",
      "headRepository": "cose-wg/draft-ietf-cose-hpke",
      "headRefName": "deterministic",
      "headRefOid": "d24cb8927dc4bba6d4b876d0dfeac19d89277592",
      "closedAt": null,
      "mergedAt": null,
      "mergedBy": null,
      "mergeCommit": null,
      "comments": [],
      "reviews": []
    },
    {
      "number": 128,
      "id": "PR_kwDOGr5frc7DnlAO",
      "title": "Fix 'serialized_map' in CDDL",
      "url": "https://github.com/cose-wg/draft-ietf-cose-hpke/pull/128",
      "state": "OPEN",
      "author": "laurencelundblade",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "This is a reference to the CDDL in RFC 9052 -- should be \"serialized\", not \"serialize\".",
      "createdAt": "2026-02-13T18:00:43Z",
      "updatedAt": "2026-02-13T18:00:43Z",
      "baseRepository": "cose-wg/draft-ietf-cose-hpke",
      "baseRefName": "main",
      "baseRefOid": "e9a700c887461e4e8581d89a64412cdda48692f3",
      "headRepository": "cose-wg/draft-ietf-cose-hpke",
      "headRefName": "serialized",
      "headRefOid": "0b08c7cc471c1aa9be8855b955a0a77f96e41d7e",
      "closedAt": null,
      "mergedAt": null,
      "mergedBy": null,
      "mergeCommit": null,
      "comments": [],
      "reviews": []
    },
    {
      "number": 129,
      "id": "PR_kwDOGr5frc7D9iIY",
      "title": "Ciphersuites",
      "url": "https://github.com/cose-wg/draft-ietf-cose-hpke/pull/129",
      "state": "OPEN",
      "author": "laurencelundblade",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "Most importantly the text that links Seal/Open API to cipher suites.\r\n\r\nAlso improves text about cipher suites.\r\n\r\nAddres #121 ",
      "createdAt": "2026-02-15T22:48:14Z",
      "updatedAt": "2026-02-16T01:33:23Z",
      "baseRepository": "cose-wg/draft-ietf-cose-hpke",
      "baseRefName": "main",
      "baseRefOid": "e9a700c887461e4e8581d89a64412cdda48692f3",
      "headRepository": "cose-wg/draft-ietf-cose-hpke",
      "headRefName": "ciphersuite-ref",
      "headRefOid": "cdc9287a6e4971cff301f769cdd41c3508a0bdad",
      "closedAt": null,
      "mergedAt": null,
      "mergedBy": null,
      "mergeCommit": null,
      "comments": [],
      "reviews": []
    }
  ]
}